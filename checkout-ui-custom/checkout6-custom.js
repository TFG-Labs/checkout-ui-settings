(()=>{var t={429:(t,e,o)=>{t.exports=o.p+"checkout6-custom.css"},776:()=>{"use strict";const t="#/shipping",e="customshippinginfo",o=(()=>{const e={categories:{}},o=t=>{const e={};return t.forEach((t=>{Object.assign(e,t.productCategories)})),e},r=()=>{window.location.hash===t&&setTimeout((()=>{if(vtexjs.checkout.orderForm){const{items:t}=vtexjs.checkout.orderForm;e.categories={...o(t)}}}),500)};return $(document).ready((()=>{r()})),$(window).on("hashchange orderFormUpdated.vtex",(()=>{r()})),{init:()=>{window.CartController=void 0},state:e}})(),r=(()=>{const e={showFurnitureForm:!1,showTVIDForm:!1,showRICAMsg:!1,showMixedCategoriesMsg:!1},r={furnitureId:"1",tvId:"1",simCardId:"1",furnitureForm:{buildingType:["Free standing","House in complex","Townhouse","Apartment"],parkingDistance:[15,25,50,100],deliveryFloor:["1","2","3+"],liftStairs:["lift","stairs"]},RICAMsg:"You can't collect this order in store because your cart contains items which require either RICA or TV License validation.",MixedProductsMsg:"We'll ship your furniture and other items in your cart to the selected address. Only the furniture delivery fee will apply."},i=()=>{window.location.hash===t&&(e.showFurnitureForm=!1,e.showTVIDForm=!1,e.showRICAMsg=!1,e.showMixedCategoriesMsg=!1,setTimeout((()=>{(()=>{const{categories:t}=o.state;Object.entries(t).forEach((t=>{const[o]=t[0];e.showFurnitureForm=!e.showFurnitureForm&&r.furnitureId===o,e.showTVIDForm=!e.showTVIDForm&&r.tvId===o,e.showRICAMsg=!e.showRICAMsg&&r.simCardId===o})),e.showMixedCategoriesMsg=(t=>{const{categories:e}=o.state,r=Object.keys(e);return r.includes(t)&&!r.includes(t)})(r.furnitureId)})(),(()=>{const t=$("#tfg-custom-furniture-step").length>0;e.showFurnitureForm&&!t&&$(".vtex-omnishipping-1-x-deliveryGroup").prepend((({buildingType:t,parkingDistance:e,deliveryFloor:o,liftStairs:r})=>{let i='\n    <p class="tfg-custom-input">\n      <label>Building type</label>\n      <select class="input-xlarge tfg-custom-selector" id="tfg-building-type">\n        <option disabled selected value="">Please select</option>\n    ';t.forEach((t=>{i+=`<option value="${t}">${t}</option>`})),i+="\n      </select>\n    </p>\n    ";let n='\n  <p class="tfg-custom-input">\n    <label>Distance to parking</label>\n    <select class="input-xlarge tfg-custom-selector" id="tfg-parking-distance">\n      <option disabled selected value="">Please select</option>\n  ';e.forEach((t=>{n+=`<option value="${t}">${t}</option>`})),n+="\n    </select>\n  </p>\n  ";let s='\n  <p class="tfg-custom-input">\n    <label>Delivery floor</label>\n    <select class="input-xlarge tfg-custom-selector" id="tfg-delivery-floor">\n      <option disabled selected value="">Please select</option>\n  ';o.forEach((t=>{s+=`<option value="${t}">${t}</option>`})),s+="\n    </select>\n  </p>\n  ";let a='\n  <p class="tfg-custom-input">\n    <label>Lift or staris</label>\n    <select class="input-xlarge tfg-custom-selector" id="tfg-lift-stairs">\n      <option disabled selected value="">Please select</option>\n  ';return r.forEach((t=>{a+=`<option value="${t}">${t}</option>`})),a+="\n    </select>\n  </p>\n  ",`\n    <div id="tfg-custom-furniture-step">\n      <p class="tfg-custom-title">Furniture information needed</p>\n      <p class="tfg-custom-subtitle">We need some more information to prepare delivery of your\n      furniture items to your address.</p>\n      ${i}\n      ${n}\n      ${s}\n      ${a}\n      <label class="checkbox tfg-custom-label">\n        <input type="checkbox" id="tfg-sufficient-space">\n        <span class="tfg-checkbox-text">Is there sufficent corner/passage door space?</span>\n      </label>\n      <label class="checkbox tfg-custom-label">\n        <input type="checkbox" id="tfg-assemble-furniture">\n        <span class="tfg-checkbox-text">Would you like us to assemble your furniture items?</span>\n      </label>\n    </div>\n  `})(r.furnitureForm))})()}),500))};return $(document).ready((()=>{"undefined"!=typeof setAppConfiguration&&window.location.hash===t&&setAppConfiguration(r),i()})),$(window).on("hashchange orderFormUpdated.vtex",(()=>{i()})),{init:()=>{window.ViewController=void 0},state:e}})(),i=(()=>{const o={valid:!1},i=()=>{setTimeout((()=>{if(vtexjs.checkout.orderForm){const{showFurnitureForm:t,showTVIDForm:o}=r.state,i=(()=>{const{customData:t}=vtexjs.checkout.orderForm;let o={};return t.customApps&&t.customApps.length>0&&t.customApps.forEach((t=>{t.id===e&&(o=t.fields)})),o})();i&&t&&($("#tfg-building-type").val(i.buildingType),$("#tfg-parking-distance").val(i.parkingDistance),$("#tfg-delivery-floor").val(i.deliveryFloor),$("#tfg-lift-stairs").val(i.liftOrStairs),$("#tfg-sufficient-space").prop("checked","true"===i.hasSufficientSpace),$("#tfg-assemble-furniture").prop("checked","true"===i.assembleFurniture))}}),500)},n=()=>{window.location.hash===t&&(void 0===$("#shipping-data #btn-go-to-payment").attr("captureFurnitureEvt")&&($("#shipping-data #btn-go-to-payment").attr("captureFurnitureEvt","0"),$(document).on("click","#shipping-data #btn-go-to-payment",(t=>{const e=$(void 0);"1"!==e.attr("captureFurnitureEvt")?(t.stopImmediatePropagation(),t.preventDefault(),(()=>{const{showFurnitureForm:t,showTVIDForm:e}=r.state;let i=!1;t&&(i=(()=>{let t=!1;return["tfg-building-type","tfg-parking-distance","tfg-delivery-floor","tfg-lift-stairs"].forEach((e=>{$(`#${e}`).length>0&&!$(`#${e}`).val()?($(`#${e}`).addClass("error"),t=!0):$(`#${e}`).removeClass("error")})),t})()),o.valid=!i&&!0})(),o.valid&&((()=>{const t={};t.buildingType=$("#tfg-building-type").val(),t.parkingDistance=$("#tfg-parking-distance").val(),t.deliveryFloor=$("#tfg-delivery-floor").val(),t.liftOrStairs=$("#tfg-lift-stairs").val(),t.hasSufficientSpace=$("#tfg-sufficient-space").is(":checked"),t.assembleFurniture=$("#tfg-assemble-furniture").is(":checked"),((t,e)=>{const{orderFormId:o}=vtexjs.checkout.orderForm;$.ajax({type:"PUT",url:`/api/checkout/pub/orderForm/${o}/customData/customshippinginfo`,dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(e)})})(0,t)})(),$("#shipping-data #btn-go-to-payment").attr("captureFurnitureEvt","1"),e.click())):e.attr("captureFurnitureEvt","0")}))),i())};return $(document).ready((()=>{n()})),$(window).on("hashchange",(()=>{n()})),$(window).on("orderFormUpdated.vtex",(()=>{window.location.hash===t&&i()})),{init:()=>{window.FormController=void 0},state:o}})();o.init(),r.init(),i.init()}},e={};function o(r){var i=e[r];if(void 0!==i)return i.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,o),n.exports}o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),o(776),o(429)})();