/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/checkout6-custom.js":
/*!*********************************!*\
  !*** ./src/checkout6-custom.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _controller_AddressController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./controller/AddressController */ \"./src/controller/AddressController.js\");\n/* harmony import */ var _controller_CartController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controller/CartController */ \"./src/controller/CartController.js\");\n/* harmony import */ var _controller_CollectController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controller/CollectController */ \"./src/controller/CollectController.js\");\n/* harmony import */ var _controller_FormController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./controller/FormController */ \"./src/controller/FormController.js\");\n/* harmony import */ var _controller_ViewController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./controller/ViewController */ \"./src/controller/ViewController.js\");\n\n\n\n\n\n_controller_CartController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init();\n_controller_AddressController__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init();\n_controller_ViewController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].init();\n_controller_FormController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].init();\n_controller_CollectController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].init();\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/checkout6-custom.js?");

/***/ }),

/***/ "./src/controller/AddressController.js":
/*!*********************************************!*\
  !*** ./src/controller/AddressController.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/const */ \"./src/utils/const.js\");\n/* harmony import */ var _utils_translations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/translations */ \"./src/utils/translations.js\");\n\n\n\nconst AddressController = (() => {\n  const state = {\n    intTelInput: {},\n    captureGoogleInputOnChange: false,\n    captureAddressListOnChange: false\n  };\n\n  const setAddressType = () => {\n    const addressTypeInput = document.querySelector('.vtex-omnishipping-1-x-address .ship-addressType');\n\n    if (!addressTypeInput) {\n      $('.vtex-omnishipping-1-x-address > div').append($('<p>').prop({\n        class: 'input ship-addressType text',\n        style: 'order: 3'\n      }));\n      $('.ship-addressType').append($('<label>').html('Address type'));\n      $('.ship-addressType').append($('<div>').prop({\n        class: 'ship-addressType-container'\n      }));\n      $('.ship-addressType-container').append($('<div>').prop({\n        class: 'ship-addressType-div-residential'\n      }));\n      $('.ship-addressType-container').append($('<div>').prop({\n        class: 'ship-addressType-div-business'\n      }));\n      $('.ship-addressType-div-residential').append($('<input>').prop({\n        type: 'radio',\n        id: 'ship-addressType-residential',\n        name: 'ship-addressType',\n        value: 'residential'\n      })).append($('<label>').prop({\n        for: 'ship-addressType-residential'\n      }).html('Residential'));\n      $('.ship-addressType-div-business').append($('<input>').prop({\n        type: 'radio',\n        id: 'ship-addressType-business',\n        name: 'ship-addressType',\n        value: 'commercial'\n      })).append($('<label>').prop({\n        for: 'ship-addressType-business'\n      }).html('Business'));\n      const addressTypeSelected = window.vtexjs.checkout.orderForm.shippingData?.address?.addressType;\n\n      if (addressTypeSelected === 'residential') {\n        $('#ship-addressType-residential').attr('checked', true);\n      } else if (addressTypeSelected === 'commercial') {\n        $('#ship-addressType-business').attr('checked', true);\n      }\n    }\n  };\n\n  const toggleGoogleInput = () => {\n    if (!$('#v-custom-ship-street').val()) {\n      $('.body-order-form #shipping-data .vcustom--vtex-omnishipping-1-x-address > div > form').toggleClass('google');\n      const selector = `.vcustom--vtex-omnishipping-1-x-address__state, .v-custom-ship-info,\n        .btn-go-to-shipping-wrapper`;\n      $(selector).hide();\n      $('.v-custom-ship-street label').text('Add a new delivery address');\n      $('#v-custom-ship-street').attr('placeholder', 'Search for address');\n      $('#v-custom-ship-street').one('change', () => {\n        $('.body-order-form #shipping-data .vcustom--vtex-omnishipping-1-x-address > div > form').toggleClass('google');\n        $(selector).show();\n        $('.v-custom-ship-street label').text('Street address');\n        $('#v-custom-ship-street').attr('placeholder', 'Eg: 234 Brickfield Rd, Salt River, Cape Town, 7501, South Africa');\n      });\n    }\n  };\n\n  const runCustomization = () => {\n    if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_0__.STEPS.SHIPPING) {\n      setTimeout(() => {\n        const selectedDelivery = $('#shipping-option-delivery').hasClass('shp-method-option-active');\n        (0,_utils_translations__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n\n        if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_0__.STEPS.SHIPPING && selectedDelivery) {\n          setAddressType();\n          toggleGoogleInput();\n        }\n      }, _utils_const__WEBPACK_IMPORTED_MODULE_0__.TIMEOUT_500);\n    }\n  }; // EVENTS SUBSCRIPTION\n\n\n  $(document).ready(() => {\n    runCustomization();\n  });\n  $(window).on('hashchange orderFormUpdated.vtex', () => {\n    runCustomization();\n  });\n  $(document).on('click', '#shipping-data .btn-link.vtex-omnishipping-1-x-btnDelivery', () => {\n    setTimeout(() => {\n      if (!$('#ship-complement').val()) {\n        $('#ship-complement').val(window.vtexjs.checkout.orderForm.shippingData.address.complement || '').attr('value', window.vtexjs.checkout.orderForm.shippingData.address.complement || '');\n      }\n    }, _utils_const__WEBPACK_IMPORTED_MODULE_0__.TIMEOUT_500);\n  });\n  $(document).on('change', 'input[name=\"ship-addressType\"]', () => {\n    localStorage.setItem('addressType', document.querySelector('input[name=\"ship-addressType\"]:checked').value);\n  });\n\n  const publicInit = () => {};\n\n  return {\n    init: publicInit,\n    state\n  };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddressController);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/controller/AddressController.js?");

/***/ }),

/***/ "./src/controller/CartController.js":
/*!******************************************!*\
  !*** ./src/controller/CartController.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/const */ \"./src/utils/const.js\");\n\n\nconst CartController = (() => {\n  const state = {\n    categories: {}\n  };\n  const config = {\n    furnitureId: '0',\n    tvId: '0',\n    simCardId: '0',\n    furnitureForm: {\n      buildingType: ['Free standing', 'House in complex', 'Townhouse', 'Apartment'],\n      parkingDistance: [15, 25, 50, 100],\n      deliveryFloor: ['Ground', '1', '2', '3+'],\n      liftStairs: ['Lift', 'Stairs']\n    },\n    TVorRICAMsg: 'You can\\'t collect this order in store because your cart contains items which ' + 'require either RICA or TV License validation.',\n    MixedProductsMsg: 'We\\'ll ship your furniture and other items in your cart to the selected address. ' + 'Only the furniture delivery fee will apply.'\n  };\n\n  const getCategories = items => {\n    const categoriesToCheck = [config.furnitureId, config.tvId, config.simCardId];\n    const categories = [];\n    items.forEach(item => {\n      const itemCategories = item.productCategoryIds.split('/');\n      itemCategories.forEach(category => {\n        if (category && categoriesToCheck.includes(category)) {\n          categories.push(category);\n        }\n      });\n    });\n    state.categories = categories;\n  };\n\n  const runCustomization = () => {\n    if (typeof setAppConfiguration !== 'undefined') {\n      // eslint-disable-next-line no-undef\n      setAppConfiguration(config);\n    }\n\n    setTimeout(() => {\n      if (window.vtexjs.checkout.orderForm) {\n        const {\n          items\n        } = window.vtexjs.checkout.orderForm;\n        getCategories(items);\n      }\n    }, _utils_const__WEBPACK_IMPORTED_MODULE_0__.TIMEOUT_500);\n  }; // EVENTS SUBSCRIPTION\n\n\n  $(document).ready(() => {\n    runCustomization();\n  });\n  $(window).on('hashchange orderFormUpdated.vtex', () => {\n    runCustomization();\n  });\n\n  const publicInit = () => {};\n\n  return {\n    init: publicInit,\n    state,\n    config\n  };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CartController);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/controller/CartController.js?");

/***/ }),

/***/ "./src/controller/CollectController.js":
/*!*********************************************!*\
  !*** ./src/controller/CollectController.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _templates__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../templates */ \"./src/templates/index.js\");\n/* harmony import */ var _utils_const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/const */ \"./src/utils/const.js\");\n/* harmony import */ var _utils_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/functions */ \"./src/utils/functions.js\");\n\n\n\n\nconst CollectController = (() => {\n  const state = {\n    inCollect: false,\n    pickupSelected: false,\n    validForm: false\n  };\n\n  const changeTranslations = () => {\n    $('p.vtex-omnishipping-1-x-shippingSectionTitle').text('Collect options');\n    $('#change-pickup-button').text('Available pickup points');\n    $('h2.vtex-omnishipping-1-x-geolocationTitle.ask-for-geolocation-title').text('Find nearby Click & Collect points');\n    $('h3.vtex-omnishipping-1-x-subtitle.ask-for-geolocation-subtitle').text(\"Search for addresses that you frequently use and we'll locate stores nearby.\");\n\n    if (state.pickupSelected) {\n      $('label.shp-pickup-receiver__label').text(\"Recipient's name\");\n    }\n  };\n\n  const bindingEvents = () => {\n    // eslint-disable-next-line func-names\n    $(document).on('keyup', 'div.shipping-container #custom-pickup-complement', function () {\n      /* Forzamos el cambio del valor de placeholder para que no marque undefined */\n      if (!$(this).val()) {\n        $(this).attr('placeholder', '');\n      }\n    });\n  };\n\n  const checkFields = fields => {\n    fields.forEach(field => {\n      let isValid = true;\n      let parent;\n\n      switch (field) {\n        case 'pickup-receiver':\n          isValid = !($(`#${field}`).length > 0 && !$(`#${field}`).attr('disabled') && !$(`#${field}`).val());\n          parent = '.shp-pickup-receiver';\n          break;\n\n        case 'custom-pickup-complement':\n          isValid = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.isValidNumberBash)($(`#${field}`).val());\n          parent = '#box-pickup-complement';\n          break;\n\n        default:\n          break;\n      }\n\n      if (!isValid) {\n        $(parent).addClass('error');\n        $(parent).append((0,_templates__WEBPACK_IMPORTED_MODULE_0__.InputError)());\n        $(`${parent} span.error`).show();\n        state.validForm = false;\n      } else {\n        $(parent).removeClass('error');\n      }\n    });\n  };\n\n  const checkForm = () => {\n    // Reset state & clear errors\n    $('span.help.error').remove();\n    state.validForm = true;\n    checkFields(['pickup-receiver', 'custom-pickup-complement']);\n  };\n\n  const saveCollectFields = () => {\n    checkForm();\n\n    if (state.validForm) {\n      const complement = $('#custom-pickup-complement').val();\n      localStorage.setItem('saving-shipping-collect', true);\n      $('#btn-go-to-payment').trigger('click');\n      setTimeout(() => {\n        window.vtexjs.checkout.getOrderForm().then(orderForm => {\n          const {\n            address\n          } = orderForm.shippingData;\n          address.complement = complement;\n          return window.vtexjs.checkout.calculateShipping(address);\n        }).done(() => {\n          localStorage.removeItem('saving-shipping-collect');\n        });\n      }, _utils_const__WEBPACK_IMPORTED_MODULE_1__.TIMEOUT_750);\n    }\n  }; //! TODO: al merger a develop podemos refactorizar esta función llevándola a utils\n\n\n  const setInputPhone = () => {\n    const phoneInput = document.querySelector('input#custom-pickup-complement');\n\n    if (phoneInput) {\n      phoneInput.setAttribute('placeholder', '');\n    }\n  };\n\n  const addCustomPhoneInput = () => {\n    if ($('input#custom-pickup-complement').length === 0) {\n      $('.btn-go-to-payment-wrapper').before(_templates__WEBPACK_IMPORTED_MODULE_0__.PickupComplementField);\n      setInputPhone('input#custom-pickup-complement');\n      /* Set orderForm value if exists */\n\n      const selectedAddress = window.vtexjs.checkout.orderForm?.shippingData?.address;\n\n      if (selectedAddress) {\n        let {\n          complement\n        } = selectedAddress;\n\n        if (!complement) {\n          const availableAddressInfo = window.vtexjs.checkout.orderForm.shippingData.availableAddresses.find(address => address.addressId === selectedAddress.addressId);\n          complement = availableAddressInfo.complement;\n        }\n\n        $('input#custom-pickup-complement').val(complement).attr('value', complement);\n      }\n    }\n  }; //! TODO: al merger a develop podemos refactorizar esta función llevándola a utils\n\n\n  const addCustomBtnPayment = () => {\n    if ($('#custom-go-to-payment').length <= 0) {\n      const nativePaymentBtn = $('#btn-go-to-payment');\n      const customPaymentBtn = nativePaymentBtn.clone(false);\n      $(nativePaymentBtn).hide();\n      $(customPaymentBtn).data('bind', '');\n      $(customPaymentBtn).removeAttr('id').attr('id', 'custom-go-to-payment');\n      $(customPaymentBtn).removeAttr('data-bind');\n      $(customPaymentBtn).css('display', 'block');\n      $('p.btn-go-to-payment-wrapper').append(customPaymentBtn);\n      $(customPaymentBtn).on('click', saveCollectFields);\n    }\n  };\n\n  const runCustomization = () => {\n    const shippingLoaded = $('div#postalCode-finished-loading').length > 0;\n\n    if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.SHIPPING && shippingLoaded) {\n      state.inCollect = $('#shipping-option-pickup-in-point').hasClass('shp-method-option-active');\n      state.pickupSelected = $('div.ask-for-geolocation').length === 0;\n\n      if (state.inCollect) {\n        if (state.pickupSelected) {\n          $('button.shp-pickup-receiver__btn').trigger('click');\n          $('div.shp-pickup-receiver').addClass('show');\n          addCustomPhoneInput();\n          addCustomBtnPayment();\n        } else {\n          $('div.shp-pickup-receiver').removeClass('show');\n        }\n\n        changeTranslations();\n        bindingEvents();\n      }\n      /* If it has been redirected because of missing values, the click is forced to show the errors */\n\n\n      if (localStorage.getItem('shipping-incomplete-values')) {\n        $('#custom-go-to-payment').trigger('click');\n        localStorage.removeItem('shipping-incomplete-values');\n      }\n    } else {\n      /* Remove box-pickup-complement so that the input does not appear in the other steps of the checkout process  */\n      $('#box-pickup-complement').remove();\n\n      if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.PAYMENT) {\n        setTimeout(() => {\n          const address = window.vtexjs.checkout.orderForm?.shippingData?.address;\n          const savingCollect = localStorage.getItem('saving-shipping-collect');\n\n          if (!savingCollect) {\n            /* Redirect to shipping if required fields are empty */\n            if (address && address.addressType === _utils_const__WEBPACK_IMPORTED_MODULE_1__.AD_TYPE.PICKUP && (!address.receiverName || !address.complement)) {\n              window.location.hash = _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.SHIPPING;\n              localStorage.setItem('shipping-incomplete-values', true);\n            }\n          }\n        }, 1000);\n      }\n    } // eslint-disable-next-line no-use-before-define\n\n\n    runCollectObserver();\n  };\n  /* We need this observer to detect the change in the deliver and collect buttons */\n\n\n  const runCollectObserver = () => {\n    const elementToObserveChange = document.querySelector('.shipping-container .box-step');\n    const observerConfig = {\n      attributes: false,\n      childList: true,\n      characterData: false\n    };\n    const observer = new MutationObserver(() => {\n      runCustomization();\n    });\n\n    if (elementToObserveChange) {\n      observer.observe(elementToObserveChange, observerConfig);\n    }\n  }; // EVENTS SUBSCRIPTION\n\n\n  $(document).ready(() => {\n    runCustomization();\n  });\n  $(window).on('hashchange orderFormUpdated.vtex', () => {\n    runCustomization();\n  });\n\n  const publicInit = () => {};\n\n  return {\n    init: publicInit,\n    state\n  };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CollectController);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/controller/CollectController.js?");

/***/ }),

/***/ "./src/controller/FormController.js":
/*!******************************************!*\
  !*** ./src/controller/FormController.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/const */ \"./src/utils/const.js\");\n/* harmony import */ var _utils_functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/functions */ \"./src/utils/functions.js\");\n/* harmony import */ var _templates__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../templates */ \"./src/templates/index.js\");\n/* harmony import */ var _ViewController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ViewController */ \"./src/controller/ViewController.js\");\n/* harmony import */ var _AddressController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AddressController */ \"./src/controller/AddressController.js\");\n/* eslint-disable func-names */\n\n\n\n\n\n\nconst FormController = (() => {\n  const state = {\n    validForm: true\n  };\n\n  const checkField = field => {\n    if ($(`#${field}`).length > 0 && !$(`#${field}`).attr('disabled') && !$(`#${field}`).val()) {\n      $(`.${field}`).addClass('error');\n      $(`.${field}`).append(_templates__WEBPACK_IMPORTED_MODULE_2__.InputError);\n      $(`.${field} span.error`).show();\n      state.validForm = false;\n    } else {\n      $(`.${field}`).removeClass('error');\n    }\n  };\n\n  const checkFields = fields => {\n    fields.forEach(field => {\n      checkField(field);\n    });\n  };\n\n  const checkFurnitureForm = () => {\n    const furnitureFields = ['tfg-building-type', 'tfg-parking-distance', 'tfg-delivery-floor', 'tfg-lift-stairs'];\n    checkFields(furnitureFields);\n  };\n\n  const checkRICAForm = () => {\n    const ricaFields = ['tfg-rica-id-passport', 'tfg-rica-fullname', 'tfg-rica-street', 'tfg-rica-suburb', 'tfg-rica-city', 'tfg-rica-postal-code', 'tfg-rica-province'];\n    checkFields(ricaFields);\n  };\n\n  const checkForm = () => {\n    // Reset state & clear errors\n    $('span.help.error').remove();\n    state.validForm = true;\n    /* Checking Receiver & Receiver Phone */\n\n    if ($('div.address-list.vtex-omnishipping-1-x-addressList').length <= 0) {\n      checkField('ship-receiverName');\n\n      if (!(0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.isValidNumberBash)(document.querySelector('.vtex-omnishipping-1-x-address input#ship-complement').value)) {\n        $('.vtex-omnishipping-1-x-address .ship-complement').addClass('error');\n        $('.vtex-omnishipping-1-x-address .ship-complement').append((0,_templates__WEBPACK_IMPORTED_MODULE_2__.InputError)());\n        $('.vtex-omnishipping-1-x-address .ship-complement span.error').show();\n        state.validForm = false;\n      } else {\n        $('.vtex-omnishipping-1-x-address .ship-complement').removeClass('error');\n      }\n    }\n    /* Checking Custom Fields */\n\n\n    if (_ViewController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].state.showFurnitureForm) {\n      checkFurnitureForm();\n    }\n\n    if (_ViewController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].state.showRICAForm) {\n      checkRICAForm();\n    }\n\n    if (_ViewController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].state.showTVIDForm) {\n      checkField('tfg-tv-licence');\n    }\n  };\n\n  const getFurnitureFormFields = () => {\n    const furnitureFields = {};\n    furnitureFields.furnitureReady = true;\n    furnitureFields.buildingType = $('#tfg-building-type').val();\n    furnitureFields.parkingDistance = $('#tfg-parking-distance').val();\n    furnitureFields.deliveryFloor = $('#tfg-delivery-floor').val();\n\n    if (!$('#tfg-lift-stairs').attr('disabled')) {\n      furnitureFields.liftOrStairs = $('#tfg-lift-stairs').val();\n    }\n\n    furnitureFields.hasSufficientSpace = $('#tfg-sufficient-space').is(':checked');\n    furnitureFields.assembleFurniture = $('#tfg-assemble-furniture').is(':checked');\n    return furnitureFields;\n  };\n\n  const getRICAFields = () => {\n    const ricaFields = {};\n    ricaFields.idOrPassport = $('#tfg-rica-id-passport').val();\n    ricaFields.sameAddress = $('#tfg-rica-same-address').is(':checked');\n    ricaFields.fullName = $('#tfg-rica-fullname').val();\n    ricaFields.streetAddress = $('#tfg-rica-street').val();\n    ricaFields.suburb = $('#tfg-rica-suburb').val();\n    ricaFields.city = $('#tfg-rica-city').val();\n    ricaFields.postalCode = $('#tfg-rica-postal-code').val();\n    ricaFields.province = $('#tfg-rica-province').val();\n    ricaFields.country = $('#tfg-rica-country').val();\n    return ricaFields;\n  };\n\n  const saveAddressType = () => {\n    const addressType = localStorage.getItem('addressType');\n    window.vtexjs.checkout.getOrderForm().then(orderForm => {\n      const {\n        shippingData\n      } = orderForm;\n      shippingData.selectedAddresses[0].addressType = addressType;\n      return window.vtexjs.checkout.sendAttachment('shippingData', shippingData);\n    });\n  };\n\n  const getTVFormFields = () => ({\n    tvID: $('#tfg-tv-licence').val()\n  });\n\n  const saveShippingForm = () => {\n    const {\n      showFurnitureForm,\n      showRICAForm,\n      showTVIDForm\n    } = _ViewController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].state;\n    checkForm();\n    console.log('!! saveShippingForm - state', state);\n\n    if (state.validForm) {\n      // Fields saved in orderForm\n      if (showRICAForm) {\n        const ricaFields = getRICAFields();\n        (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.checkoutSendCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_0__.RICA_APP, ricaFields);\n      } // Fields saved in Masterdata\n\n\n      const masterdataFields = {};\n\n      if (showFurnitureForm) {\n        const furnitureFields = getFurnitureFormFields();\n        (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.checkoutSendCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_0__.FURNITURE_APP, furnitureFields);\n        Object.assign(masterdataFields, furnitureFields);\n      }\n\n      if (showTVIDForm) {\n        const tvFields = getTVFormFields();\n        (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.checkoutSendCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_0__.TV_APP, tvFields);\n        Object.assign(masterdataFields, tvFields);\n      }\n\n      (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.saveAddress)(masterdataFields);\n      setTimeout(() => {\n        $('#btn-go-to-payment').trigger('click');\n        saveAddressType();\n      }, _utils_const__WEBPACK_IMPORTED_MODULE_0__.TIMEOUT_750);\n    }\n  };\n\n  const addCustomBtnPayment = () => {\n    if ($('#custom-go-to-payment').length <= 0) {\n      const nativePaymentBtn = $('#btn-go-to-payment');\n      const customPaymentBtn = nativePaymentBtn.clone(false);\n      $(nativePaymentBtn).hide();\n      $(customPaymentBtn).data('bind', '');\n      $(customPaymentBtn).removeAttr('id').attr('id', 'custom-go-to-payment');\n      $(customPaymentBtn).removeAttr('data-bind');\n      $(customPaymentBtn).css('display', 'block');\n      $('p.btn-go-to-payment-wrapper').append(customPaymentBtn);\n      $(customPaymentBtn).on('click', saveShippingForm);\n    }\n  };\n\n  const runCustomization = () => {\n    if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_0__.STEPS.SHIPPING) {\n      setTimeout(() => {\n        const selectedDelivery = $('#shipping-option-delivery').hasClass('shp-method-option-active');\n\n        if (selectedDelivery) {\n          addCustomBtnPayment();\n        } // eslint-disable-next-line no-use-before-define\n\n\n        runFormObserver();\n      }, _utils_const__WEBPACK_IMPORTED_MODULE_0__.TIMEOUT_750);\n    }\n  }; // INPUT EVENT SUBSCRIPTION\n\n\n  const runFormObserver = () => {\n    const elementToObserveChange = document.querySelector('.shipping-container .box-step');\n    const observerConfig = {\n      attributes: false,\n      childList: true,\n      characterData: false\n    };\n    const observer = new MutationObserver(() => {\n      if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_0__.STEPS.SHIPPING && !$('btn-link vtex-omnishipping-1-x-btnDelivery').length) {\n        runCustomization();\n      }\n    });\n\n    if (elementToObserveChange) {\n      observer.observe(elementToObserveChange, observerConfig);\n    }\n  };\n\n  $(document).on('change', '.vtex-omnishipping-1-x-deliveryGroup #tfg-delivery-floor', function () {\n    if ($(this).val() === 'Ground') {\n      $('#tfg-lift-stairs').val('');\n      $('#tfg-lift-stairs').attr('disabled', 'disabled');\n      $('#tfg-lift-stairs').next('span.help.error').remove();\n      $('.tfg-lift-stairs').removeClass('error');\n    } else {\n      $('#tfg-lift-stairs').removeAttr('disabled');\n    }\n  });\n  $(document).on('change', '.vtex-omnishipping-1-x-deliveryGroup .tfg-custom-selector, .vtex-omnishipping-1-x-deliveryGroup .tfg-input', function () {\n    if ($(this).val()) {\n      $(this).parent().removeClass('error');\n      $(this).next('span.help.error').remove();\n      $(this).addClass('tfg-input-completed');\n    } else {\n      $(this).removeClass('tfg-input-completed');\n    }\n  });\n  $(document).on('change', '.vtex-omnishipping-1-x-addressForm input', function () {\n    if ($(this).val()) {\n      $(this).parent().removeClass('error');\n      $(this).next('span.help.error').remove();\n    }\n  });\n  $(document).on('change', '.vtex-omnishipping-1-x-deliveryGroup #tfg-rica-same-address', function () {\n    if ($(this).is(':checked')) {\n      (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.setRicaFields)('shippingAddress');\n    } else {\n      $('.rica-field').val('');\n    }\n  });\n  $(document).on('click', '#shipping-data .btn-link.vtex-omnishipping-1-x-btnDelivery', () => {\n    runCustomization();\n  }); // EVENTS SUBSCRIPTION\n\n  $(document).ready(() => {\n    runCustomization();\n  });\n  $(window).on('hashchange orderFormUpdated.vtex', () => {\n    runCustomization();\n  });\n\n  const publicInit = () => {};\n\n  return {\n    init: publicInit,\n    state\n  };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FormController);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/controller/FormController.js?");

/***/ }),

/***/ "./src/controller/ViewController.js":
/*!******************************************!*\
  !*** ./src/controller/ViewController.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _templates__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../templates */ \"./src/templates/index.js\");\n/* harmony import */ var _utils_const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/const */ \"./src/utils/const.js\");\n/* harmony import */ var _utils_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/functions */ \"./src/utils/functions.js\");\n/* harmony import */ var _CartController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CartController */ \"./src/controller/CartController.js\");\n\n\n\n\nconst FURNITURE_FEE_LINK = `<a href=\"${_utils_const__WEBPACK_IMPORTED_MODULE_1__.FURNITURE_FEES}\" class=\"furniture-fees-link\"` + 'target=\"_blank\">Furniture delivery costs</a>';\n\nconst ViewController = (() => {\n  const state = {\n    showFurnitureForm: false,\n    showTVIDForm: false,\n    showRICAForm: false,\n    showTVorRICAMsg: false,\n    showMixedProductsMsg: false\n  };\n\n  const checkCartCategories = () => {\n    if (window.vtexjs.checkout.orderForm) {\n      const {\n        items\n      } = window.vtexjs.checkout.orderForm;\n      const {\n        categories\n      } = _CartController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].state;\n      const {\n        config\n      } = _CartController__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n      state.showFurnitureForm = categories.includes(config.furnitureId);\n      state.showTVIDForm = categories.includes(config.tvId);\n      state.showRICAForm = categories.includes(config.simCardId);\n      state.showTVorRICAMsg = state.showTVIDForm || state.showRICAForm;\n      /**\r\n        Conditions to show mixed products alert:\r\n        - more than one item\r\n        - after filter categories, this array includes at least one furniture id\r\n        - there are only one category OR not all the categories in the array are furniture\r\n      */\n\n      state.showMixedProductsMsg = items.length > 1 && categories.includes(config.furnitureId) && (categories.length === 1 || !categories.every(value => value === config.furnitureId));\n    }\n  };\n\n  const showCustomSections = () => {\n    const {\n      config\n    } = _CartController__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n    const tvRICAStepExists = $('#tfg-custom-rica-msg').length > 0;\n    const tvIDStepExists = $('#tfg-custom-tvid-step').length > 0;\n    const furnitureStepExists = $('#tfg-custom-furniture-step').length > 0;\n    const tvOrRICAMsgStepExists = $('#tfg-custom-tvrica-msg').length > 0;\n    const mixedProductsMsgExits = $('#tfg-custom-mixed-msg').length > 0;\n\n    if (state.showRICAForm && !tvRICAStepExists) {\n      $('.vtex-omnishipping-1-x-deliveryGroup').prepend((0,_templates__WEBPACK_IMPORTED_MODULE_0__.RICAForm)());\n      $('#tfg-rica-same-address').trigger('change');\n    }\n\n    if (state.showTVIDForm && !tvIDStepExists) {\n      $('.vtex-omnishipping-1-x-deliveryGroup').prepend((0,_templates__WEBPACK_IMPORTED_MODULE_0__.TVIDForm)());\n    }\n\n    if (state.showFurnitureForm && !furnitureStepExists) {\n      $('.vtex-omnishipping-1-x-deliveryGroup').prepend((0,_templates__WEBPACK_IMPORTED_MODULE_0__.FurnitureForm)(config.furnitureForm));\n      $('.vtex-omnishipping-1-x-deliveryGroup p.vtex-omnishipping-1-x-shippingSectionTitle').append(FURNITURE_FEE_LINK);\n      $('div.subheader').css('display', 'none');\n    }\n\n    if (state.showTVorRICAMsg || state.showMixedProductsMsg) {\n      $('#shipping-option-delivery').trigger('click');\n      $('.vtex-omnishipping-1-x-deliveryChannelsWrapper').addClass('custom-disabled');\n\n      if (state.showTVorRICAMsg && !tvOrRICAMsgStepExists) {\n        $('.vtex-omnishipping-1-x-addressFormPart1').prepend((0,_templates__WEBPACK_IMPORTED_MODULE_0__.TVorRICAMsg)(config.TVorRICAMsg));\n      }\n\n      if (state.showMixedProductsMsg && !mixedProductsMsgExits) {\n        $('.vtex-omnishipping-1-x-addressFormPart1').prepend((0,_templates__WEBPACK_IMPORTED_MODULE_0__.MixedProducts)(config.MixedProductsMsg));\n      }\n    }\n\n    (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.addBorderTop)('.tfg-custom-step');\n  };\n\n  const shippingCustomDataCompleted = async () => {\n    let validData = false;\n\n    if (window.vtexjs.checkout.orderForm && window.vtexjs.checkout.orderForm.shippingData.address) {\n      const {\n        addressId\n      } = window.vtexjs.checkout.orderForm.shippingData.address;\n      const fields = '?_fields=buildingType,parkingDistance,deliveryFloor,liftOrStairs,hasSufficientSpace' + ',assembleFurniture,tvID';\n      const customShippingInfo = await (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.getShippingData)(addressId, fields);\n\n      if (customShippingInfo) {\n        let furnitureCompleted = false;\n        let tvCompleted = false;\n\n        if (state.showFurnitureForm && customShippingInfo.buildingType && customShippingInfo.deliveryFloor && customShippingInfo.parkingDistance) {\n          furnitureCompleted = true;\n          validData = true;\n        }\n\n        if (state.showTVIDForm && customShippingInfo.tvID) {\n          tvCompleted = true;\n          validData = true;\n        }\n\n        if (state.showFurnitureForm && state.showTVIDForm && (!furnitureCompleted || !tvCompleted)) {\n          validData = false;\n        }\n      }\n    }\n\n    return validData;\n  };\n\n  const ricaFieldsCompleted = () => {\n    let validData = false;\n    const ricaFields = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.checkoutGetCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_1__.RICA_APP);\n\n    if (ricaFields && ricaFields.idOrPassport && ricaFields.fullName && ricaFields.streetAddress && ricaFields.suburb && ricaFields.city && ricaFields.postalCode && ricaFields.province) {\n      validData = true;\n    }\n\n    return validData;\n  };\n\n  const setDataInCustomFields = async () => {\n    if (window.vtexjs.checkout.orderForm) {\n      const {\n        address\n      } = window.vtexjs.checkout.orderForm.shippingData;\n      const {\n        showFurnitureForm,\n        showRICAForm,\n        showTVIDForm\n      } = ViewController.state;\n\n      if (showRICAForm) {\n        (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.setRicaFields)();\n      }\n\n      if (address) {\n        await (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.setMasterdataFields)(showFurnitureForm, showTVIDForm);\n      }\n    }\n  };\n\n  const runCustomization = () => {\n    /* Hiding subheader when there is furniture in cart */\n    setTimeout(() => {\n      checkCartCategories();\n\n      if (state.showFurnitureForm) {\n        $('div.subheader').css('display', 'none');\n      } else {\n        $('div.subheader').css('display', 'block');\n      }\n    }, _utils_const__WEBPACK_IMPORTED_MODULE_1__.TIMEOUT_500);\n    /* Adding custom sections */\n\n    if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.SHIPPING || window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.PAYMENT) {\n      setTimeout(() => {\n        const address = window.vtexjs.checkout?.orderForm?.shippingData?.address;\n\n        if (address && address.addressType === _utils_const__WEBPACK_IMPORTED_MODULE_1__.AD_TYPE.DELIVERY) {\n          if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.SHIPPING) {\n            setTimeout(() => {\n              showCustomSections();\n              setDataInCustomFields();\n            }, _utils_const__WEBPACK_IMPORTED_MODULE_1__.TIMEOUT_750); // eslint-disable-next-line no-use-before-define\n\n            runViewObserver();\n          } else if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.PAYMENT) {\n            setTimeout(async () => {\n              let isDataCompleted = localStorage.getItem('shippingDataCompleted');\n\n              if (isDataCompleted) {\n                (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.waitAndResetLocalStorage)();\n              } else if (state.showFurnitureForm || state.showRICAForm || state.showTVIDForm) {\n                if (state.showRICAForm) {\n                  isDataCompleted = ricaFieldsCompleted();\n                }\n\n                if (state.showFurnitureForm || state.showTVIDForm) {\n                  isDataCompleted = await shippingCustomDataCompleted();\n                }\n\n                if (!isDataCompleted) {\n                  window.location.hash = _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.SHIPPING;\n                }\n              }\n            }, 1750);\n          }\n        }\n      }, _utils_const__WEBPACK_IMPORTED_MODULE_1__.TIMEOUT_750);\n    }\n  }; // EVENTS SUBSCRIPTION\n\n\n  $(document).ready(() => {\n    runCustomization();\n  });\n  $(window).on('hashchange orderFormUpdated.vtex', () => {\n    runCustomization();\n  });\n  $(document).on('click', '#shipping-data .btn-link.vtex-omnishipping-1-x-btnDelivery', () => {\n    runCustomization();\n  });\n  $(document).on('click', '.vtex-omnishipping-1-x-addressList #edit-address-button', () => {\n    setDataInCustomFields();\n  });\n\n  const runViewObserver = () => {\n    const elementToObserveChange = document.querySelector('.shipping-container .box-step');\n    const observerConfig = {\n      attributes: false,\n      childList: true,\n      characterData: false\n    };\n    const observer = new MutationObserver(() => {\n      if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.SHIPPING && !$('btn-link vtex-omnishipping-1-x-btnDelivery').length) {\n        runCustomization();\n      }\n    });\n\n    if (elementToObserveChange) {\n      observer.observe(elementToObserveChange, observerConfig);\n    }\n  };\n\n  const publicInit = () => {};\n\n  return {\n    init: publicInit,\n    state\n  };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ViewController);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/controller/ViewController.js?");

/***/ }),

/***/ "./src/templates/AddressForm.js":
/*!**************************************!*\
  !*** ./src/templates/AddressForm.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PickupComplementField\": () => (/* binding */ PickupComplementField),\n/* harmony export */   \"SuburbField\": () => (/* binding */ SuburbField),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst AddressForm = () => `<p class=\"input custom-field-receiverName tfg-custom-addressForm\">\n      <label>Recipient</label>\n      <input id=\"custom-field-receiverName\" class=\"input-xlarge success\" type=\"text\" field=\"receiverName\" />\n    </p>\n    <p class=\"input custom-field-complement tfg-custom-addressForm\">\n      <label>Mobile number</label>\n      <input id=\"custom-field-complement\" class=\"input-xlarge success\" type=\"text\" field=\"complement\"/>\n    </p>\n    <p class=\"input custom-field-companyBuilding tfg-custom-addressForm\">\n      <label>Company/Building</label>\n      <input id=\"custom-field-companyBuilding\" class=\"input-xlarge success\" type=\"text\" field=\"companyBuilding\"/>\n    </p>\n  `;\n\nconst SuburbField = () => `<p class=\"input custom-field-neighborhood tfg-custom-addressForm\">\n<label>Suburb</label>\n<input id=\"custom-field-neighborhood\" class=\"input-xlarge success\" type=\"text\" field=\"neighborhood\"/>\n</p>`;\nconst PickupComplementField = () => `\n  <p id=\"box-pickup-complement\" class=\"input custom-field-complement tfg-custom-addressForm\">\n    <label>Mobile number</label>\n    <input id=\"custom-pickup-complement\" class=\"input-xlarge success\" type=\"text\" field=\"complement\"/>\n  </p>`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddressForm);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/templates/AddressForm.js?");

/***/ }),

/***/ "./src/templates/AlertBox.js":
/*!***********************************!*\
  !*** ./src/templates/AlertBox.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst AlertBox = (message, type) => `\n  <div id=\"tfg-custom-${type}-msg\" class=\"tfg-custom-msg\">\n    <p class=\"tfg-custom-icon\"></p>\n    <p class=\"tfg-custom-text\">${message}</p>\n  </div>\n`;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AlertBox);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/templates/AlertBox.js?");

/***/ }),

/***/ "./src/templates/FurnitureForm.js":
/*!****************************************!*\
  !*** ./src/templates/FurnitureForm.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst FurnitureForm = ({\n  buildingType,\n  parkingDistance,\n  deliveryFloor,\n  liftStairs\n}) => {\n  // Building type selector\n  let buildingTypeInput = `\n    <p class=\"input tfg-custom-input tfg-building-type\">\n      <label>Building type</label>\n      <select class=\"input-xlarge tfg-custom-selector\" id=\"tfg-building-type\">\n        <option disabled selected value=\"\">Please select</option>\n    `;\n  buildingType.forEach(value => {\n    buildingTypeInput += `<option value=\"${value}\">${value}</option>`;\n  });\n  buildingTypeInput += `\n      </select>\n    </p>\n    `; // Parking selector\n\n  let parkingDistanceInput = `\n  <p class=\"input tfg-custom-input tfg-parking-distance\">\n    <label>Distance to parking</label>\n    <select class=\"input-xlarge tfg-custom-selector\" id=\"tfg-parking-distance\">\n      <option disabled selected value=\"\">Please select</option>\n  `;\n  parkingDistance.forEach(value => {\n    parkingDistanceInput += `<option value=\"${value}\">${value}</option>`;\n  });\n  parkingDistanceInput += `\n    </select>\n  </p>\n  `; // Delivery floor selector\n\n  let deliveryFloorInput = `\n  <p class=\"input tfg-custom-input tfg-delivery-floor\">\n    <label>Delivery floor</label>\n    <select class=\"input-xlarge tfg-custom-selector\" id=\"tfg-delivery-floor\">\n      <option disabled selected value=\"\">Please select</option>\n  `;\n  deliveryFloor.forEach(value => {\n    deliveryFloorInput += `<option value=\"${value}\">${value}</option>`;\n  });\n  deliveryFloorInput += `\n    </select>\n  </p>\n  `; // Lift/Stairs selector\n\n  let liftStairsInput = `\n  <p class=\"input tfg-custom-input tfg-lift-stairs\">\n    <label>Lift or stairs</label>\n    <select class=\"input-xlarge tfg-custom-selector\" id=\"tfg-lift-stairs\">\n      <option disabled selected value=\"\">Please select</option>\n  `;\n  liftStairs.forEach(value => {\n    liftStairsInput += `<option value=\"${value}\">${value}</option>`;\n  });\n  liftStairsInput += `\n    </select>\n  </p>\n  `; // Complete Form\n\n  return `\n    <div id=\"tfg-custom-furniture-step\" class=\"tfg-custom-step\">\n      <p class=\"tfg-custom-title\">Furniture information needed</p>\n      <p class=\"tfg-custom-subtitle\">\n        We need some more information to prepare delivery of your furniture items to your address.\n      </p>\n      ${buildingTypeInput}\n      ${parkingDistanceInput}\n      ${deliveryFloorInput}\n      ${liftStairsInput}\n      <p class=\"tfg-custom-checkbox\">\n        <label class=\"tfg-checkbox-label\">\n          <input type='checkbox' id=\"tfg-sufficient-space\"/>\n          <span class=\"tfg-checkbox-text\">Is there sufficent corner/passage door space?</span>\n        </label>\n      </p>\n      <p class=\"tfg-custom-checkbox\">\n        <label class=\"tfg-checkbox-label\">\n          <input type='checkbox' id=\"tfg-assemble-furniture\"/>\n          <span class=\"tfg-checkbox-text\">Would you like us to assemble your furniture items?</span>\n        </label>\n      </p>\n    </div>\n  `;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FurnitureForm);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/templates/FurnitureForm.js?");

/***/ }),

/***/ "./src/templates/InputError.js":
/*!*************************************!*\
  !*** ./src/templates/InputError.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst InputError = () => '<span class=\"help error\">This field is required.</span>';\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InputError);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/templates/InputError.js?");

/***/ }),

/***/ "./src/templates/MixedProducts.js":
/*!****************************************!*\
  !*** ./src/templates/MixedProducts.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst MixedProducts = message => `\n  <div id=\"tfg-custom-mixed-msg\" class=\"tfg-custom-msg\">\n    <p class=\"tfg-custom-icon\"></p>\n    <p class=\"tfg-custom-text\">${message}</p>\n  </div>\n`;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MixedProducts);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/templates/MixedProducts.js?");

/***/ }),

/***/ "./src/templates/RICAForm.js":
/*!***********************************!*\
  !*** ./src/templates/RICAForm.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst RICAForm = () => `\n  <div id=\"tfg-custom-rica-msg\" class=\"tfg-custom-step\">\n    <p class=\"tfg-custom-title\">RICA information required</p>\n    <p class=\"tfg-custom-subtitle\">\n      To RICA your SIM card, provide your SA ID (or foreign passport) number and your address as\n      it appears on a valid proof of residence.\n    </p>\n    <p class=\"input tfg-custom-input tfg-rica-id-passport\">\n      <label>ID or passport number</label>\n      <input id=\"tfg-rica-id-passport\" type=\"text\" class=\"input-xlarge tfg-input\">\n    </p>\n    <label class=\"tfg-mtop10\">Proof of residential address</label>\n    <p class=\"tfg-custom-checkbox\">\n      <label class=\"tfg-checkbox-label\">\n        <input type='checkbox' id=\"tfg-rica-same-address\" checked/>\n        <span class=\"tfg-checkbox-text\">Residential address the same as Delivery address</span>\n      </label>\n    </p>\n    <p class=\"input tfg-custom-input tfg-rica-fullname\">\n      <label>Full name and surname</label>\n      <input id=\"tfg-rica-fullname\" type=\"text\" class=\"input-xlarge tfg-input rica-field\">\n    </p>\n    <p class=\"input tfg-custom-input tfg-rica-street\">\n      <label>Street address</label>\n      <input id=\"tfg-rica-street\" type=\"text\" class=\"input-xlarge tfg-input rica-field\">\n    </p>\n    <p class=\"input tfg-custom-input tfg-rica-suburb\">\n      <label>Suburb</label>\n      <input id=\"tfg-rica-suburb\" type=\"text\" class=\"input-xlarge tfg-input rica-field\">\n    </p>\n    <p class=\"input tfg-custom-input tfg-rica-city\">\n      <label>City</label>\n      <input id=\"tfg-rica-city\" type=\"text\" class=\"input-xlarge tfg-input rica-field\">\n    </p>\n    <p class=\"input tfg-custom-input tfg-rica-postal-code\">\n      <label>Postal code</label>\n      <input id=\"tfg-rica-postal-code\" type=\"text\" class=\"input-xlarge tfg-input rica-field\">\n    </p>\n    <p class=\"input tfg-rica-province tfg-custom-input\">\n      <label>Province</label>\n      <select class=\"input-xlarge tfg-custom-selector rica-field\" id=\"tfg-rica-province\">\n        <option value=\"\" disabled selected>State</option>\n        <option value=\"EC\">Eastern Cape</option>\n        <option value=\"FS\">Free State</option>\n        <option value=\"GP\">Gauteng</option>\n        <option value=\"KZN\">KwaZulu-Natal</option>\n        <option value=\"LP\">Limpopo</option>\n        <option value=\"MP\">Mpumalanga</option>\n        <option value=\"NC\">Northern Cape</option>\n        <option value=\"NW\">North West</option>\n        <option value=\"WC\">Western Cape</option>\n      </select>\n    </p>\n    <p class=\"input tfg-rica-country tfg-custom-input\">\n      <label>Country</label>\n      <select class=\"input-xlarge tfg-custom-selector\" id=\"tfg-rica-country\" disabled>\n        <option value=\"ZAF\" selected>South Africa</option>\n      </select>\n    </p>\n  </div>\n`;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RICAForm);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/templates/RICAForm.js?");

/***/ }),

/***/ "./src/templates/TVIDForm.js":
/*!***********************************!*\
  !*** ./src/templates/TVIDForm.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst TVIDForm = () => `\n    <div id=\"tfg-custom-tvid-step\" class=\"tfg-custom-step\">\n        <p class=\"tfg-custom-title\">TV licence required</p>\n        <p class=\"tfg-custom-subtitle\">Please provide your ID number to validate your TV Licence.</p>\n        <p class=\"input tfg-custom-input tfg-tv-licence\">\n            <label>SA ID number</label>\n            <input id=\"tfg-tv-licence\" type=\"text\" class=\"input-xlarge tfg-input\">\n        </p>\n    </div>\n`;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TVIDForm);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/templates/TVIDForm.js?");

/***/ }),

/***/ "./src/templates/TVorRICAMsg.js":
/*!**************************************!*\
  !*** ./src/templates/TVorRICAMsg.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst TVorRICAMsg = message => `\n  <div id=\"tfg-custom-tvrica-msg\" class=\"tfg-custom-msg\">\n    <p class=\"tfg-custom-icon\"></p>\n    <p class=\"tfg-custom-text\">${message}</p>\n  </div>\n`;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TVorRICAMsg);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/templates/TVorRICAMsg.js?");

/***/ }),

/***/ "./src/templates/index.js":
/*!********************************!*\
  !*** ./src/templates/index.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AddressForm\": () => (/* reexport safe */ _AddressForm__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   \"AlertBox\": () => (/* reexport safe */ _AlertBox__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   \"FurnitureForm\": () => (/* reexport safe */ _FurnitureForm__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"InputError\": () => (/* reexport safe */ _InputError__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   \"MixedProducts\": () => (/* reexport safe */ _MixedProducts__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   \"PickupComplementField\": () => (/* reexport safe */ _AddressForm__WEBPACK_IMPORTED_MODULE_6__.PickupComplementField),\n/* harmony export */   \"RICAForm\": () => (/* reexport safe */ _RICAForm__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   \"SuburbField\": () => (/* reexport safe */ _AddressForm__WEBPACK_IMPORTED_MODULE_6__.SuburbField),\n/* harmony export */   \"TVIDForm\": () => (/* reexport safe */ _TVIDForm__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"TVorRICAMsg\": () => (/* reexport safe */ _TVorRICAMsg__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _FurnitureForm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureForm */ \"./src/templates/FurnitureForm.js\");\n/* harmony import */ var _TVorRICAMsg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TVorRICAMsg */ \"./src/templates/TVorRICAMsg.js\");\n/* harmony import */ var _TVIDForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TVIDForm */ \"./src/templates/TVIDForm.js\");\n/* harmony import */ var _RICAForm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RICAForm */ \"./src/templates/RICAForm.js\");\n/* harmony import */ var _InputError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./InputError */ \"./src/templates/InputError.js\");\n/* harmony import */ var _MixedProducts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MixedProducts */ \"./src/templates/MixedProducts.js\");\n/* harmony import */ var _AddressForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./AddressForm */ \"./src/templates/AddressForm.js\");\n/* harmony import */ var _AlertBox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./AlertBox */ \"./src/templates/AlertBox.js\");\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/templates/index.js?");

/***/ }),

/***/ "./src/utils/const.js":
/*!****************************!*\
  !*** ./src/utils/const.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AD_TYPE\": () => (/* binding */ AD_TYPE),\n/* harmony export */   \"BASE_URL_API\": () => (/* binding */ BASE_URL_API),\n/* harmony export */   \"COUNTRIES\": () => (/* binding */ COUNTRIES),\n/* harmony export */   \"COUNTRIES_AVAILABLES\": () => (/* binding */ COUNTRIES_AVAILABLES),\n/* harmony export */   \"FURNITURE_APP\": () => (/* binding */ FURNITURE_APP),\n/* harmony export */   \"FURNITURE_FEES\": () => (/* binding */ FURNITURE_FEES),\n/* harmony export */   \"RICA_APP\": () => (/* binding */ RICA_APP),\n/* harmony export */   \"STEPS\": () => (/* binding */ STEPS),\n/* harmony export */   \"TIMEOUT_500\": () => (/* binding */ TIMEOUT_500),\n/* harmony export */   \"TIMEOUT_750\": () => (/* binding */ TIMEOUT_750),\n/* harmony export */   \"TV_APP\": () => (/* binding */ TV_APP)\n/* harmony export */ });\n// Checkout steps\nconst STEPS = {\n  CART: '#/cart',\n  PROFILE: '#/profile',\n  SHIPPING: '#/shipping',\n  PAYMENT: '#/payment'\n}; // Address types\n\nconst AD_TYPE = {\n  PICKUP: 'search',\n  DELIVERY: 'residential'\n}; // TIMEOUT\n\nconst TIMEOUT_500 = 500;\nconst TIMEOUT_750 = 750; // APP CONFIGURATION IDs\n\nconst RICA_APP = 'ricafields';\nconst TV_APP = 'tvfields';\nconst FURNITURE_APP = 'furniturefields'; // Furniture fees Url\n\nconst FURNITURE_FEES = 'http://image.tfgmedia.co.za/image/1/process/500x790?source=http://cdn.tfgmedia.co.za' + '/15/Marketing/HTMLPages/Furniture_Delivery_Fees_tab_image.jpg';\nconst COUNTRIES = {\n  za: {\n    code: 'za',\n    phonePlaceholder: '(+27)'\n  } // South Africa\n\n};\nconst COUNTRIES_AVAILABLES = [COUNTRIES.za.code];\nconst BASE_URL_API = window.location.host.includes('bash.com') ? 'https://store-api.www.bash.com/custom-api/' : `${window.location.protocol}//${window.location.host}/custom-api/`;\n\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/utils/const.js?");

/***/ }),

/***/ "./src/utils/functions.js":
/*!********************************!*\
  !*** ./src/utils/functions.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addBorderTop\": () => (/* binding */ addBorderTop),\n/* harmony export */   \"checkoutGetCustomData\": () => (/* binding */ checkoutGetCustomData),\n/* harmony export */   \"checkoutSendCustomData\": () => (/* binding */ checkoutSendCustomData),\n/* harmony export */   \"getShippingData\": () => (/* binding */ getShippingData),\n/* harmony export */   \"isValidNumberBash\": () => (/* binding */ isValidNumberBash),\n/* harmony export */   \"saveAddress\": () => (/* binding */ saveAddress),\n/* harmony export */   \"setMasterdataFields\": () => (/* binding */ setMasterdataFields),\n/* harmony export */   \"setRicaFields\": () => (/* binding */ setRicaFields),\n/* harmony export */   \"waitAndResetLocalStorage\": () => (/* binding */ waitAndResetLocalStorage)\n/* harmony export */ });\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const */ \"./src/utils/const.js\");\n/* harmony import */ var _phoneFields__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./phoneFields */ \"./src/utils/phoneFields.js\");\n/* eslint-disable import/prefer-default-export */\n\n // API Functions\n\nconst getHeadersByConfig = ({\n  cookie,\n  cache,\n  json\n}) => {\n  const headers = new Headers();\n\n  if (cookie) {\n    headers.append('Cookie', document?.cookie);\n  }\n\n  if (cache) {\n    headers.append('Cache-Control', 'no-cache');\n  }\n\n  if (json) {\n    headers.append('Content-type', 'application/json');\n  }\n\n  return headers;\n};\n\nconst getShippingData = async (addressName, fields) => {\n  let data = {};\n  const headers = getHeadersByConfig({\n    cookie: true,\n    cache: true,\n    json: false\n  });\n  const options = {\n    headers,\n    credentials: 'include'\n  };\n  const response = await fetch(`${_const__WEBPACK_IMPORTED_MODULE_0__.BASE_URL_API}masterdata/addresses/${fields}&_where=addressName=${addressName}&timestamp=${Date.now()}`, options).then(res => res.json()).catch(err => console.error(err));\n\n  if (response && !response.error && response.data && response.data.length > 0) {\n    [data] = response.data;\n  }\n\n  return data;\n};\n\nconst saveAddress = async (fields = {}) => {\n  let path;\n  const {\n    email\n  } = window.vtexjs.checkout.orderForm.clientProfileData;\n  const {\n    address\n  } = window.vtexjs.checkout.orderForm.shippingData;\n  if (!address) return; // AD already exists (?)\n\n  const savedAddress = address?.addressId ? await getShippingData(address.addressId, '?_fields=id') : {}; // Guardado del nuevo addressType\n\n  address.addressType = localStorage.getItem('addressType');\n\n  if (savedAddress?.id) {\n    path = `${_const__WEBPACK_IMPORTED_MODULE_0__.BASE_URL_API}masterdata/address/${savedAddress.id}`;\n  } else {\n    path = `${_const__WEBPACK_IMPORTED_MODULE_0__.BASE_URL_API}masterdata/addresses`;\n  } // Importante respetar el orden de address para no sobreescribir receiver, complement y neighborhood\n\n\n  const newAddress = {\n    userId: email,\n    ...address,\n    ...fields\n  };\n\n  if (!savedAddress.id) {\n    newAddress.addressName = address.addressId;\n  }\n\n  const headers = getHeadersByConfig({\n    cookie: true,\n    cache: true,\n    json: true\n  });\n  const options = {\n    method: 'PATCH',\n    headers,\n    body: JSON.stringify(newAddress),\n    credentials: 'include'\n  };\n  await fetch(path, options).then(res => {\n    localStorage.setItem('shippingDataCompleted', true);\n\n    if (res.status !== 204) {\n      res.json();\n    }\n  }).catch(error => console.log(error));\n};\n\nconst setMasterdataFields = async (completeFurnitureForm, completeTVIDForm, tries = 1) => {\n  /* Data will only be searched and set if any of the custom fields for TFG are displayed. */\n  if (completeFurnitureForm || completeTVIDForm) {\n    const {\n      address\n    } = window.vtexjs.checkout.orderForm.shippingData;\n    /* Setting Masterdata custom fields */\n\n    const fields = '?_fields=buildingType,parkingDistance,deliveryFloor,liftOrStairs,hasSufficientSpace' + ',assembleFurniture,tvID';\n    const shippingData = await getShippingData(address.addressId, fields);\n\n    if (shippingData && !jQuery.isEmptyObject(shippingData)) {\n      /* Setting furniture form values */\n      if (completeFurnitureForm) {\n        $('#tfg-building-type').val(shippingData.buildingType);\n        $('#tfg-parking-distance').val(shippingData.parkingDistance);\n        $('#tfg-delivery-floor').val(shippingData.deliveryFloor);\n\n        if ($('#tfg-delivery-floor').val() === 'Ground') {\n          $('#tfg-lift-stairs').attr('disabled', 'disabled');\n        } else {\n          $('#tfg-lift-stairs').val(shippingData.liftOrStairs);\n        }\n\n        $('#tfg-sufficient-space').prop('checked', shippingData.hasSufficientSpace);\n        $('#tfg-assemble-furniture').prop('checked', shippingData.assembleFurniture);\n      }\n      /* Setting TV form values */\n\n\n      if (completeTVIDForm) {\n        $('#tfg-tv-licence').val(shippingData.tvID);\n      }\n    } else if (tries <= 5) {\n      setTimeout(() => {\n        setMasterdataFields(completeFurnitureForm, completeTVIDForm, tries += 1);\n      }, 3000);\n    }\n  }\n}; // Functions to manage CustomData\n\n\nconst checkoutGetCustomData = appId => {\n  const {\n    customData\n  } = window.vtexjs.checkout.orderForm;\n  let fields = {};\n\n  if (customData && customData.customApps && customData.customApps.length > 0) {\n    customData.customApps.forEach(app => {\n      if (app.id === appId) {\n        fields = app.fields;\n      }\n    });\n  }\n\n  return fields;\n};\n\nconst checkoutSendCustomData = (appId, customData) => {\n  const {\n    orderFormId\n  } = window.vtexjs.checkout.orderForm;\n  return $.ajax({\n    type: 'PUT',\n    url: `/api/checkout/pub/orderForm/${orderFormId}/customData/${appId}`,\n    dataType: 'json',\n    contentType: 'application/json; charset=utf-8',\n    data: JSON.stringify(customData)\n  });\n};\n\nconst setRicaFields = (getDataFrom = 'customApps') => {\n  let ricaFields;\n\n  if (getDataFrom === 'shippingAddress') {\n    const {\n      address\n    } = window.vtexjs.checkout.orderForm.shippingData;\n    ricaFields = {\n      idOrPassport: '',\n      sameAddress: 'true',\n      fullName: address.receiverName || $('#ship-receiverName').val(),\n      streetAddress: `${address.street}, ${address.number}`,\n      suburb: address.neighborhood,\n      city: address.city,\n      postalCode: address.postalCode,\n      province: address.state\n    };\n  } else if (getDataFrom === 'customApps') {\n    ricaFields = checkoutGetCustomData(_const__WEBPACK_IMPORTED_MODULE_0__.RICA_APP);\n  }\n\n  if (ricaFields && !jQuery.isEmptyObject(ricaFields)) {\n    if (getDataFrom === 'customApps') {\n      $('#tfg-rica-id-passport').val(ricaFields.idOrPassport);\n      $('#tfg-rica-same-address').prop('checked', ricaFields.sameAddress === 'true');\n    }\n\n    $('#tfg-rica-fullname').val(ricaFields.fullName);\n    $('#tfg-rica-street').val(ricaFields.streetAddress);\n    $('#tfg-rica-suburb').val(ricaFields.suburb);\n    $('#tfg-rica-city').val(ricaFields.city);\n    $('#tfg-rica-postal-code').val(ricaFields.postalCode);\n    $('#tfg-rica-province').val(ricaFields.province);\n  }\n}; // Random Functions\n\n\nconst addBorderTop = elementClass => {\n  $(elementClass).addClass('custom-step-border');\n  $(elementClass).last().addClass('last-custom-step-border');\n};\n\nconst waitAndResetLocalStorage = () => {\n  setTimeout(() => {\n    localStorage.removeItem('shippingDataCompleted');\n  }, 5000);\n};\n\nconst isValidNumberBash = tel => (0,_phoneFields__WEBPACK_IMPORTED_MODULE_1__.validatePhoneNumber)(tel);\n\n\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/utils/functions.js?");

/***/ }),

/***/ "./src/utils/phoneFields.js":
/*!**********************************!*\
  !*** ./src/utils/phoneFields.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"preparePhoneField\": () => (/* binding */ preparePhoneField),\n/* harmony export */   \"validatePhoneNumber\": () => (/* binding */ validatePhoneNumber)\n/* harmony export */ });\n/**\n * validatePhoneNumber\n * Determine if number is valid.\n * Numbers and spaces only, 9 digits or longer.\n * @param tel - string\n * @returns boolean\n */\nconst validatePhoneNumber = tel => {\n  if (!tel) return false;\n  tel = tel.replace(/\\s/g, '');\n  return tel.match(/[0-9\\s]{9,}/);\n};\n/**\n * formattedPhoneNumber\n * Add spaces to help guide the user how the number should look.\n * Adds space after 3rd and 6th digits only.\n * xxx xxx xxxxxxxxx\n * @param value - string value\n * @returns string\n */\n\nconst formattedPhoneNumber = (value, doFormat = true) => {\n  value = value.replace(/[^0-9+*#]+/g, '').trim(); // 'xxx xxx *'\n\n  if (value.length >= 6 && doFormat) {\n    return [value.slice(0, 3), value.slice(3, 6), value.slice(6)].join(' ');\n  } // 'xxx *'\n\n\n  if (value.length >= 3 && doFormat) {\n    return [value.slice(0, 3), value.slice(3)].join(' ');\n  }\n\n  return value;\n};\n/**\n * preparePhoneField\n * When phone fields are loaded onto the DOM\n * Prepare them for proper display and validation.\n *\n * @param  input - string css selector to the element.\n */\n\n\nconst preparePhoneField = input => {\n  const phoneInput = document.querySelector(input);\n  if (!phoneInput) return;\n  phoneInput.setAttribute('type', 'tel');\n  phoneInput.setAttribute('maxlength', 12);\n  phoneInput.value = formattedPhoneNumber(phoneInput.value);\n  const $phoneInput = $(input);\n  $phoneInput.keyup(e => {\n    const value = e.currentTarget.value.replace(/[^0-9+*#]+/g, '').trim();\n    let displayValue = value;\n    const isBackSpace = e.keyCode === 8;\n    displayValue = formattedPhoneNumber(value, !isBackSpace);\n    $phoneInput.parent('.text').removeClass('error');\n    $phoneInput.parent('.text').find('span.error').hide();\n    $phoneInput.val(displayValue);\n  });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  validatePhoneNumber\n});\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/utils/phoneFields.js?");

/***/ }),

/***/ "./src/utils/translations.js":
/*!***********************************!*\
  !*** ./src/utils/translations.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ setTranslations)\n/* harmony export */ });\nfunction setTranslations() {\n  $('.btn-go-to-shippping-method').text('Save address');\n}\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/utils/translations.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/checkout6-custom.js");
/******/ 	
/******/ })()
;