/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/checkout6-custom.js":
/*!*********************************!*\
  !*** ./src/checkout6-custom.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _controller_CollectController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./controller/CollectController */ \"./src/controller/CollectController.js\");\n/* harmony import */ var _controller_DeliverController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controller/DeliverController */ \"./src/controller/DeliverController.js\");\n/* harmony import */ var _controller_FormController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controller/FormController */ \"./src/controller/FormController.js\");\n/* harmony import */ var _controller_ViewController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./controller/ViewController */ \"./src/controller/ViewController.js\");\n// // import AddressController from './controller/AddressController';\n\n\n\n // // AddressController.init();\n\n_controller_ViewController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].init();\n_controller_FormController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].init();\n_controller_CollectController__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init();\n_controller_DeliverController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init();\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/checkout6-custom.js?");

/***/ }),

/***/ "./src/controller/CollectController.js":
/*!*********************************************!*\
  !*** ./src/controller/CollectController.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _partials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../partials */ \"./src/partials/index.js\");\n/* harmony import */ var _utils_const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/const */ \"./src/utils/const.js\");\n/* harmony import */ var _utils_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/functions */ \"./src/utils/functions.js\");\n\n\n\n\nconst CollectController = (() => {\n  const state = {\n    inCollect: false,\n    pickupSelected: false,\n    validForm: false,\n    runningObserver: false\n  };\n\n  const changeTranslations = () => {\n    $('p.vtex-omnishipping-1-x-shippingSectionTitle').text('Collect options');\n    $('#change-pickup-button').text('Available pickup points');\n    $('h2.vtex-omnishipping-1-x-geolocationTitle.ask-for-geolocation-title').text('Find nearby Click & Collect points');\n    $('h3.vtex-omnishipping-1-x-subtitle.ask-for-geolocation-subtitle').text(\"Search for addresses that you frequently use and we'll locate stores nearby.\");\n\n    if (state.pickupSelected) {\n      $('label.shp-pickup-receiver__label').text(\"Recipient's name\");\n    }\n  };\n\n  const checkFields = fields => {\n    fields.forEach(field => {\n      let isValid = true;\n      let parent;\n\n      switch (field) {\n        case 'pickup-receiver':\n          isValid = !($(`#${field}`).length > 0 && !$(`#${field}`).attr('disabled') && !$(`#${field}`).val());\n          parent = '.shp-pickup-receiver';\n          break;\n\n        case 'custom-pickup-complement':\n          isValid = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.isValidNumberBash)($(`#${field}`).val());\n          parent = '#box-pickup-complement';\n          break;\n\n        default:\n          break;\n      }\n\n      if (!isValid) {\n        $(parent).addClass('error');\n        $(parent).append((0,_partials__WEBPACK_IMPORTED_MODULE_0__.InputError)());\n        $(`${parent} span.error`).show();\n        state.validForm = false;\n      } else {\n        $(parent).removeClass('error');\n      }\n    });\n  };\n\n  const checkForm = () => {\n    $('span.help.error').remove();\n    state.validForm = true;\n    checkFields(['pickup-receiver', 'custom-pickup-complement']);\n  };\n\n  const saveCollectFields = () => {\n    checkForm();\n\n    if (state.validForm) {\n      let collectPhone = $('#custom-pickup-complement').val().replace(/\\s/g, '');\n\n      if (collectPhone.length === 9 && collectPhone[0] !== '0') {\n        collectPhone = `0${collectPhone}`;\n      }\n\n      localStorage.setItem('saving-shipping-collect', true);\n      $('#btn-go-to-payment').trigger('click');\n      setTimeout(() => {\n        window.vtexjs.checkout.getOrderForm().then(orderForm => {\n          const {\n            address\n          } = orderForm.shippingData;\n          address.complement = collectPhone;\n          return window.vtexjs.checkout.calculateShipping(address);\n        }).done(() => {\n          localStorage.removeItem('saving-shipping-collect');\n        });\n      }, _utils_const__WEBPACK_IMPORTED_MODULE_1__.TIMEOUT_750);\n    }\n  }; //! TODO: al merger a develop podemos refactorizar esta función llevándola a utils\n\n\n  const setInputPhone = () => {\n    const phoneInput = document.querySelector('input#custom-pickup-complement');\n\n    if (phoneInput) {\n      phoneInput.setAttribute('placeholder', '');\n    }\n  };\n\n  const prePopulateReceiverName = () => {\n    const {\n      firstName,\n      lastName\n    } = window.vtexjs.checkout.orderForm?.clientProfileData;\n    const firstNameInput = $('#client-first-name').val();\n    const lastNameInput = $('#client-last-name').val();\n    const receiverName = firstName ? [firstName, lastName].join(' ') : [firstNameInput, lastNameInput].join(' ');\n\n    if ($('input#pickup-receiver').val() === '') {\n      $('input#pickup-receiver').val(receiverName.trim());\n      window.vtexjs.checkout.getOrderForm().then(orderForm => {\n        const {\n          shippingData\n        } = orderForm;\n        shippingData.address.receiverName = receiverName.trim();\n        return window.vtexjs.checkout.sendAttachment('shippingData', shippingData);\n      });\n    }\n  };\n\n  const addCustomPhoneInput = () => {\n    /* Set orderForm value if exists */\n    const phoneNumber = window.vtexjs.checkout.orderForm?.clientProfileData?.phone ?? $('#client-phone').val() ?? '';\n\n    if ($('input#custom-pickup-complement').length === 0) {\n      $('.btn-go-to-payment-wrapper').before(_partials__WEBPACK_IMPORTED_MODULE_0__.PickupComplementField);\n      setInputPhone();\n\n      if (phoneNumber) {\n        $('input#custom-pickup-complement').val(phoneNumber);\n      }\n    } else if ($('input#custom-pickup-complement').val() === '') {\n      $('input#custom-pickup-complement').val(phoneNumber);\n      window.vtexjs.checkout.getOrderForm().then(orderForm => {\n        const {\n          shippingData\n        } = orderForm;\n        shippingData.address.complement = phoneNumber;\n        return window.vtexjs.checkout.sendAttachment('shippingData', shippingData);\n      });\n    }\n\n    prePopulateReceiverName();\n  }; //! TODO: al merger a develop podemos refactorizar esta función llevándola a utils\n\n\n  const addCustomBtnPayment = () => {\n    if ($('#custom-go-to-payment').length <= 0) {\n      const nativePaymentBtn = $('#btn-go-to-payment');\n      const customPaymentBtn = nativePaymentBtn.clone(false);\n      $(nativePaymentBtn).hide();\n      $(customPaymentBtn).data('bind', '');\n      $(customPaymentBtn).removeAttr('id').attr('id', 'custom-go-to-payment');\n      $(customPaymentBtn).removeAttr('data-bind');\n      $(customPaymentBtn).css('display', 'block');\n      $('p.btn-go-to-payment-wrapper').append(customPaymentBtn);\n      $(customPaymentBtn).on('click', saveCollectFields);\n    }\n  };\n\n  const runCustomization = () => {\n    const shippingLoaded = $('div#postalCode-finished-loading').length > 0;\n\n    if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.SHIPPING && shippingLoaded) {\n      state.inCollect = $('#shipping-option-pickup-in-point').hasClass('shp-method-option-active');\n      state.pickupSelected = $('div.ask-for-geolocation').length === 0;\n\n      if (state.inCollect) {\n        if (state.pickupSelected) {\n          $('button.shp-pickup-receiver__btn').trigger('click');\n          $('div.shp-pickup-receiver').addClass('show');\n          addCustomPhoneInput();\n          addCustomBtnPayment();\n        } else {\n          $('div.shp-pickup-receiver').removeClass('show');\n        }\n\n        changeTranslations();\n      }\n      /* If it has been redirected because of missing values, the click is forced to show the errors */\n\n\n      if (localStorage.getItem('shipping-incomplete-values')) {\n        $('#custom-go-to-payment').trigger('click');\n        localStorage.removeItem('shipping-incomplete-values');\n      }\n    } else {\n      /* Remove box-pickup-complement so that the input does not appear in the other steps of the checkout process  */\n      $('#box-pickup-complement').remove();\n\n      if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.PAYMENT) {\n        setTimeout(() => {\n          const address = window.vtexjs.checkout.orderForm?.shippingData?.address;\n          const savingCollect = localStorage.getItem('saving-shipping-collect');\n\n          if (!savingCollect) {\n            /* Redirect to shipping if required fields are empty */\n            if (address && address.addressType === _utils_const__WEBPACK_IMPORTED_MODULE_1__.AD_TYPE.PICKUP && (!address.receiverName || !address.complement)) {\n              window.location.hash = _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.SHIPPING;\n              localStorage.setItem('shipping-incomplete-values', true);\n            }\n          }\n        }, 1000);\n      }\n    } // eslint-disable-next-line no-use-before-define\n\n\n    runCollectObserver();\n  };\n  /* We need this observer to detect the change in the deliver and collect buttons */\n\n\n  const runCollectObserver = () => {\n    if (state.runningObserver) return;\n    const elementToObserveChange = document.querySelector('.shipping-container .box-step');\n    const observerConfig = {\n      attributes: false,\n      childList: true,\n      characterData: false\n    };\n    const observer = new MutationObserver(() => {\n      state.runningObserver = true;\n      runCustomization();\n    });\n\n    if (elementToObserveChange) {\n      observer.observe(elementToObserveChange, observerConfig);\n    }\n  }; // EVENTS SUBSCRIPTION\n\n\n  $(document).ready(() => {\n    runCustomization();\n  });\n  $(window).on('hashchange orderFormUpdated.vtex', () => {\n    runCustomization();\n  });\n  return {\n    state,\n    init: () => {}\n  };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CollectController);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/controller/CollectController.js?");

/***/ }),

/***/ "./src/controller/DeliverController.js":
/*!*********************************************!*\
  !*** ./src/controller/DeliverController.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _partials_Deliver_DeliverContainer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../partials/Deliver/DeliverContainer */ \"./src/partials/Deliver/DeliverContainer.js\");\n/* harmony import */ var _partials_Deliver_ExtraFieldsContainer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../partials/Deliver/ExtraFieldsContainer */ \"./src/partials/Deliver/ExtraFieldsContainer.js\");\n/* harmony import */ var _partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../partials/Deliver/utils */ \"./src/partials/Deliver/utils.js\");\n/* harmony import */ var _utils_const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/const */ \"./src/utils/const.js\");\n/* harmony import */ var _utils_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/functions */ \"./src/utils/functions.js\");\n/* harmony import */ var _utils_services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/services */ \"./src/utils/services.js\");\n\n\n\n\n\n\n\nconst DeliverController = (() => {\n  const state = {\n    view: 'list',\n    hasFurn: false,\n    hasTVs: false,\n    hasSim: false\n  };\n\n  const setupDeliver = () => {\n    if ($('#bash--delivery-container').length) return;\n\n    if (window.vtexjs.checkout.orderForm) {\n      const items = window.vtexjs.checkout.orderForm?.items;\n      const {\n        hasFurniture,\n        hasTVs,\n        hasSimCards\n      } = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_4__.getSpecialCategories)(items);\n      state.hasFurn = hasFurniture;\n      state.hasTVs = hasTVs;\n      state.hasSim = hasSimCards;\n    }\n\n    $('.shipping-data .box-step').append((0,_partials_Deliver_DeliverContainer__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n      hasFurn: state.hasFurn\n    }));\n    const showExtraFields = state.hasFurn || state.hasSim || state.hasTVs;\n\n    if (showExtraFields) {\n      $('#bash-delivery-options').before((0,_partials_Deliver_ExtraFieldsContainer__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n        hasFurn: state.hasFurn,\n        hasSim: state.hasSim,\n        hasTV: state.hasTVs\n      }));\n      if (state.hasFurn) (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.populateFurnitureFields)();\n      if (state.hasSim) (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.populateRicaFields)();\n      if (state.hasTVs) (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.populateTVFields)();\n    }\n\n    const fieldsToValidate = 'select, input';\n    $(fieldsToValidate).on('invalid', function () {\n      const field = this;\n      $(field)[0].setCustomValidity(' ');\n      $(field).parents('form').addClass('show-form-errors');\n      $(field).off('change keyUp');\n      $(field).on('change keyUp', () => {\n        $(field)[0].setCustomValidity('');\n      });\n    });\n  }; // EVENTS\n\n\n  $(window).unload(() => {\n    (0,_utils_services__WEBPACK_IMPORTED_MODULE_5__.clearAddresses)();\n  });\n  $(document).ready(() => {\n    (0,_utils_services__WEBPACK_IMPORTED_MODULE_5__.clearAddresses)();\n\n    if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_3__.STEPS.SHIPPING) {\n      setupDeliver();\n      $('.bash--delivery-container.hide').removeClass('hide');\n    } else if ($('.bash--delivery-container:not(.hide)').length) {\n      $('.bash--delivery-container:not(.hide)').addClass('hide');\n    }\n  });\n  $(window).on('hashchange', () => {\n    if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_3__.STEPS.SHIPPING) {\n      setupDeliver();\n      (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.setCartClasses)();\n      $('.bash--delivery-container.hide').removeClass('hide');\n    } else if ($('.bash--delivery-container:not(.hide)').length) {\n      $('.bash--delivery-container:not(.hide)').addClass('hide');\n    }\n  }); // Define which tab is active ;/\n\n  $(window).on('orderFormUpdated.vtex', () => {\n    const items = window.vtexjs.checkout.orderForm?.items;\n    const addressType = window.vtexjs.checkout.orderForm.shippingData?.address?.addressType;\n    const {\n      hasTVs,\n      hasSimCards\n    } = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_4__.getSpecialCategories)(items);\n    const {\n      messages\n    } = window.vtexjs.checkout.orderForm;\n\n    if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_3__.STEPS.SHIPPING) {\n      const errors = messages.filter(msg => msg.status === 'error');\n      if (errors) (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.populateDeliveryError)(errors);\n    }\n\n    if (addressType === 'search') {\n      // User has Collect enabled, but has Rica or TV products.\n      if (hasTVs || hasSimCards) {\n        if (window.location.hash !== _utils_const__WEBPACK_IMPORTED_MODULE_3__.STEPS.SHIPPING) window.location.hash = _utils_const__WEBPACK_IMPORTED_MODULE_3__.STEPS.SHIPPING;\n        setTimeout(() => document.getElementById('shipping-option-delivery')?.click(), 2000);\n        return;\n      }\n\n      $('#shipping-data:not(collection-active)').addClass('collection-active');\n      $('.delivery-active').removeClass('delivery-active');\n    } else {\n      setupDeliver();\n      $('#shipping-data:not(delivery-active)').addClass('delivery-active');\n      $('.collection-active').removeClass('collection-active');\n    }\n\n    (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.setCartClasses)();\n    (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.updateDeliveryFeeDisplay)();\n\n    if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_3__.STEPS.PAYMENT && !(0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.customShippingDataIsValid)()) {\n      window.location.hash = _utils_const__WEBPACK_IMPORTED_MODULE_3__.STEPS.SHIPPING;\n    }\n  }); // Change view\n\n  $(document).on('click', 'a[data-view]', function (e) {\n    e.preventDefault();\n    const viewTarget = $(this).data('view');\n    const content = decodeURIComponent($(this).data('content'));\n    window.postMessage({\n      action: 'setDeliveryView',\n      view: viewTarget,\n      content\n    });\n  }); // Select address\n\n  $(document).on('change', 'input[type=\"radio\"][name=\"selected-address\"]', function () {\n    const address = (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.parseAttribute)($(this).parents('.bash--address-listing').data('address'));\n\n    if (document.forms['bash--delivery-form']) {\n      document.forms['bash--delivery-form'].reset();\n      document.forms['bash--delivery-form'].classList.remove('show-form-errors');\n    }\n\n    (0,_utils_services__WEBPACK_IMPORTED_MODULE_5__.getAddressByName)(address.addressName).then(addressByName => {\n      (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.setAddress)(addressByName || address, {\n        validateExtraFields: false\n      });\n      $('input[type=\"radio\"][name=\"selected-address\"]:checked').attr('checked', false);\n      $(this).attr('checked', true);\n    });\n  }); // Rica - show/hide address fields\n\n  $(document).on('change', '#bash--input-rica_sameAddress', function () {\n    if (this.checked) {\n      $('.rica-conditional-fields').slideUp(() => (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.populateRicaFields)());\n    } else {\n      (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.clearRicaFields)();\n      $('.rica-conditional-fields').slideDown(() => $('#bash--input-rica_fullName').focus());\n    }\n  }); // address type - change building/complex label to either business\n\n  $(document).on('change', 'input[name=\"addressType\"]', function () {\n    if ($(this).is(':checked')) {\n      if ($(this).val() === 'business') {\n        $('#bash--label-companyBuilding').text('Business name');\n      } else {\n        $('#bash--label-companyBuilding').text('Building/Complex and number');\n      }\n    }\n  }); // Furniture - enable/disable liftOrStairs\n\n  $(document).on('change', '#bash--input-deliveryFloor', function () {\n    (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.showHideLiftOrStairs)(this.value);\n  });\n  $(document).on('submit', '#bash--address-form', _partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.submitAddressForm);\n  $(document).on('submit', '#bash--delivery-form', _partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.submitDeliveryForm);\n  $(document).on('click', '.remove-cart-item', function (e) {\n    e.preventDefault();\n    (0,_utils_services__WEBPACK_IMPORTED_MODULE_5__.removeFromCart)($(this).data('index'));\n  }); // Form validation\n\n  window.addEventListener('message', event => {\n    const {\n      data\n    } = event;\n    if (!data || !data.action) return;\n\n    switch (data.action) {\n      case 'setDeliveryView':\n        document.querySelector('.bash--delivery-container').setAttribute('data-view', data.view);\n\n        if (data.view === 'address-form' || data.view === 'address-edit') {\n          (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.preparePhoneField)('#bash--input-complement');\n\n          if (data.content) {\n            const address = JSON.parse(decodeURIComponent($(`#${data.content}`).data('address')));\n            (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_2__.populateAddressForm)(address);\n          }\n        }\n\n        break;\n\n      default:\n        console.error('Unknown action', data.action);\n    }\n  }); // Clear local checkout DB on ext.\n  // window.addEventListener('beforeunload', clearAddresses);\n\n  return {\n    state,\n    init: () => {}\n  };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DeliverController);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/controller/DeliverController.js?");

/***/ }),

/***/ "./src/controller/FormController.js":
/*!******************************************!*\
  !*** ./src/controller/FormController.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _partials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../partials */ \"./src/partials/index.js\");\n/* harmony import */ var _utils_const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/const */ \"./src/utils/const.js\");\n/* harmony import */ var _utils_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/functions */ \"./src/utils/functions.js\");\n/* harmony import */ var _ViewController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ViewController */ \"./src/controller/ViewController.js\");\n/* eslint-disable func-names */\n\n\n\n\n\nconst FormController = (() => {\n  const state = {\n    validForm: true,\n    runningObserver: false\n  };\n\n  const checkField = field => {\n    if ($(`#${field}`).length > 0 && !$(`#${field}`).attr('disabled') && !$(`#${field}`).val()) {\n      $(`.${field}`).addClass('error');\n      $(`.${field}`).append(_partials__WEBPACK_IMPORTED_MODULE_0__.InputError);\n      $(`.${field} span.error`).show();\n      state.validForm = false;\n    } else {\n      $(`.${field}`).removeClass('error');\n    }\n  };\n\n  const checkFields = fields => {\n    fields.forEach(field => {\n      checkField(field);\n    });\n  };\n\n  const checkFurnitureForm = () => {\n    const furnitureFields = ['tfg-building-type', 'tfg-parking-distance', 'tfg-delivery-floor', 'tfg-lift-stairs'];\n    checkFields(furnitureFields);\n  };\n\n  const checkRICAForm = () => {\n    const ricaFields = ['tfg-rica-id-passport', 'tfg-rica-fullname', 'tfg-rica-street', 'tfg-rica-suburb', 'tfg-rica-city', 'tfg-rica-postal-code', 'tfg-rica-province'];\n    checkFields(ricaFields);\n  };\n\n  const checkForm = () => {\n    // Reset state & clear errors\n    $('span.help.error').remove();\n    state.validForm = true;\n    /* Checking Receiver & Receiver Phone */\n\n    if ($('div.address-list.vtex-omnishipping-1-x-addressList').length <= 0) {\n      checkField('ship-receiverName');\n\n      if (!(0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.isValidNumberBash)(document.querySelector('.vtex-omnishipping-1-x-address input#ship-complement').value)) {\n        $('.vtex-omnishipping-1-x-address .ship-complement').addClass('error');\n        $('.vtex-omnishipping-1-x-address .ship-complement').append((0,_partials__WEBPACK_IMPORTED_MODULE_0__.InputError)());\n        $('.vtex-omnishipping-1-x-address .ship-complement span.error').show();\n        state.validForm = false;\n      } else {\n        $('.vtex-omnishipping-1-x-address .ship-complement').removeClass('error');\n      }\n    }\n    /* Checking Custom Fields */\n\n\n    if (_ViewController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].state.showFurnitureForm) {\n      checkFurnitureForm();\n    }\n\n    if (_ViewController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].state.showRICAForm) {\n      checkRICAForm();\n    }\n\n    if (_ViewController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].state.showTVIDForm) {\n      checkField('tfg-tv-licence');\n    }\n  };\n\n  const getFurnitureFormFields = () => {\n    const furnitureFields = {};\n    furnitureFields.furnitureReady = true;\n    furnitureFields.buildingType = $('#tfg-building-type').val();\n    furnitureFields.parkingDistance = $('#tfg-parking-distance').val();\n    furnitureFields.deliveryFloor = $('#tfg-delivery-floor').val();\n\n    if (!$('#tfg-lift-stairs').attr('disabled')) {\n      furnitureFields.liftOrStairs = $('#tfg-lift-stairs').val();\n    }\n\n    furnitureFields.hasSufficientSpace = $('#tfg-sufficient-space').is(':checked');\n    furnitureFields.assembleFurniture = $('#tfg-assemble-furniture').is(':checked');\n    return furnitureFields;\n  };\n\n  const getRICAFields = () => {\n    const ricaFields = {};\n    ricaFields.idOrPassport = $('#tfg-rica-id-passport').val();\n    ricaFields.sameAddress = $('#tfg-rica-same-address').is(':checked');\n    ricaFields.fullName = $('#tfg-rica-fullname').val();\n    ricaFields.streetAddress = $('#tfg-rica-street').val();\n    ricaFields.suburb = $('#tfg-rica-suburb').val();\n    ricaFields.city = $('#tfg-rica-city').val();\n    ricaFields.postalCode = $('#tfg-rica-postal-code').val();\n    ricaFields.province = $('#tfg-rica-province').val();\n    ricaFields.country = $('#tfg-rica-country').val();\n    return ricaFields;\n  };\n\n  const saveAddressType = () => {\n    const addressType = localStorage.getItem('addressType');\n    window.vtexjs.checkout.getOrderForm().then(orderForm => {\n      const {\n        shippingData\n      } = orderForm;\n      shippingData.selectedAddresses[0].addressType = addressType;\n      return window.vtexjs.checkout.sendAttachment('shippingData', shippingData);\n    });\n  };\n\n  const getTVFormFields = () => ({\n    tvID: $('#tfg-tv-licence').val()\n  });\n\n  const saveShippingForm = () => {\n    const {\n      showFurnitureForm,\n      showRICAForm,\n      showTVIDForm\n    } = _ViewController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].state;\n    checkForm();\n    console.log('!! saveShippingForm - state', state);\n\n    if (!state.validForm) {// Click edit\n    }\n\n    if (state.validForm) {\n      // Fields saved in orderForm\n      if (showRICAForm) {\n        const ricaFields = getRICAFields();\n        (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.checkoutSendCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_1__.RICA_APP, ricaFields);\n      } // Fields saved in Masterdata\n\n\n      const masterdataFields = {};\n\n      if (showFurnitureForm) {\n        const furnitureFields = getFurnitureFormFields();\n        (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.checkoutSendCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_1__.FURNITURE_APP, furnitureFields);\n        Object.assign(masterdataFields, furnitureFields);\n      }\n\n      if (showTVIDForm) {\n        const tvFields = getTVFormFields();\n        (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.checkoutSendCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_1__.TV_APP, tvFields);\n        Object.assign(masterdataFields, tvFields);\n      }\n\n      (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.saveAddress)(masterdataFields);\n      setTimeout(() => {\n        $('#btn-go-to-payment').trigger('click');\n        saveAddressType();\n      }, _utils_const__WEBPACK_IMPORTED_MODULE_1__.TIMEOUT_750);\n    }\n  };\n\n  const addCustomBtnPayment = () => {\n    if ($('#custom-go-to-payment').length <= 0) {\n      const nativePaymentBtn = $('#btn-go-to-payment');\n      const customPaymentBtn = nativePaymentBtn.clone(false);\n      $(nativePaymentBtn).hide();\n      $(customPaymentBtn).data('bind', '');\n      $(customPaymentBtn).removeAttr('id').attr('id', 'custom-go-to-payment');\n      $(customPaymentBtn).removeAttr('data-bind');\n      $(customPaymentBtn).css('display', 'block');\n      $('p.btn-go-to-payment-wrapper').append(customPaymentBtn);\n      $(customPaymentBtn).on('click', saveShippingForm);\n    }\n  };\n\n  const runCustomization = () => {\n    // If user has no addresses, and has Deliver selected.\n    if ($('div.address-list').length < 1 && $('#shipping-option-delivery').hasClass('shp-method-option-active') && $('body').data('delivery-view') !== 'address-list') {\n      $('body:not(.has-no-addresses)').addClass('has-no-addresses');\n    } else {\n      $('body.has-no-addresses').removeClass('has-no-addresses');\n    }\n\n    if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.SHIPPING) {\n      setTimeout(() => {\n        const selectedDelivery = $('#shipping-option-delivery').hasClass('shp-method-option-active');\n\n        if (selectedDelivery) {\n          addCustomBtnPayment();\n        } // eslint-disable-next-line no-use-before-define\n\n\n        runFormObserver();\n      }, _utils_const__WEBPACK_IMPORTED_MODULE_1__.TIMEOUT_750);\n    }\n  }; // INPUT EVENT SUBSCRIPTION\n\n\n  const runFormObserver = () => {\n    if (state.runningObserver) return;\n    const elementToObserveChange = document.querySelector('.shipping-container .box-step');\n    const observerConfig = {\n      attributes: false,\n      childList: true,\n      characterData: false\n    };\n    const observer = new MutationObserver(() => {\n      state.runningObserver = true;\n\n      if (window.location.hash === _utils_const__WEBPACK_IMPORTED_MODULE_1__.STEPS.SHIPPING && !$('btn-link vtex-omnishipping-1-x-btnDelivery').length) {\n        runCustomization();\n      }\n    });\n\n    if (elementToObserveChange) {\n      observer.observe(elementToObserveChange, observerConfig);\n    }\n  };\n\n  $(document).on('change', '.vtex-omnishipping-1-x-deliveryGroup #tfg-delivery-floor', function () {\n    if ($(this).val() === 'Ground') {\n      $('#tfg-lift-stairs').val('');\n      $('#tfg-lift-stairs').attr('disabled', 'disabled');\n      $('#tfg-lift-stairs').next('span.help.error').remove();\n      $('.tfg-lift-stairs').removeClass('error');\n    } else {\n      $('#tfg-lift-stairs').removeAttr('disabled');\n    }\n  });\n  $(document).on('change', '.vtex-omnishipping-1-x-deliveryGroup .tfg-custom-selector, .vtex-omnishipping-1-x-deliveryGroup .tfg-input', function () {\n    if ($(this).val()) {\n      $(this).parent().removeClass('error');\n      $(this).next('span.help.error').remove();\n      $(this).addClass('tfg-input-completed');\n    } else {\n      $(this).removeClass('tfg-input-completed');\n    }\n  });\n  $(document).on('change keyup', '.vtex-omnishipping-1-x-addressForm input, #tfg-tv-licence', function () {\n    if ($(this).val()) {\n      $(this).parent().removeClass('error');\n      $(this).next('span.help.error').remove();\n    }\n  });\n  $(document).on('change', '.vtex-omnishipping-1-x-deliveryGroup #tfg-rica-same-address', function () {\n    if ($(this).is(':checked')) {\n      (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.setRicaFields)('shippingAddress');\n    } else {\n      $('.rica-field').val('');\n    }\n  });\n  $(document).on('click', '#shipping-data .btn-link.vtex-omnishipping-1-x-btnDelivery', () => {\n    runCustomization();\n  }); // EVENTS SUBSCRIPTION\n\n  $(document).ready(() => {\n    runCustomization();\n  });\n  $(window).on('hashchange orderFormUpdated.vtex', () => {\n    runCustomization();\n  });\n  return {\n    state,\n    init: () => {}\n  };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FormController);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/controller/FormController.js?");

/***/ }),

/***/ "./src/controller/ViewController.js":
/*!******************************************!*\
  !*** ./src/controller/ViewController.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _partials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../partials */ \"./src/partials/index.js\");\n/* harmony import */ var _utils_const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/const */ \"./src/utils/const.js\");\n/* harmony import */ var _utils_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/functions */ \"./src/utils/functions.js\");\n\n\n\n\nconst ViewController = (() => {\n  const state = {\n    showFurnitureForm: false,\n    showTVIDForm: false,\n    showRICAForm: false,\n    showTVorRICAMsg: false,\n    showMixedProductsMsg: false,\n    runningObserver: false\n  };\n\n  const checkCartCategories = () => {\n    if (window.vtexjs.checkout.orderForm) {\n      const {\n        items\n      } = window.vtexjs.checkout.orderForm;\n      const {\n        hasFurniture,\n        hasTVs,\n        hasSimCards,\n        categories\n      } = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.getSpecialCategories)(items);\n      state.showFurnitureForm = hasFurniture;\n      state.showTVIDForm = hasTVs;\n      state.showRICAForm = hasSimCards;\n      state.showTVorRICAMsg = state.showTVIDForm || state.showRICAForm;\n      /**\r\n        Conditions to show mixed products alert:\r\n        - more than one item\r\n        - after filter categories, this array includes at least one furniture id\r\n        - there are only one category OR not all the categories in the array are furniture\r\n      */\n\n      state.showMixedProductsMsg = items.length > 1 && hasFurniture && !categories.every(c => c === _utils_const__WEBPACK_IMPORTED_MODULE_1__.FURNITURE_CAT);\n    }\n  };\n\n  const showCustomSections = () => {\n    const tvOrRICAMsgStepExists = $('#tfg-custom-tvrica-msg').length > 0;\n    const mixedProductsMsgExits = $('#tfg-custom-mixed-msg').length > 0;\n    let addBorder = false;\n\n    if (state.showTVorRICAMsg || state.showMixedProductsMsg) {\n      if ($('.vtex-omnishipping-1-x-deliveryChannelsWrapper.custom-disabled').length < 1) {\n        $('#shipping-option-delivery').trigger('click');\n        $('.vtex-omnishipping-1-x-deliveryChannelsWrapper').addClass('custom-disabled');\n      }\n\n      if (state.showTVorRICAMsg && !tvOrRICAMsgStepExists) {\n        $('.vtex-omnishipping-1-x-addressFormPart1').prepend((0,_partials__WEBPACK_IMPORTED_MODULE_0__.TVorRICAMsg)());\n        addBorder = true;\n      }\n\n      if (state.showMixedProductsMsg && !mixedProductsMsgExits) {\n        $('.vtex-omnishipping-1-x-addressFormPart1').prepend((0,_partials__WEBPACK_IMPORTED_MODULE_0__.MixedProducts)());\n        addBorder = true;\n      }\n    }\n\n    if (addBorder) (0,_utils_functions__WEBPACK_IMPORTED_MODULE_2__.addBorderTop)('.tfg-custom-step');\n  };\n\n  const runCustomization = () => {\n    /* Hiding subheader when there is furniture in cart */\n    setTimeout(() => {\n      checkCartCategories();\n\n      if (state.showFurnitureForm) {\n        $('div.subheader').css('display', 'none');\n      } else {\n        $('div.subheader').css('display', 'block');\n      }\n    }, _utils_const__WEBPACK_IMPORTED_MODULE_1__.TIMEOUT_500);\n  };\n\n  const setView = view => {\n    document.body.setAttribute('data-delivery-view', view);\n  }; // EVENTS SUBSCRIPTION\n\n\n  $(document).ready(() => {\n    runCustomization();\n  });\n  $(window).on('hashchange orderFormUpdated.vtex', () => {\n    runCustomization();\n  });\n  $(document).on('click', '#shipping-data .btn-link.vtex-omnishipping-1-x-btnDelivery', () => {\n    runCustomization();\n  });\n  return {\n    state,\n    setView,\n    showCustomSections,\n    init: () => {}\n  };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ViewController);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/controller/ViewController.js?");

/***/ }),

/***/ "./src/partials/AddressForm.js":
/*!*************************************!*\
  !*** ./src/partials/AddressForm.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PickupComplementField\": () => (/* binding */ PickupComplementField),\n/* harmony export */   \"SuburbField\": () => (/* binding */ SuburbField),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst AddressForm = () => `<p class=\"input custom-field-receiverName tfg-custom-addressForm\">\n      <label>Recipient</label>\n      <input id=\"custom-field-receiverName\" class=\"input-xlarge success\" type=\"text\" field=\"receiverName\" />\n    </p>\n    <p class=\"input custom-field-complement tfg-custom-addressForm\">\n      <label>Mobile number</label>\n      <input id=\"custom-field-complement\" class=\"input-xlarge success\" type=\"text\" field=\"complement\"/>\n    </p>\n    <p class=\"input custom-field-companyBuilding tfg-custom-addressForm\">\n      <label>Company/Building</label>\n      <input id=\"custom-field-companyBuilding\" class=\"input-xlarge success\" type=\"text\" field=\"companyBuilding\"/>\n    </p>\n  `;\n\nconst SuburbField = () => `<p class=\"input custom-field-neighborhood tfg-custom-addressForm\">\n<label>Suburb</label>\n<input id=\"custom-field-neighborhood\" class=\"input-xlarge success\" type=\"text\" field=\"neighborhood\"/>\n</p>`;\nconst PickupComplementField = () => `\n  <p id=\"box-pickup-complement\" class=\"input custom-field-complement tfg-custom-addressForm\">\n    <label>Mobile number</label>\n    <input id=\"custom-pickup-complement\" class=\"input-xlarge success\" type=\"text\" field=\"complement\" placeholder=\"\" />\n  </p>`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddressForm);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/AddressForm.js?");

/***/ }),

/***/ "./src/partials/AlertBox.js":
/*!**********************************!*\
  !*** ./src/partials/AlertBox.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst AlertBox = (message, type) => `\n  <div id=\"tfg-custom-${type}-msg\" class=\"tfg-custom-msg\">\n    <p class=\"tfg-custom-icon\"></p>\n    <p class=\"tfg-custom-text\">${message}</p>\n  </div>\n`;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AlertBox);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/AlertBox.js?");

/***/ }),

/***/ "./src/partials/Deliver/AddressForm.js":
/*!*********************************************!*\
  !*** ./src/partials/Deliver/AddressForm.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_phoneFields__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/phoneFields */ \"./src/utils/phoneFields.js\");\n/* harmony import */ var _Elements_FormField__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Elements/FormField */ \"./src/partials/Deliver/Elements/FormField.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"./src/partials/Deliver/utils.js\");\n\n\n\n\nconst AddressForm = () => {\n  const fields = [{\n    name: 'addressId',\n    type: 'hidden',\n    value: '',\n    required: false\n  }, {\n    name: 'addressName',\n    type: 'hidden',\n    value: '',\n    required: false\n  }, {\n    name: 'street',\n    label: 'Street address',\n    required: true,\n    value: ''\n  }, {\n    name: 'addressType',\n    label: 'Address type',\n    required: true,\n    type: 'radio',\n    options: [{\n      value: 'residential',\n      label: 'Residential',\n      checked: true\n    }, {\n      value: 'business',\n      label: 'Business'\n    }]\n  }, {\n    name: 'number',\n    required: false,\n    value: '  ',\n    type: 'hidden'\n  }, {\n    name: 'companyBuilding',\n    label: 'Building/Complex and number',\n    required: false,\n    value: ''\n  }, {\n    name: 'neighborhood',\n    label: 'Suburb',\n    value: ''\n  }, {\n    name: 'city',\n    label: 'City',\n    required: true,\n    value: ''\n  }, {\n    name: 'postalCode',\n    label: 'Postal code',\n    value: '',\n    type: 'tel',\n    minlength: 4,\n    maxLength: 4\n  }, {\n    type: 'note',\n    required: false,\n    name: 'suburb-postal-reminder',\n    value: 'Make sure to specify the correct Suburb and Postal code so we can easily find your address.'\n  }, {\n    name: 'state',\n    label: 'Province',\n    type: 'dropdown',\n    options: [{\n      value: '',\n      label: 'Select'\n    }, {\n      value: 'EC',\n      label: 'Eastern Cape'\n    }, {\n      value: 'FS',\n      label: 'Free State'\n    }, {\n      value: 'GP',\n      label: 'Gauteng'\n    }, {\n      value: 'KZN',\n      label: 'KwaZulu-Natal'\n    }, {\n      value: 'LP',\n      label: 'Limpopo'\n    }, {\n      value: 'MP',\n      label: 'Mpumalanga'\n    }, {\n      value: 'NC',\n      label: 'Northern Cape'\n    }, {\n      value: 'NW',\n      label: 'North West'\n    }, {\n      value: 'WC',\n      label: 'Western Cape'\n    }]\n  }, {\n    type: 'note',\n    required: false,\n    name: 'country-display',\n    label: 'Country',\n    value: 'South Africa'\n  }, {\n    type: 'hidden',\n    required: true,\n    name: 'country',\n    value: 'ZAF'\n  }, {\n    name: 'receiverName',\n    label: 'Recipient’s name',\n    required: true,\n    value: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getBestRecipient)()\n  }, {\n    name: 'complement',\n    label: 'Recipient’s mobile number',\n    required: true,\n    value: (0,_utils_phoneFields__WEBPACK_IMPORTED_MODULE_0__.getBestPhoneNumber)(),\n    type: 'tel',\n    helperText: 'We send shipping updates to this number.'\n  }];\n  const formFields = fields.map(field => (0,_Elements_FormField__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(field)).join('');\n  return `\n  <form id=\"bash--address-form\" method=\"post\">\n    ${formFields}\n\n    <button \n      class=\"submit btn-go-to-payment btn btn-large btn-success\"\n      id=\"btn-save-address\" \n      type=\"submit\"\n    >\n      Save address\n    </button>\n  </form>\n  \n  `;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddressForm);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/AddressForm.js?");

/***/ }),

/***/ "./src/partials/Deliver/AddressListing.js":
/*!************************************************!*\
  !*** ./src/partials/Deliver/AddressListing.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Elements_Radio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Elements/Radio */ \"./src/partials/Deliver/Elements/Radio.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/partials/Deliver/utils.js\");\n\n\n\nconst isSelectedAddress = (address, selectedAddress) => {\n  const addressObject = JSON.stringify({\n    street: address.street,\n    neighborhood: address.neighborhood,\n    city: address.city,\n    postalCode: address.postalCode\n  });\n  const selectedAddressObject = JSON.stringify({\n    street: selectedAddress.street,\n    neighborhood: selectedAddress.neighborhood,\n    city: selectedAddress.city,\n    postalCode: selectedAddress.postalCode\n  });\n  return addressObject === selectedAddressObject;\n};\n\nconst AddressListing = address => {\n  if (!address) return '';\n  const {\n    street,\n    neighborhood,\n    postalCode,\n    city,\n    receiverName,\n    complement,\n    addressName\n  } = address;\n  const addressLine = [street, neighborhood ?? city, postalCode].join(', ');\n  const contactLine = [receiverName, (0,_utils__WEBPACK_IMPORTED_MODULE_1__.formatPhoneNumber)((0,_utils__WEBPACK_IMPORTED_MODULE_1__.prependZero)(complement))].join(' - '); // orderform\n\n  const selectedAddress = window?.vtexjs?.checkout?.orderForm?.shippingData?.address;\n  if (!selectedAddress) return '';\n  const addressString = encodeURIComponent(JSON.stringify(address));\n  return `\n<label id=\"address-${addressName}\" class=\"bash--address-listing\" data-address=\"${addressString}\">\n  <div class=\"address-radio\">\n  ${(0,_Elements_Radio__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    name: 'selected-address',\n    options: [{\n      checked: isSelectedAddress(address, selectedAddress),\n      value: addressName\n    }]\n  })}\n  </div>\n  <div class=\"address-text\">\n    <div>${addressLine}</div>    \n    <div>${contactLine}</div>  \n  </div>\n  <div class=\"address-edit\">\n    <a href=\"#\" data-view=\"address-edit\" data-content=\"address-${addressName}\">\n      Edit\n    </a>\n  </div>\n</label>\n`;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddressListing);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/AddressListing.js?");

/***/ }),

/***/ "./src/partials/Deliver/AddressSearch.js":
/*!***********************************************!*\
  !*** ./src/partials/Deliver/AddressSearch.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Elements_FormField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Elements/FormField */ \"./src/partials/Deliver/Elements/FormField.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/partials/Deliver/utils.js\");\n\n\n\nconst AddressSearch = () => {\n  setTimeout(() => {\n    (0,_utils__WEBPACK_IMPORTED_MODULE_1__.initGoogleAutocomplete)();\n  }, 500);\n  return (0,_Elements_FormField__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    name: 'address-search',\n    placeholder: 'Start typing an address...',\n    autoComplete: 'off'\n  });\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddressSearch);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/AddressSearch.js?");

/***/ }),

/***/ "./src/partials/Deliver/Addresses.js":
/*!*******************************************!*\
  !*** ./src/partials/Deliver/Addresses.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/functions */ \"./src/utils/functions.js\");\n/* harmony import */ var _utils_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/services */ \"./src/utils/services.js\");\n/* harmony import */ var _AddressListing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AddressListing */ \"./src/partials/Deliver/AddressListing.js\");\n\n\n\n\nconst Addresses = () => {\n  (0,_utils_services__WEBPACK_IMPORTED_MODULE_1__.getAddresses)().then(({\n    data: addresses\n  }) => {\n    const addressesHtml = addresses.map(address => (0,_AddressListing__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(address));\n\n    if (document.getElementById('bash-address-list')) {\n      document.getElementById('bash-address-list').innerHTML = addressesHtml.join('');\n    }\n\n    (0,_utils_functions__WEBPACK_IMPORTED_MODULE_0__.clearLoaders)();\n\n    if (addresses.length < 1) {\n      window.postMessage({\n        action: 'setDeliveryView',\n        view: 'address-search'\n      });\n      $('#bash--input-address-search').focus();\n    }\n  }).catch(e => {\n    console.error('ERROR getAddresses', e);\n    throw new Error('Error getAddresses', e.message);\n  });\n  return `\n <div class=\"bash--addresses shimmer\" id=\"bash-address-list\">\n    Loading addresses...\n  </div>  \n  `;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Addresses);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/Addresses.js?");

/***/ }),

/***/ "./src/partials/Deliver/DeliverContainer.js":
/*!**************************************************!*\
  !*** ./src/partials/Deliver/DeliverContainer.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/const */ \"./src/utils/const.js\");\n/* harmony import */ var _Addresses__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Addresses */ \"./src/partials/Deliver/Addresses.js\");\n/* harmony import */ var _AddressForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AddressForm */ \"./src/partials/Deliver/AddressForm.js\");\n/* harmony import */ var _AddressSearch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AddressSearch */ \"./src/partials/Deliver/AddressSearch.js\");\n/* harmony import */ var _DeliveryError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DeliveryError */ \"./src/partials/Deliver/DeliveryError.js\");\n/* harmony import */ var _DeliveryOptions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DeliveryOptions */ \"./src/partials/Deliver/DeliveryOptions.js\");\n/* harmony import */ var _MixedProducts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MixedProducts */ \"./src/partials/Deliver/MixedProducts.js\");\n/* harmony import */ var _TVorRICAMsg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TVorRICAMsg */ \"./src/partials/Deliver/TVorRICAMsg.js\");\n/* harmony import */ var _Elements_Alert__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Elements/Alert */ \"./src/partials/Deliver/Elements/Alert.js\");\n\n\n\n\n\n\n\n\n\n\nconst DeliverContainer = ({\n  hasFurn\n}) => `\n  <div class=\"bash--delivery-container\" id=\"bash--delivery-container\" data-view=\"select-address\">\n    <div id=\"bash--shipping-messages\">\n      ${(0,_Elements_Alert__WEBPACK_IMPORTED_MODULE_8__[\"default\"])()}\n      ${(0,_TVorRICAMsg__WEBPACK_IMPORTED_MODULE_7__[\"default\"])()}\n      ${(0,_MixedProducts__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}\n      ${(0,_DeliveryError__WEBPACK_IMPORTED_MODULE_4__[\"default\"])()}\n    </div>\n   <form id=\"bash--delivery-form\" name=\"bash--delivery-form\" method=\"post\">\n\n    <section class=\"bash--delivery-view\" data-section=\"select-address\">\n    <div class=\"bash--heading\">\n        <h2>Delivery address</h2>\n        <a href=\"#\" data-view=\"address-search\">Add address</a>\n      </div>\n      ${(0,_Addresses__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()}\n    </section>\n\n    <section id=\"bash-delivery-options\" class=\"shipping-method bash--delivery-view\" data-section=\"select-address\">\n      <hr>\n      <div class=\"bash--heading sub-heading\">\n        <h3>Delivery options</h3>\n        ${hasFurn ? _utils_const__WEBPACK_IMPORTED_MODULE_0__.FURNITURE_FEE_LINK : ''}\n      </div>\n      ${(0,_DeliveryOptions__WEBPACK_IMPORTED_MODULE_5__[\"default\"])()}\n      <button \n        class=\"submit btn-go-to-payment btn btn-large btn-success\"\n        id=\"btn-save-delivery\" \n        type=\"submit\">\n          Go to payment\n      </button>\n    </section>\n   </form>\n\n    <section class=\"bash--delivery-view\" data-section=\"address-search\">\n      <div class=\"bash--heading\">\n        <h3>Add a new delivery address</h3>\n        <a href=\"#\" data-view=\"select-address\">&lt; Back</a>\n      </div>\n      ${(0,_AddressSearch__WEBPACK_IMPORTED_MODULE_3__[\"default\"])()} \n    </section>\n    \n    <section class=\"bash--delivery-view\" data-section=\"address-form\">\n       <div class=\"bash--heading\">\n        <h3>Delivery address</h3>\n        <a href=\"#\" class=\"back-button--search\" data-view=\"address-search\">&lt; Back</a>\n        <a href=\"#\" class=\"back-button--select\" data-view=\"select-address\">&lt; Back</a>\n      </div>\n      ${(0,_AddressForm__WEBPACK_IMPORTED_MODULE_2__[\"default\"])()}\n    </section>\n    \n  </div>`;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DeliverContainer);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/DeliverContainer.js?");

/***/ }),

/***/ "./src/partials/Deliver/DeliveryError.js":
/*!***********************************************!*\
  !*** ./src/partials/Deliver/DeliveryError.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DeliveryError\": () => (/* binding */ DeliveryError),\n/* harmony export */   \"DeliveryErrorContainer\": () => (/* binding */ DeliveryErrorContainer),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst DeliveryErrorContainer = () => ` \n \n<div id=\"bash-delivery-error-container\"   >\n</div>`;\nconst DeliveryError = ({\n  text,\n  fields\n}) => {\n  if (!fields.itemIndex) return '';\n  const cartItem = window.vtexjs.checkout?.orderForm.items?.[fields.itemIndex];\n  if (!cartItem) return '';\n  const imageUrl = cartItem?.imageUrl;\n  return ` \n<div id=\"bash-delivery-error\" class=\"notification error\" alt=\"${fields?.skuName ?? ''}\" >\n   <!---<div class=\"icon\"></div>--->\n   ${imageUrl ? `<img src=\"${imageUrl}\" style=\" float: right; \" />` : ''}\n   <div class=\"notification-content\">\n      <h3>Address error ${fields?.skuName ? `- ${fields?.skuName}` : ''}</h3>\n      <p>${text}</p>\n      <p>Check the postal code of your address, or \n      <a href=\"#\" \n        class=\"remove-cart-item\"\n        style=\"color: white; text-decoration: underline\"\n        data-index=\"${fields.itemIndex}\">remove this item from your cart</a>.\n      </p>\n   </div>  \n</div>  \n`;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DeliveryErrorContainer);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/DeliveryError.js?");

/***/ }),

/***/ "./src/partials/Deliver/DeliveryOptions.js":
/*!*************************************************!*\
  !*** ./src/partials/Deliver/DeliveryOptions.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Elements_Radio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Elements/Radio */ \"./src/partials/Deliver/Elements/Radio.js\");\n\n\nconst DeliveryOptions = () => `\n  <label class=\"bash--delivery-option-display\" >\n  ${(0,_Elements_Radio__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n  name: 'delivery-option',\n  options: [{\n    checked: true,\n    value: true\n  }]\n})}\n   \n   <div id=\"bash--delivery-option-text\" class=\"bash--delivery-option-text\">\n      <span class=\"normal-delivery\">Deliver within 3 - 5 days</span>\n   </div>\n\n  <div id=\"bash--delivery-fee\" class=\"bash--delivery-fee\">\n    R50\n  </div>\n</label>\n  `;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DeliveryOptions);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/DeliveryOptions.js?");

/***/ }),

/***/ "./src/partials/Deliver/Elements/Alert.js":
/*!************************************************!*\
  !*** ./src/partials/Deliver/Elements/Alert.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Alert\": () => (/* binding */ Alert),\n/* harmony export */   \"AlertContainer\": () => (/* binding */ AlertContainer),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// message: string\nconst AlertContainer = () => '<div id=\"bash-alert-container\"></div>';\nconst Alert = ({\n  text\n}) => `<div class='alert-container'>\n      <p>${text}</p>\n    </div>\n  `;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AlertContainer);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/Elements/Alert.js?");

/***/ }),

/***/ "./src/partials/Deliver/Elements/Checkbox.js":
/*!***************************************************!*\
  !*** ./src/partials/Deliver/Elements/Checkbox.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst Checkbox = ({\n  name,\n  label,\n  checked,\n  value\n}) => `\n    <label class=\"tfg-checkbox-label\">\n       <input \n        type='checkbox' \n        name=\"${name}\" \n        id=\"bash--input-${name}\"\n        ${checked ? \"checked='checked'\" : ''}\n        value=${value ?? ''}\n      />\n      <span>${label}</span>\n    </label>\n  `;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Checkbox);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/Elements/Checkbox.js?");

/***/ }),

/***/ "./src/partials/Deliver/Elements/DropDown.js":
/*!***************************************************!*\
  !*** ./src/partials/Deliver/Elements/DropDown.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst DropDown = ({\n  name,\n  disabled = false,\n  options,\n  required\n}) => {\n  const hasASelectedOption = options.find(option => option.selected === true);\n  return `\n  <select \n    name=\"${name}\" \n    ${required ? ' required ' : ''} \n    ${disabled ? ' disabled ' : ''} \n    id=\"bash--input-${name}\" \n    class=\"input-large\" \n  >\n  ${options.map(({\n    value,\n    label,\n    selected\n  }, index) => `\n    <option \n    ${index === 0 ? ' disabled ' : ''}\n    ${index === 0 && !hasASelectedOption ? ' selected ' : ''}\n    ${selected ? ' selected ' : ''}\n      value=\"${value}\" \n    >${label}</option>\n    `).join('')}\n  </select>\n  `;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DropDown);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/Elements/DropDown.js?");

/***/ }),

/***/ "./src/partials/Deliver/Elements/FormField.js":
/*!****************************************************!*\
  !*** ./src/partials/Deliver/Elements/FormField.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Checkbox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Checkbox */ \"./src/partials/Deliver/Elements/Checkbox.js\");\n/* harmony import */ var _DropDown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DropDown */ \"./src/partials/Deliver/Elements/DropDown.js\");\n/* harmony import */ var _Note__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Note */ \"./src/partials/Deliver/Elements/Note.js\");\n/* harmony import */ var _Radio__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Radio */ \"./src/partials/Deliver/Elements/Radio.js\");\n/* harmony import */ var _TextField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TextField */ \"./src/partials/Deliver/Elements/TextField.js\");\n\n\n\n\n\n\nconst FormField = ({\n  label,\n  name,\n  value = '',\n  required = true,\n  type = 'text',\n  placeholder,\n  autoComplete = 'on',\n  maxLength,\n  minlength,\n  disabled = false,\n  options,\n  checked,\n  error = 'This field is required.'\n}) => {\n  const fieldId = name.replace(/\\s/g, '-');\n\n  const formField = () => {\n    switch (type) {\n      case 'radio':\n        return (0,_Radio__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n          name,\n          options\n        });\n\n      case 'dropdown':\n        return (0,_DropDown__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n          name,\n          disabled,\n          options,\n          required\n        });\n\n      case 'note':\n        return (0,_Note__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n          name,\n          value\n        });\n\n      case 'checkbox':\n        return (0,_Checkbox__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n          name,\n          label,\n          checked\n        });\n\n      default:\n        return (0,_TextField__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n          name,\n          value,\n          required,\n          type,\n          placeholder,\n          autoComplete,\n          maxLength,\n          minlength\n        });\n    }\n  };\n\n  const separateLabel = `<label id=\"bash--label-${fieldId}\" for=\"bash--input-${fieldId}\">${label}</label>`;\n  return `\n<p class=\"input bash--${type}field-${name.replace(/\\s/g, '-')} bash--${type} ${required ? 'required' : 'optional'}\">\n  ${label && type !== 'checkbox' ? separateLabel : ''}\n  ${formField()}\n  <span class=\"bash--field-error\">${error}</span>\n</p>  \n`;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FormField);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/Elements/FormField.js?");

/***/ }),

/***/ "./src/partials/Deliver/Elements/Note.js":
/*!***********************************************!*\
  !*** ./src/partials/Deliver/Elements/Note.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst Note = ({\n  value,\n  name\n}) => `\n  <div class=\"bash--note-field ${name}\">\n  ${value}\n  </div>\n  `;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Note);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/Elements/Note.js?");

/***/ }),

/***/ "./src/partials/Deliver/Elements/Radio.js":
/*!************************************************!*\
  !*** ./src/partials/Deliver/Elements/Radio.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst Radio = ({\n  name,\n  options = []\n}) => `\n  \n  <div class=\"bash--radio-options\">\n  ${options.map(({\n  value,\n  label,\n  checked = false,\n  disabled = false\n}) => `\n      <label class=\"bash--radio-option\" id=\"radio-label-${name}-${value}\">\n        <input type=\"radio\" \n          ${checked ? \"checked='checked'\" : ''} \n          ${disabled ? \"disabled='disabled'\" : ''} \n          value=\"${value ?? ''}\" \n          name=\"${name}\" \n          id=\"radio-${name}-${value}\"\n        />\n          <span class=\"radio-icon\"></span> \n          ${label ? `<span class=\"radio-label\">${label}</span>` : ''}\n      </label>\n    `).join('')}\n   \n  </div>\n  `;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Radio);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/Elements/Radio.js?");

/***/ }),

/***/ "./src/partials/Deliver/Elements/TextField.js":
/*!****************************************************!*\
  !*** ./src/partials/Deliver/Elements/TextField.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst TextField = ({\n  name,\n  value = '',\n  required = true,\n  type = 'text',\n  placeholder,\n  autoComplete = 'on',\n  minLength = 0,\n  maxLength = 0\n}) => {\n  const fieldId = name.replace(/\\s/g, '-');\n  return `\n  <input \n    ${required ? ' required ' : ''}\n    autocomplete=\"${autoComplete}\" \n    id=\"bash--input-${fieldId}\" \n    type=\"${type}\" \n    name=\"${name}\" \n    ${minLength > 0 ? `minlength=\"${minLength}\"` : ''}\n    ${maxLength > 0 ? `maxlength=\"${maxLength}\"` : ''}\n    placeholder=\"${placeholder ?? ''}\" \n    class=\"input-xlarge\" \n    value=\"${value}\" \n  />\n`;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TextField);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/Elements/TextField.js?");

/***/ }),

/***/ "./src/partials/Deliver/ExtraFieldsContainer.js":
/*!******************************************************!*\
  !*** ./src/partials/Deliver/ExtraFieldsContainer.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _FurnitureForm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureForm */ \"./src/partials/Deliver/FurnitureForm.js\");\n/* harmony import */ var _RICAForm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RICAForm */ \"./src/partials/Deliver/RICAForm.js\");\n/* harmony import */ var _TVLicenseForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TVLicenseForm */ \"./src/partials/Deliver/TVLicenseForm.js\");\n\n\n\n\nconst ExtraFieldsContainer = ({\n  hasFurn,\n  hasTV,\n  hasSim\n}) => {\n  const showFurnitureForm = `\n    <div id=\"furniture-form\">\n      <hr>\n      <div class=\"bash--heading sub-heading heading-with-description\">\n        <h3>Furniture information needed</h3>\n\n        <p class=\"tfg-custom-subtitle\">\n        We need some more information to prepare delivery of your furniture items to your address.\n        <br>\n        <br>\n        Please ensure sufficient space to receive the goods and keep in mind \n        that our couriers aren't able to hoist goods onto balconies.\n      </p>\n\n      </div>\n   \n      ${(0,_FurnitureForm__WEBPACK_IMPORTED_MODULE_0__[\"default\"])()}\n    </div>\n  `;\n  const showTVLicenseForm = `\n    <div id=\"tv-license-form\">\n      <hr>\n      <div class=\"bash--heading sub-heading heading-with-description\">\n        <h3>TV license information needed</h3>\n        <p class=\"tfg-custom-subtitle\">Please provide your ID number to validate your TV Licence.</p>\n      </div>\n      ${(0,_TVLicenseForm__WEBPACK_IMPORTED_MODULE_2__[\"default\"])()}\n    </div>\n  `;\n  const showRICAForm = `\n    <div id=\"rica-form\">\n      <hr>\n      <div class=\"bash--heading sub-heading heading-with-description\">\n        <h3>Rica information required</h3>\n        <p class=\"tfg-custom-subtitle\">\n          To RICA your SIM card, provide your SA ID (or foreign passport) number and your address as\n          it appears on a valid proof of residence.\n        </p> \n      </div>\n        ${(0,_RICAForm__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()}\n    </div>\n    `;\n  return `\n  <section class=\"bash--extra-fields bash--delivery-view\" data-section=\"select-address\">\n    ${hasFurn ? showFurnitureForm : ''}\n    ${hasTV ? showTVLicenseForm : ''}\n    ${hasSim ? showRICAForm : ''}\n  </section>`;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ExtraFieldsContainer);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/ExtraFieldsContainer.js?");

/***/ }),

/***/ "./src/partials/Deliver/FurnitureForm.js":
/*!***********************************************!*\
  !*** ./src/partials/Deliver/FurnitureForm.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Elements_FormField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Elements/FormField */ \"./src/partials/Deliver/Elements/FormField.js\");\n // import furnitureForm from './constants';\n\nconst furnitureForm = {\n  buildingType: [{\n    value: '',\n    label: 'Please select',\n    disabled: true\n  }, {\n    value: 'freeStanding',\n    label: 'Free standing'\n  }, {\n    value: 'houseInComplex',\n    label: 'House in complex'\n  }, {\n    value: 'townhouse',\n    label: 'Townhouse'\n  }, {\n    value: 'apartment',\n    label: 'Apartment'\n  }],\n  parkingDistance: [{\n    value: '',\n    label: 'Please select',\n    disabled: true\n  }, {\n    value: 15,\n    label: '15 meters or less'\n  }, {\n    value: 25,\n    label: '25 meters'\n  }, {\n    value: 50,\n    label: '50 meters'\n  }, {\n    value: 100,\n    label: '100 meters or more'\n  }],\n  deliveryFloor: [{\n    value: '',\n    label: 'Please select',\n    disabled: true\n  }, {\n    value: 'ground',\n    label: 'Ground'\n  }, {\n    value: '1',\n    label: '1'\n  }, {\n    value: '2',\n    label: '2'\n  }, {\n    value: '3+',\n    label: '3+'\n  }],\n  liftOrStairs: [{\n    value: '',\n    label: 'Please select',\n    disabled: true\n  }, {\n    value: 'lift',\n    label: 'Lift'\n  }, {\n    value: 'stairs',\n    label: 'Stairs'\n  }]\n};\n\nconst FurnitureForm = () => {\n  const {\n    buildingType,\n    parkingDistance,\n    deliveryFloor,\n    liftOrStairs\n  } = furnitureForm;\n  const fields = [{\n    name: 'buildingType',\n    label: 'Building Type',\n    required: true,\n    type: 'dropdown',\n    options: buildingType\n  }, {\n    name: 'parkingDistance',\n    label: 'Parking Distance',\n    required: true,\n    type: 'dropdown',\n    options: parkingDistance\n  }, {\n    name: 'deliveryFloor',\n    label: 'Delivery Floor',\n    required: true,\n    type: 'dropdown',\n    options: deliveryFloor\n  }, {\n    name: 'liftOrStairs',\n    label: 'Lift or Stairs',\n    required: false,\n    type: 'dropdown',\n    options: liftOrStairs\n  }, {\n    name: 'hasSufficientSpace',\n    label: 'Is there sufficent corner/passage door space?',\n    value: false,\n    type: 'checkbox',\n    checked: false\n  }, {\n    name: 'assembleFurniture',\n    label: 'Would you like us to assemble your furniture items?',\n    type: 'checkbox',\n    value: false,\n    checked: false\n  }];\n  const formFields = fields.map(field => (0,_Elements_FormField__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(field)).join('');\n  return `\n    ${formFields}\n  `;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FurnitureForm);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/FurnitureForm.js?");

/***/ }),

/***/ "./src/partials/Deliver/MixedProducts.js":
/*!***********************************************!*\
  !*** ./src/partials/Deliver/MixedProducts.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst MixedProducts = () => `\n  <div id=\"tfg-custom-mixed-msg\" class=\"tfg-custom-msg\">\n    <p class=\"tfg-custom-icon\"></p>\n    <p class=\"tfg-custom-text\">\n      We'll ship your furniture and other items in your cart to the selected address. \n      Only the furniture delivery fee will apply.\n      </p>\n  </div>\n`;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MixedProducts);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/MixedProducts.js?");

/***/ }),

/***/ "./src/partials/Deliver/RICAForm.js":
/*!******************************************!*\
  !*** ./src/partials/Deliver/RICAForm.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Elements_FormField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Elements/FormField */ \"./src/partials/Deliver/Elements/FormField.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/partials/Deliver/utils.js\");\n\n\n\nconst RICAForm = () => {\n  const {\n    shippingData: {\n      selectedAddress\n    }\n  } = window.vtexjs.checkout.orderForm; // use rica_ prefix to ensure fields are unique\n\n  const fields = [{\n    name: 'rica_idOrPassport',\n    label: 'ID or Passport number',\n    required: true,\n    value: ''\n  }, {\n    name: 'rica_sameAddress',\n    label: 'Residential address the same as delivery address',\n    type: 'checkbox',\n    checked: true,\n    required: false\n  } // for rest of the fields check if\n  // same as residential address is checked?\n  // if checked prefill the fields otherwise don't\n  ];\n  const conditionalFields = [{\n    name: 'rica_fullName',\n    label: 'Full name and surname',\n    required: true,\n    value: (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getBestRecipient)() || ''\n  }, {\n    name: 'rica_streetAddress',\n    label: 'Street address',\n    required: true,\n    value: selectedAddress?.street || ''\n  }, {\n    name: 'rica_suburb',\n    label: 'Suburb',\n    value: selectedAddress?.neighborhood || ''\n  }, {\n    name: 'rica_city',\n    label: 'City',\n    required: true,\n    value: selectedAddress?.city || ''\n  }, {\n    name: 'rica_postalCode',\n    label: 'Postal code',\n    value: selectedAddress?.postalCode || '',\n    type: 'tel',\n    minlength: 4,\n    maxLength: 4\n  }, {\n    name: 'rica_province',\n    label: 'Province',\n    type: 'dropdown',\n    options: [{\n      value: '',\n      label: 'Select',\n      disabled: true\n    }, {\n      value: 'EC',\n      label: 'Eastern Cape'\n    }, {\n      value: 'FS',\n      label: 'Free State'\n    }, {\n      value: 'GP',\n      label: 'Gauteng'\n    }, {\n      value: 'KZN',\n      label: 'KwaZulu-Natal'\n    }, {\n      value: 'LP',\n      label: 'Limpopo'\n    }, {\n      value: 'MP',\n      label: 'Mpumalanga'\n    }, {\n      value: 'NC',\n      label: 'Northern Cape'\n    }, {\n      value: 'NW',\n      label: 'North West'\n    }, {\n      value: 'WC',\n      label: 'Western Cape'\n    }]\n  }, {\n    type: 'note',\n    required: false,\n    name: 'rica-country-display',\n    label: 'Country',\n    value: 'South Africa'\n  }, {\n    type: 'hidden',\n    required: true,\n    name: 'country',\n    value: 'ZAF'\n  }];\n  const formFields = fields.map(field => (0,_Elements_FormField__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(field)).join('');\n  const conditionalFormFields = conditionalFields.map(field => (0,_Elements_FormField__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(field)).join('');\n  return `\n    ${formFields}\n    <div class=\"rica-conditional-fields hide\">\n    ${conditionalFormFields}\n    </div>\n  `;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RICAForm);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/RICAForm.js?");

/***/ }),

/***/ "./src/partials/Deliver/TVLicenseForm.js":
/*!***********************************************!*\
  !*** ./src/partials/Deliver/TVLicenseForm.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Elements_FormField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Elements/FormField */ \"./src/partials/Deliver/Elements/FormField.js\");\n\n\nconst TVLicenseForm = () => {\n  // use tv_ prefix to ensure fields are unique\n  const field = {\n    name: 'tv_tvID',\n    label: 'SA ID number',\n    required: true,\n    value: ''\n  };\n  return `\n    ${(0,_Elements_FormField__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(field)}\n  `;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TVLicenseForm);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/TVLicenseForm.js?");

/***/ }),

/***/ "./src/partials/Deliver/TVorRICAMsg.js":
/*!*********************************************!*\
  !*** ./src/partials/Deliver/TVorRICAMsg.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst TVorRICAMsg = () => `\n  <div id=\"tfg-custom-tvrica-msg\" class=\"tfg-custom-msg\">\n    <p class=\"tfg-custom-icon\"></p>\n    <p class=\"tfg-custom-text\">\n      You can't collect this order in store because your cart contains items \n      which require either RICA or TV License validation.\n    </p>\n  </div>\n`;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TVorRICAMsg);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/TVorRICAMsg.js?");

/***/ }),

/***/ "./src/partials/Deliver/constants.js":
/*!*******************************************!*\
  !*** ./src/partials/Deliver/constants.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"furnitureForm\": () => (/* binding */ furnitureForm),\n/* harmony export */   \"requiredAddressFields\": () => (/* binding */ requiredAddressFields),\n/* harmony export */   \"requiredFurnitureFields\": () => (/* binding */ requiredFurnitureFields),\n/* harmony export */   \"requiredRicaFields\": () => (/* binding */ requiredRicaFields),\n/* harmony export */   \"requiredTVFields\": () => (/* binding */ requiredTVFields),\n/* harmony export */   \"validAddressTypes\": () => (/* binding */ validAddressTypes)\n/* harmony export */ });\n/* eslint-disable import/prefer-default-export */\nconst furnitureForm = {\n  buildingType: [{\n    value: '',\n    label: 'Select'\n  }, {\n    value: 'freeStanding',\n    label: 'Free standing'\n  }, {\n    value: 'houseInComplex',\n    label: 'House in complex'\n  }, {\n    value: 'townhouse',\n    label: 'Townhouse'\n  }, {\n    value: 'apartment',\n    label: 'Apartment'\n  }],\n  parkingDistance: [{\n    value: 15,\n    label: 15\n  }, {\n    value: 25,\n    label: 25\n  }, {\n    value: 50,\n    label: 50\n  }, {\n    value: 100,\n    label: 100\n  }],\n  deliveryFloor: [{\n    value: 'ground',\n    label: 'Ground'\n  }, {\n    value: '1',\n    label: '1'\n  }, {\n    value: '2',\n    label: '2'\n  }, {\n    value: '3+',\n    label: '3+'\n  }],\n  liftOrStairs: [{\n    value: 'lift',\n    label: 'Lift'\n  }, {\n    value: 'stairs',\n    label: 'Stairs'\n  }]\n};\nconst requiredAddressFields = ['receiverName', 'complement', 'street', 'neighborhood', 'state', 'city', 'country', 'postalCode'];\nconst requiredFurnitureFields = ['buildingType', 'assembleFurniture', 'deliveryFloor', 'hasSufficientSpace', 'liftOrStairs', 'parkingDistance'];\nconst requiredRicaFields = ['idOrPassport', 'sameAddress', 'fullName', 'streetAddress', 'suburb', 'city', 'postalCode', 'province'];\nconst requiredTVFields = ['tvID'];\nconst validAddressTypes = ['residential', 'inStore', 'commercial', 'giftRegistry', 'pickup', 'search'];\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/constants.js?");

/***/ }),

/***/ "./src/partials/Deliver/utils.js":
/*!***************************************!*\
  !*** ./src/partials/Deliver/utils.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addressIsValid\": () => (/* binding */ addressIsValid),\n/* harmony export */   \"clearRicaFields\": () => (/* binding */ clearRicaFields),\n/* harmony export */   \"customShippingDataIsValid\": () => (/* binding */ customShippingDataIsValid),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"formatPhoneNumber\": () => (/* binding */ formatPhoneNumber),\n/* harmony export */   \"getBestRecipient\": () => (/* binding */ getBestRecipient),\n/* harmony export */   \"initGoogleAutocomplete\": () => (/* binding */ initGoogleAutocomplete),\n/* harmony export */   \"mapGoogleAddress\": () => (/* binding */ mapGoogleAddress),\n/* harmony export */   \"parseAttribute\": () => (/* binding */ parseAttribute),\n/* harmony export */   \"populateAddressForm\": () => (/* binding */ populateAddressForm),\n/* harmony export */   \"populateDeliveryError\": () => (/* binding */ populateDeliveryError),\n/* harmony export */   \"populateExtraFields\": () => (/* binding */ populateExtraFields),\n/* harmony export */   \"populateFurnitureFields\": () => (/* binding */ populateFurnitureFields),\n/* harmony export */   \"populateRicaFields\": () => (/* binding */ populateRicaFields),\n/* harmony export */   \"populateTVFields\": () => (/* binding */ populateTVFields),\n/* harmony export */   \"preparePhoneField\": () => (/* binding */ preparePhoneField),\n/* harmony export */   \"prependZero\": () => (/* binding */ prependZero),\n/* harmony export */   \"setAddress\": () => (/* binding */ setAddress),\n/* harmony export */   \"setCartClasses\": () => (/* binding */ setCartClasses),\n/* harmony export */   \"setDeliveryLoading\": () => (/* binding */ setDeliveryLoading),\n/* harmony export */   \"showAlertBox\": () => (/* binding */ showAlertBox),\n/* harmony export */   \"showHideLiftOrStairs\": () => (/* binding */ showHideLiftOrStairs),\n/* harmony export */   \"submitAddressForm\": () => (/* binding */ submitAddressForm),\n/* harmony export */   \"submitDeliveryForm\": () => (/* binding */ submitDeliveryForm),\n/* harmony export */   \"updateDeliveryFeeDisplay\": () => (/* binding */ updateDeliveryFeeDisplay)\n/* harmony export */ });\n/* harmony import */ var _utils_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/const */ \"./src/utils/const.js\");\n/* harmony import */ var _utils_functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/functions */ \"./src/utils/functions.js\");\n/* harmony import */ var _utils_services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/services */ \"./src/utils/services.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"./src/partials/Deliver/constants.js\");\n/* harmony import */ var _DeliveryError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DeliveryError */ \"./src/partials/Deliver/DeliveryError.js\");\n/* harmony import */ var _Elements_Alert__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Elements/Alert */ \"./src/partials/Deliver/Elements/Alert.js\");\n\n\n\n\n\n\nconst setDeliveryLoading = () => {\n  document.querySelector('.bash--delivery-container').classList.add('shimmer');\n};\nconst mapGoogleAddress = (addressComponents, geometry) => {\n  const streetNumber = addressComponents.find(item => item.types.includes('street_number'))?.long_name;\n  const street = addressComponents.find(item => item.types.includes('route'))?.long_name;\n  const neighborhood = addressComponents.find(item => item.types.includes('sublocality'))?.long_name;\n  const city = addressComponents.find(item => item.types.includes('locality'))?.long_name;\n  const postalCode = addressComponents.find(item => item.types.includes('postal_code'))?.long_name;\n  const state = addressComponents.find(item => item.types.includes('administrative_area_level_1'))?.long_name;\n  const coords = {\n    lat: '',\n    lng: ''\n  };\n\n  if (geometry) {\n    coords.lat = geometry.location.lat();\n    coords.lng = geometry.location.lng();\n  }\n\n  return {\n    street: `${streetNumber ?? ''} ${street ?? ''}`.trim(),\n    neighborhood,\n    city,\n    postalCode,\n    state,\n    ...coords\n  };\n};\n\nconst provinceShortCode = province => {\n  switch (province) {\n    case 'Select':\n      return '';\n\n    case 'Western Cape':\n      return 'WC';\n\n    case 'Easter Cape':\n      return 'EC';\n\n    case 'Gauteng':\n      return 'GP';\n\n    case 'KwaZulu-Natal':\n    case 'KwaZulu Natal':\n      return 'KZN';\n\n    case 'Northern Cape':\n      return 'NC';\n\n    case 'Limpopo':\n      return 'LP';\n\n    case 'Mpumalanga':\n      return 'MP';\n\n    case 'North West':\n      return 'NW';\n\n    case 'Freestate':\n    case 'Free State':\n      return 'FS';\n\n    default:\n      return province;\n  }\n};\n\nconst getBestRecipient = () => {\n  const receiverName = window?.vtexjs?.checkout?.orderForm?.shippingData?.address?.receiverName;\n  const firstName = window?.vtexjs?.checkout?.orderForm?.clientProfileData?.firstName;\n  const lastName = window?.vtexjs?.checkout?.orderForm?.clientProfileData?.lastName;\n  const clientProfileName = `${firstName ?? ''} ${lastName ?? ''}`.trim();\n  return receiverName || document.getElementById('client-first-name')?.value || clientProfileName;\n};\n\nconst populateAddressFromSearch = address => {\n  const {\n    street,\n    neighborhood,\n    postalCode,\n    state,\n    city\n  } = address; // Clear any populated fields\n\n  document.getElementById('bash--address-form').reset(); // Clear hidden ID fields to prevent overwriting existing.\n\n  document.getElementById('bash--input-addressId').value = '';\n  document.getElementById('bash--input-addressName').value = '';\n  document.getElementById('bash--input-number').value = '  ';\n  document.getElementById('bash--input-street').value = street ?? '';\n  document.getElementById('bash--input-neighborhood').value = neighborhood ?? '';\n  document.getElementById('bash--input-city').value = city ?? '';\n  document.getElementById('bash--input-postalCode').value = postalCode ?? '';\n  document.getElementById('bash--input-state').value = provinceShortCode(state);\n};\n\nconst populateAddressForm = address => {\n  const {\n    street,\n    companyBuilding,\n    neighborhood,\n    postalCode,\n    state,\n    city,\n    receiverName,\n    complement,\n    id,\n    addressId,\n    addressName\n  } = address; // Clear any populated fields\n\n  document.getElementById('bash--address-form').reset(); // Only overwrite defaults if values exist.\n\n  if (receiverName) document.getElementById('bash--input-receiverName').value = receiverName ?? '';\n  if (complement) document.getElementById('bash--input-complement').value = complement ?? ''; // addressId indicates that address is being edited / completed.\n\n  if (id || addressId) document.getElementById('bash--input-addressId').value = id || addressId; // TODO remove this?\n\n  if (addressName) document.getElementById('bash--input-addressName').value = addressName;\n  document.getElementById('bash--input-number').value = '';\n  document.getElementById('bash--input-companyBuilding').value = companyBuilding ?? '';\n  document.getElementById('bash--input-street').value = street ?? '';\n  document.getElementById('bash--input-neighborhood').value = neighborhood ?? '';\n  document.getElementById('bash--input-city').value = city ?? '';\n  document.getElementById('bash--input-postalCode').value = postalCode ?? '';\n  document.getElementById('bash--input-state').value = provinceShortCode(state);\n  $(':invalid').trigger('change');\n};\nconst initGoogleAutocomplete = () => {\n  if (!window.google) return;\n  const input = document.getElementById('bash--input-address-search');\n  const autocomplete = new window.google.maps.places.Autocomplete(input, {\n    componentRestrictions: {\n      country: 'ZA'\n    }\n  });\n  window.google.maps.event.addListener(autocomplete, 'place_changed', () => {\n    const place = autocomplete.getPlace();\n    const {\n      address_components: addressComponents,\n      geometry\n    } = place;\n    const address = mapGoogleAddress(addressComponents, geometry); // Populate the form\n    // Set view to add-address\n\n    populateAddressFromSearch(address);\n    window.postMessage({\n      action: 'setDeliveryView',\n      view: 'address-form'\n    });\n    input.value = '';\n  });\n};\nconst parseAttribute = data => JSON.parse(decodeURIComponent(data));\nconst populateExtraFields = (address, fields, prefix = '', override = false) => {\n  if (!address) return;\n\n  for (let i = 0; i < fields.length; i++) {\n    const fieldId = `bash--input-${prefix}${fields[i]}`;\n\n    if (document.getElementById(fieldId) && (address[fields[i]] || override) && (!document.getElementById(fieldId).value || override)) {\n      document.getElementById(fieldId).value = address[fields[i]];\n    }\n  }\n\n  $(':invalid').trigger('change');\n};\nconst populateRicaFields = () => {\n  const {\n    address\n  } = window.vtexjs.checkout.orderForm.shippingData;\n  if (document.getElementById('bash--input-rica_streetAddress')?.value || !address) return;\n  address.fullName = getBestRecipient();\n  address.streetAddress = address.street;\n  address.suburb = address.neighborhood;\n  address.province = address.state;\n  populateExtraFields(address, _constants__WEBPACK_IMPORTED_MODULE_3__.requiredRicaFields, 'rica_');\n  const data = (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.getOrderFormCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_0__.RICA_APP);\n  if (data.streetAddress) populateExtraFields(data, _constants__WEBPACK_IMPORTED_MODULE_3__.requiredRicaFields, 'rica_', true);\n};\nconst clearRicaFields = () => {\n  const idOrPassport = $('#bash--input-rica_idOrPassport').val();\n  const clearedRica = {\n    idOrPassport: idOrPassport ?? '',\n    // TODO populate with users ID\n    fullName: '',\n    streetAddress: '',\n    suburb: '',\n    city: '',\n    postalCode: '',\n    province: ''\n  };\n  populateExtraFields(clearedRica, _constants__WEBPACK_IMPORTED_MODULE_3__.requiredRicaFields, 'rica_', true);\n};\nconst showHideLiftOrStairs = floor => {\n  if (floor && floor !== 'ground') {\n    $('.bash--dropdownfield-liftOrStairs').slideDown().addClass('required');\n    $('#bash--input-liftOrStairs').attr('required', 'required');\n  } else {\n    $('.bash--dropdownfield-liftOrStairs').slideUp();\n    $('#bash--input-liftOrStairs').removeAttr('required');\n  }\n};\nconst populateFurnitureFields = async () => {\n  const data = (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.getOrderFormCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_0__.FURNITURE_APP);\n  populateExtraFields(data, _constants__WEBPACK_IMPORTED_MODULE_3__.requiredFurnitureFields);\n  showHideLiftOrStairs(data?.deliveryFloor);\n};\nconst populateTVFields = async () => {\n  const data = (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.getOrderFormCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_0__.TV_APP);\n  populateExtraFields(data, _constants__WEBPACK_IMPORTED_MODULE_3__.requiredTVFields, 'tv');\n}; // Runs when you setAddress\n\nconst addressIsValid = (address, validateExtraFields = true) => {\n  const {\n    items\n  } = window.vtexjs.checkout.orderForm;\n  const {\n    hasFurniture,\n    hasTVs,\n    hasSimCards\n  } = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.getSpecialCategories)(items);\n  let requiredFields = [];\n  const invalidFields = [];\n  requiredFields = [..._constants__WEBPACK_IMPORTED_MODULE_3__.requiredAddressFields];\n\n  if (hasFurniture && validateExtraFields) {\n    requiredFields = [...requiredFields, ..._constants__WEBPACK_IMPORTED_MODULE_3__.requiredFurnitureFields];\n  }\n\n  if (hasTVs && validateExtraFields) {\n    requiredFields = [...requiredFields, ..._constants__WEBPACK_IMPORTED_MODULE_3__.requiredTVFields];\n  }\n\n  if (hasSimCards && validateExtraFields) {\n    requiredFields = [...requiredFields, ..._constants__WEBPACK_IMPORTED_MODULE_3__.requiredRicaFields];\n  }\n\n  for (let i = 0; i < requiredFields.length; i++) {\n    if (!address[requiredFields[i]]) invalidFields.push(requiredFields[i]);\n  }\n\n  return {\n    isValid: !invalidFields.length,\n    invalidFields\n  };\n};\nconst setCartClasses = () => {\n  const {\n    items\n  } = window.vtexjs.checkout.orderForm;\n  const {\n    hasFurniture,\n    hasTVs,\n    hasSimCards,\n    hasFurnitureMixed\n  } = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.getSpecialCategories)(items);\n  const $container = '#shipping-data';\n\n  if (hasFurniture) {\n    $(`${$container}:not(.has-furniture)`).addClass('has-furniture');\n  } else {\n    $(`${$container}.has-furniture`).removeClass('has-furniture');\n  }\n\n  if (hasTVs) {\n    $(`${$container}:not(.has-tv)`).addClass('has-tv');\n  } else {\n    $(`${$container}.has-tv`).removeClass('has-tv');\n  }\n\n  if (hasSimCards) {\n    $(`${$container}:not(.has-rica)`).addClass('has-rica');\n  } else {\n    $(`${$container}.has-rica`).removeClass('has-rica');\n  }\n\n  if (hasFurnitureMixed) {\n    $(`${$container}:not(.has-furniture-mixed)`).addClass('has-furniture-mixed');\n  } else {\n    $(`${$container}.has-furniture-mixed`).removeClass('has-furniture-mixed');\n  }\n};\nconst updateDeliveryFeeDisplay = () => {\n  if (!window.vtexjs.checkout.orderForm.totalizers) return;\n  const {\n    value: shippingFee\n  } = window.vtexjs.checkout.orderForm.totalizers.find(item => item.id === 'Shipping') || {\n    value: 5000\n  };\n  let feeText = 'Free';\n  if (shippingFee > 0) feeText = `R${(shippingFee / 100).toFixed(2).replace('.00', '')}`;\n\n  if ($('#bash--delivery-fee').length > 0) {\n    document.getElementById('bash--delivery-fee').innerHTML = feeText;\n  }\n};\nconst customShippingDataIsValid = () => {\n  const items = window.vtexjs.checkout.orderForm?.items;\n  const {\n    hasTVs,\n    hasSimCards,\n    hasFurniture\n  } = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.getSpecialCategories)(items);\n  let valid = true;\n\n  if (hasTVs) {\n    const data = (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.getOrderFormCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_0__.TV_APP);\n    if (!data.tvID) valid = false;\n  }\n\n  if (hasSimCards) {\n    const data = (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.getOrderFormCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_0__.RICA_APP);\n    if (!data.idOrPassport || !data.streetAddress || !data.postalCode) valid = false;\n  }\n\n  if (hasFurniture) {\n    const data = (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.getOrderFormCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_0__.FURNITURE_APP);\n    if (!data.buildingType || !data.parkingDistance || !data.deliveryFloor) valid = false;\n  }\n\n  return valid;\n};\nconst populateDeliveryError = (errors = []) => {\n  if ($('#bash-delivery-error-container').length < 1) return;\n  const errorsHtml = errors.length > 0 ? errors.map(error => (0,_DeliveryError__WEBPACK_IMPORTED_MODULE_4__.DeliveryError)(error)) : '';\n  $('#bash-delivery-error-container').html(errorsHtml);\n  if (errors.length > 0) $('html, body').animate({\n    scrollTop: $('#bash-delivery-error-container').offset().top\n  }, 400);\n}; // TODO move somewhere else?\n\nconst setAddress = (address, options = {\n  validateExtraFields: true\n}) => {\n  const {\n    validateExtraFields\n  } = options;\n  const {\n    items\n  } = window.vtexjs.checkout.orderForm;\n  const {\n    hasFurniture,\n    hasTVs,\n    hasSimCards\n  } = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.getSpecialCategories)(items);\n\n  if (hasFurniture) {\n    populateExtraFields(address, _constants__WEBPACK_IMPORTED_MODULE_3__.requiredFurnitureFields);\n    showHideLiftOrStairs(address.deliveryFloor);\n  }\n\n  if (hasTVs) populateExtraFields(address, _constants__WEBPACK_IMPORTED_MODULE_3__.requiredTVFields, 'tv_');\n  if (hasSimCards) populateRicaFields();\n  const {\n    isValid,\n    invalidFields\n  } = addressIsValid(address, validateExtraFields);\n\n  if (!isValid) {\n    populateAddressForm(address);\n    $('#bash--address-form').addClass('show-form-errors');\n    if (validateExtraFields) $('#bash--delivery-form')?.addClass('show-form-errors');\n    $(`#bash--input-${invalidFields[0]}`).focus();\n\n    if (_constants__WEBPACK_IMPORTED_MODULE_3__.requiredAddressFields.includes(invalidFields[0])) {\n      window.postMessage({\n        action: 'setDeliveryView',\n        view: 'address-form'\n      });\n    }\n\n    return {\n      success: false,\n      error: 'Invalid address details.'\n    };\n  } // Fix bad addressType.\n\n\n  if (address.addressType === 'business') address.addressType = 'commercial';\n  if (!_constants__WEBPACK_IMPORTED_MODULE_3__.validAddressTypes.includes(address.addressType)) address.addressType = 'residential';\n  const {\n    shippingData\n  } = window?.vtexjs?.checkout?.orderForm;\n  shippingData.address = address;\n  shippingData.address.number = shippingData.address.number ?? ' ';\n  shippingData.selectedAddresses = [address]; // Start Shimmering\n\n  setDeliveryLoading();\n  return window.vtexjs.checkout.sendAttachment('shippingData', shippingData).then(orderForm => {\n    const {\n      messages\n    } = orderForm;\n    const errors = messages.filter(msg => msg.status === 'error');\n\n    if (errors.length > 0) {\n      populateDeliveryError(errors);\n      window.postMessage({\n        action: 'setDeliveryView',\n        view: 'address-form'\n      });\n      return {\n        success: false,\n        errors\n      };\n    }\n\n    if (address.addressName) (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.updateAddressListing)(shippingData.address);\n    return {\n      success: true\n    };\n  }).done(() => (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.clearLoaders)());\n};\nconst showAlertBox = () => {\n  $('.alert-container').addClass('show');\n  $('#bash-alert-container').html((0,_Elements_Alert__WEBPACK_IMPORTED_MODULE_5__.Alert)({\n    text: 'Address added'\n  })); // After 5 seconds, remove the element\n\n  setTimeout(() => {\n    $('.alert-container').remove();\n  }, 5000);\n};\nconst submitAddressForm = async event => {\n  event.preventDefault(); // Prevent false positive for invalid selects.\n\n  $('select').change();\n  const form = document.forms['bash--address-form'];\n  const addressName = $('#bash--input-addressName').val();\n  const storedAddress = await (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.getAddressByName)(addressName);\n  const fields = ['addressId', 'addressName', 'addressType', 'receiverName', 'postalCode', 'city', 'state', 'country', 'street', 'neighborhood', 'complement', 'companyBuilding'];\n  const address = {\n    isDisposable: false,\n    reference: null,\n    geoCoordinates: [],\n    number: '',\n    country: 'ZAF',\n    ...storedAddress\n  };\n\n  for (let f = 0; f < fields.length; f++) {\n    address[fields[f]] = form[fields[f]]?.value || null;\n  }\n\n  address.addressName = address.addressName || address.addressId;\n  address.addressId = address.addressId || address.addressName;\n  const {\n    isValid,\n    invalidFields\n  } = addressIsValid(address, false);\n\n  if (!isValid) {\n    console.error({\n      invalidFields\n    });\n    $('#bash--address-form').addClass('show-form-errors');\n    $(`#bash--input-${invalidFields[0]}`).focus();\n\n    if (_constants__WEBPACK_IMPORTED_MODULE_3__.requiredAddressFields.includes(invalidFields[0])) {\n      window.postMessage({\n        action: 'setDeliveryView',\n        view: 'address-form'\n      });\n    }\n\n    return;\n  } // Apply the selected address to customers orderForm.\n\n\n  const setAddressResponse = await setAddress(address, {\n    validateExtraFields: false\n  });\n  const {\n    success\n  } = setAddressResponse;\n\n  if (!success) {\n    console.error('Set address error', {\n      setAddressResponse\n    });\n    return;\n  } // Update the localstore, and the API\n\n\n  await (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.addOrUpdateAddress)(address);\n  window.postMessage({\n    action: 'setDeliveryView',\n    view: 'select-address'\n  });\n  showAlertBox();\n};\nconst submitDeliveryForm = async event => {\n  event.preventDefault();\n  const {\n    items\n  } = window.vtexjs.checkout.orderForm;\n  const {\n    address\n  } = window.vtexjs.checkout.orderForm.shippingData;\n  const {\n    hasFurniture,\n    hasTVs,\n    hasSimCards\n  } = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.getSpecialCategories)(items); // Prevent false positive for invalid selects.\n\n  $('select').change();\n  let fullAddress = {};\n  setDeliveryLoading();\n  const dbAddress = await (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.getAddressByName)($(\"[name='selected-address']:checked\").val());\n  fullAddress = { ...address,\n    ...dbAddress\n  };\n  const furnitureData = {};\n  const ricaData = {};\n  const tvData = {};\n\n  if (hasFurniture) {\n    const fields = _constants__WEBPACK_IMPORTED_MODULE_3__.requiredFurnitureFields;\n\n    for (let i = 0; i < fields.length; i++) {\n      if (fields[i] === 'hasSufficientSpace' || fields[i] === 'assembleFurniture') {\n        const fieldValue = $(`#bash--input-${fields[i]}`).is(':checked');\n        $(`#bash--input-${fields[i]}`).val(fieldValue);\n        furnitureData[fields[i]] = fieldValue;\n      } // check business/residential for the normal address\n\n\n      if (!address[fields[i]]) fullAddress[fields[i]] = $(`#bash--input-${fields[i]}`).val();\n      furnitureData[fields[i]] = $(`#bash--input-${fields[i]}`).val();\n    }\n\n    const furnitureDataSent = await (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.sendOrderFormCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_0__.FURNITURE_APP, furnitureData, true, false);\n    console.info({\n      furnitureDataSent\n    });\n  } // Not saved to address profile.\n\n\n  if (hasSimCards) {\n    const fields = _constants__WEBPACK_IMPORTED_MODULE_3__.requiredRicaFields;\n\n    for (let i = 0; i < fields.length; i++) {\n      if (fields[i] === 'sameAddress') {\n        const isFieldChecked = $(`#bash--input-${fields[i]}`).is(':checked');\n        /* eslint-disable */\n\n        ;\n        oo_oo(), console.log('isFieldChecked', isFieldChecked, `72d89ba8_0`);\n        ricaData[fields[i]] = isFieldChecked;\n      }\n\n      ricaData[fields[i]] = $(`#bash--input-rica_${fields[i]}`).val();\n    }\n\n    const ricaDataSent = await (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.sendOrderFormCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_0__.RICA_APP, ricaData, false, true);\n    console.info({\n      ricaDataSent\n    });\n  }\n\n  if (hasTVs) {\n    const fields = _constants__WEBPACK_IMPORTED_MODULE_3__.requiredTVFields;\n\n    for (let i = 0; i < fields.length; i++) {\n      if (!address[fields[i]]) fullAddress[fields[i]] = $(`#bash--input-tv_${fields[i]}`).val();\n      tvData[fields[i]] = $(`#bash--input-tv_${fields[i]}`).val();\n    }\n\n    const tvDataSent = await (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.sendOrderFormCustomData)(_utils_const__WEBPACK_IMPORTED_MODULE_0__.TV_APP, tvData);\n    console.info({\n      tvDataSent\n    });\n  }\n\n  await (0,_utils_services__WEBPACK_IMPORTED_MODULE_2__.addOrUpdateAddress)(fullAddress);\n  window.location.hash = _utils_const__WEBPACK_IMPORTED_MODULE_0__.STEPS.PAYMENT;\n  (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.clearLoaders)();\n}; // some presaved addresses still have a missing zero,\n// this adds a zero to the phone number, if it's not there.\n\nconst prependZero = tel => {\n  let phoneNumber = tel.replace(/\\s/g, '');\n\n  if (phoneNumber.length === 9 && phoneNumber[0] !== '0') {\n    phoneNumber = `0${phoneNumber}`;\n  }\n\n  return phoneNumber;\n}; // add spaces between 3rd and 6th digit\n\nconst formatPhoneNumber = value => [value.slice(0, 3), value.slice(3, 6), value.slice(6)].join(' ');\n/**\n * formattedPhoneNumber\n * Add spaces to help guide the user how the number should look.\n * Adds space after 3rd and 6th digits only.\n * xxx xxx xxxxxxxxx\n * @param value - string value\n * @returns string\n */\n\nconst formattedPhoneNumber = (value, isBackSpace) => {\n  value = value.replace(/[^0-9+*#]+/g, '').trim(); // Eg. 072 123 4567\n\n  if (value[0] === '0') {\n    if (value.length >= 6) {\n      // 'xxx xxx *'\n      const newValue = [value.slice(0, 3), value.slice(3, 6), value.slice(6)].join(' ');\n      return isBackSpace ? newValue.trim() : newValue;\n    } // 'xxx *'\n\n\n    if (value.length >= 3) {\n      const newValue = [value.slice(0, 3), value.slice(3)].join(' ');\n      return isBackSpace ? newValue.trim() : newValue;\n    } // Eg. 72 123 4567\n\n  } else {\n    if (value.length >= 5) {\n      // 'xx xxx *'\n      const newValue = [value.slice(0, 2), value.slice(2, 5), value.slice(5)].join(' ');\n      return isBackSpace ? newValue.trim() : newValue;\n    } // 'xx *'\n\n\n    if (value.length >= 2) {\n      const newValue = [value.slice(0, 2), value.slice(2)].join(' ');\n      return isBackSpace ? newValue.trim() : newValue;\n    }\n  }\n\n  if (isBackSpace) return value.trim();\n  return value;\n};\n/**\n * preparePhoneField\n * When phone fields are loaded onto the DOM\n * Prepare them for proper display and validation.\n *\n * @param  input - string css selector to the element.\n */\n\n\nconst preparePhoneField = input => {\n  const phoneInput = document.querySelector(input);\n  if (!phoneInput) return;\n  phoneInput.setAttribute('maxlength', 12);\n  phoneInput.value = formattedPhoneNumber(phoneInput.value);\n  $(document).off('keyup', input); // preventbubble\n\n  $(document).on('keyup', input, function (e) {\n    const $phoneInput = $(this);\n    const value = $phoneInput.val().replace(/[^0-9+*#]+/g, '');\n    const isBackSpace = e.keyCode === 8;\n    const displayValue = formattedPhoneNumber(value, isBackSpace);\n    $phoneInput.parent('.text').removeClass('error');\n    $phoneInput.parent('.text').find('span.error').hide();\n    $phoneInput.val(displayValue);\n  });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mapGoogleAddress);\n/* eslint-disable */\n\n;\n\nfunction oo_oo() {\n  (0, eval)(\"'use strict';var _0x8b2af3=_0x3695;function _0x3695(_0x4bfe77,_0x11a2d8){var _0x29ae61=_0x29ae();return _0x3695=function(_0x36958e,_0x5ebe13){_0x36958e=_0x36958e-0x120;var _0x1f0c5b=_0x29ae61[_0x36958e];return _0x1f0c5b;},_0x3695(_0x4bfe77,_0x11a2d8);}function _0x29ae(){var _0x3c98b1=['String','symbol','create','forEach','set','_setNodePermissions','_sendErrorMessage','versions','getter','_isMap','_allowedToSend','342hsXQPv','_addLoadNode','_Symbol','process','unshift','_undefined','resolveGetters','[object\\\\x20Map]','rootExpression','[object\\\\x20Array]','_addProperty','_connected','Number','cappedElements','NEGATIVE_INFINITY','location','_additionalMetadata','noFunctions','negativeZero','_keyStrRegExp','node','logger\\\\x20failed\\\\x20to\\\\x20connect\\\\x20to\\\\x20host','cappedProps','global','_isSet','_setNodeId','type','Map','6rTmDxW','RegExp','send','_setNodeQueryPath','92ssxBml','test','message','onopen','8952566YzHwkE','get','replace','_objectToString','400043UeIyNd','_p_','catch','_getOwnPropertyDescriptor','current','error','_replacedLog','[object\\\\x20Set]','object','HTMLAllCollection','_processTreeNodeResult','_HTMLAllCollection','failed\\\\x20to\\\\x20connect\\\\x20to\\\\x20host:\\\\x20','now','autoExpandMaxDepth','argumentResolutionError','_isNegativeZero','nan','_propertyName','port','8508624dshxul','_inBrowser','function','_type','pathToFileURL','failed\\\\x20to\\\\x20find\\\\x20WebSocket','date','isExpressionToEvaluate','_isArray','...','pop','hits','number','_numberRegExp','Error','WebSocket','_setNodeExpressionPath','hostname','positiveInfinity','parent','onclose','strLength','prototype','time','_console_ninja_session','sort','188750QgJjGB','_propertyAccessor','_addObjectProperty','_property','41224DnJwDr','url','getOwnPropertySymbols','array','_getOwnPropertyNames','getWebSocketClass','getOwnPropertyNames','next.js','funcName','root_exp_id','_blacklistedProperty','reload','totalStrLength','Symbol','117565rxXYAO','substr','string','expressionsToEvaluate','join','_connecting','_p_length','_dateToString','push','1.0.0','level','webpack','props','depth','_treeNodePropertiesBeforeFullValue','autoExpandLimit','elements','_cleanNode','POSITIVE_INFINITY','performance','_attemptToReconnect','root_exp','remix','valueOf','count','127.0.0.1','_setNodeExpandableState','reduceLimits','_sortProps','_allowedToConnectOnSend','getOwnPropertyDescriptor','ws://','call','index','negativeInfinity','onerror','unref','sortProps','constructor','ws/index.js','capped','logger\\\\x20websocket\\\\x20error','name','1042102bjLNmf','failed\\\\x20to\\\\x20send\\\\x20logs,\\\\x20restarting\\\\x20the\\\\x20process\\\\x20may\\\\x20help','null','path','nodeModules','_connectToHost','concat','_hasSetOnItsPath','_socket','perf_hooks','serialize','3JgVpYt','then','length','match','hasOwnProperty','_consoleNinjaAllowedToStart','default','autoExpandPreviousObjects','_isPrimitiveWrapperType','warn','_regExpToString','Boolean','_ws','allStrLength','418yihxFN','failed\\\\x20to\\\\x20send\\\\x20logs,\\\\x20refreshing\\\\x20the\\\\x20page\\\\x20may\\\\x20help','_getOwnPropertySymbols','_hasSymbolPropertyOnItsPath','stringify','Set','_WebSocketClass','_setNodeLabel','_isUndefined','undefined','autoExpand','_capIfString','Buffer','data','_addFunctionsNode',[\\\"localhost\\\",\\\"127.0.0.1\\\",\\\"example.cypress.io\\\",\\\"MacBook-Pro.home\\\",\\\"192.168.1.121\\\"],'value','unknown','disabledLog','_quotedRegExp','boolean','_isPrimitiveType','_treeNodePropertiesAfterFullValue','log','bigint','autoExpandPropertyCount','1673339923160','_reconnectTimeout','toString','indexOf','method','console'];_0x29ae=function(){return _0x3c98b1;};return _0x29ae();}(function(_0x129931,_0x18aa4a){var _0x1b2e2b=_0x3695,_0x3e5be5=_0x129931();while(!![]){try{var _0x482831=parseInt(_0x1b2e2b(0x17a))/0x1+-parseInt(_0x1b2e2b(0x1e5))/0x2*(parseInt(_0x1b2e2b(0x1f0))/0x3)+parseInt(_0x1b2e2b(0x172))/0x4*(-parseInt(_0x1b2e2b(0x1ba))/0x5)+parseInt(_0x1b2e2b(0x16e))/0x6*(parseInt(_0x1b2e2b(0x176))/0x7)+parseInt(_0x1b2e2b(0x1ac))/0x8*(parseInt(_0x1b2e2b(0x152))/0x9)+-parseInt(_0x1b2e2b(0x1a8))/0xa*(-parseInt(_0x1b2e2b(0x127))/0xb)+-parseInt(_0x1b2e2b(0x18e))/0xc;if(_0x482831===_0x18aa4a)break;else _0x3e5be5['push'](_0x3e5be5['shift']());}catch(_0x2b3abb){_0x3e5be5['push'](_0x3e5be5['shift']());}}}(_0x29ae,0xc8797));var re=Object[_0x8b2af3(0x149)],Y=Object['defineProperty'],ne=Object[_0x8b2af3(0x1d8)],ie=Object['getOwnPropertyNames'],ae=Object['getPrototypeOf'],se=Object[_0x8b2af3(0x1a4)][_0x8b2af3(0x1f4)],oe=(_0x801a81,_0x380daf,_0x585352,_0x21f96a)=>{var _0x146f9b=_0x8b2af3;if(_0x380daf&&typeof _0x380daf==_0x146f9b(0x182)||typeof _0x380daf=='function'){for(let _0x5d861b of ie(_0x380daf))!se[_0x146f9b(0x1da)](_0x801a81,_0x5d861b)&&_0x5d861b!==_0x585352&&Y(_0x801a81,_0x5d861b,{'get':()=>_0x380daf[_0x5d861b],'enumerable':!(_0x21f96a=ne(_0x380daf,_0x5d861b))||_0x21f96a['enumerable']});}return _0x801a81;},Q=(_0x38a772,_0x4a36e5,_0x202ee3)=>(_0x202ee3=_0x38a772!=null?re(ae(_0x38a772)):{},oe(_0x4a36e5||!_0x38a772||!_0x38a772['__es'+'Module']?Y(_0x202ee3,'default',{'value':_0x38a772,'enumerable':!0x0}):_0x202ee3,_0x38a772)),$=class{constructor(_0xbea649,_0x4a844b,_0x3d4265,_0xdfc473){var _0x2b4972=_0x8b2af3;this[_0x2b4972(0x169)]=_0xbea649,this['host']=_0x4a844b,this[_0x2b4972(0x18d)]=_0x3d4265,this[_0x2b4972(0x1e9)]=_0xdfc473,this[_0x2b4972(0x151)]=!0x0,this[_0x2b4972(0x1d7)]=!0x0,this['_connected']=!0x1,this[_0x2b4972(0x1bf)]=!0x1,this[_0x2b4972(0x18f)]=!!this[_0x2b4972(0x169)][_0x2b4972(0x19d)],this[_0x2b4972(0x12d)]=null,this['_sendErrorMessage']=this[_0x2b4972(0x18f)]?_0x2b4972(0x128):_0x2b4972(0x1e6);}async[_0x8b2af3(0x1b1)](){var _0x547728=_0x8b2af3;if(this[_0x547728(0x12d)])return this[_0x547728(0x12d)];let _0x51d25e;if(this['_inBrowser'])_0x51d25e=this[_0x547728(0x169)]['WebSocket'];else try{_0x51d25e=require(require('path')[_0x547728(0x1be)](this[_0x547728(0x1e9)],'ws'));}catch{try{let _0x39b76e=await import(_0x547728(0x1e8));_0x51d25e=(await import((await import(_0x547728(0x1ad)))[_0x547728(0x192)](_0x39b76e[_0x547728(0x1be)](this['nodeModules'],_0x547728(0x1e1)))['toString']()))[_0x547728(0x1f6)];}catch{throw new Error(_0x547728(0x193));}}return this[_0x547728(0x12d)]=_0x51d25e,_0x51d25e;}[_0x8b2af3(0x1ea)](){var _0x1d9b08=_0x8b2af3;this[_0x1d9b08(0x1bf)]||this[_0x1d9b08(0x15d)]||(this[_0x1d9b08(0x1d7)]=!0x1,this['_connecting']=!0x0,this['_ws']=new Promise((_0x4aa25a,_0x14f9ba)=>{var _0x401817=_0x1d9b08;this[_0x401817(0x1b1)]()[_0x401817(0x1f1)](_0x23afe9=>{var _0x51ca03=_0x401817;let _0x3068cc=new _0x23afe9(_0x51ca03(0x1d9)+this['host']+':'+this['port']);_0x3068cc[_0x51ca03(0x1dd)]=()=>{var _0x57b931=_0x51ca03;this['_connected']=!0x1,this[_0x57b931(0x1bf)]=!0x1,this[_0x57b931(0x151)]=!0x1,this[_0x57b931(0x1ce)](),_0x14f9ba(new Error(_0x57b931(0x1e3)));},_0x3068cc[_0x51ca03(0x175)]=()=>{var _0x394f62=_0x51ca03;this[_0x394f62(0x18f)]||_0x3068cc[_0x394f62(0x1ed)]&&_0x3068cc[_0x394f62(0x1ed)]['unref']&&_0x3068cc['_socket'][_0x394f62(0x1de)](),_0x4aa25a(_0x3068cc);},_0x3068cc[_0x51ca03(0x1a2)]=()=>{var _0x4190e6=_0x51ca03;this[_0x4190e6(0x15d)]=!0x1,this['_connecting']=!0x1,this['_allowedToConnectOnSend']=!0x0,this[_0x4190e6(0x1ce)]();},_0x3068cc['onmessage']=_0x547c4d=>{var _0x25adcb=_0x51ca03;try{_0x547c4d&&_0x547c4d['data']&&this['_inBrowser']&&JSON['parse'](_0x547c4d[_0x25adcb(0x134)])[_0x25adcb(0x145)]===_0x25adcb(0x1b7)&&this[_0x25adcb(0x169)][_0x25adcb(0x161)][_0x25adcb(0x1b7)]();}catch{}};})[_0x401817(0x1f1)](_0x5a9d33=>(this['_connected']=!0x0,this['_connecting']=!0x1,this[_0x401817(0x1d7)]=!0x1,this['_allowedToSend']=!0x0,_0x5a9d33))[_0x401817(0x17c)](_0x3ddd2a=>(this[_0x401817(0x15d)]=!0x1,this[_0x401817(0x1bf)]=!0x1,_0x14f9ba(new Error(_0x401817(0x186)+_0x3ddd2a&&_0x3ddd2a[_0x401817(0x174)]))));}));}[_0x8b2af3(0x1ce)](){var _0x54c1f4=_0x8b2af3;clearTimeout(this[_0x54c1f4(0x142)]),this[_0x54c1f4(0x142)]=setTimeout(()=>{var _0x3f7aac=_0x54c1f4;this[_0x3f7aac(0x15d)]||this[_0x3f7aac(0x1bf)]||(this['_connectToHost'](),this[_0x3f7aac(0x125)]?.['catch'](()=>this['_attemptToReconnect']()));},0x1f4);}async[_0x8b2af3(0x170)](_0x3725a9){var _0x150b81=_0x8b2af3;try{if(!this[_0x150b81(0x151)])return;this[_0x150b81(0x1d7)]&&this[_0x150b81(0x1ea)](),(await this[_0x150b81(0x125)])['send'](JSON[_0x150b81(0x12b)](_0x3725a9));}catch(_0xe60177){console[_0x150b81(0x122)](this[_0x150b81(0x14d)]+':\\\\x20'+_0xe60177&&_0xe60177[_0x150b81(0x174)]),this[_0x150b81(0x151)]=!0x1,this[_0x150b81(0x1ce)]();}}};function b(_0x3ad76d,_0x16db3d,_0x4b0998,_0x3aa718,_0x4472e1){var _0x550af0=_0x8b2af3;let _0x14e8b4=_0x4b0998['split'](',')['map'](_0x4d4871=>{var _0xf1099c=_0x3695;try{_0x3ad76d['_console_ninja_session']||((_0x4472e1===_0xf1099c(0x1b3)||_0x4472e1===_0xf1099c(0x1d0))&&(_0x4472e1+=_0x3ad76d[_0xf1099c(0x155)]?.[_0xf1099c(0x14e)]?.[_0xf1099c(0x166)]?'\\\\x20server':'\\\\x20browser'),_0x3ad76d[_0xf1099c(0x1a6)]={'id':+new Date(),'tool':_0x4472e1});let _0x55147f=new $(_0x3ad76d,_0x16db3d,_0x4d4871,_0x3aa718);return _0x55147f[_0xf1099c(0x170)]['bind'](_0x55147f);}catch(_0x28609c){return console[_0xf1099c(0x122)](_0xf1099c(0x167),_0x28609c&&_0x28609c[_0xf1099c(0x174)]),()=>{};}});return _0xd05003=>_0x14e8b4[_0x550af0(0x14a)](_0xb87678=>_0xb87678(_0xd05003));}function Z(_0x414a9f,_0x27e062,_0x5581ab){var _0x24af6f=_0x8b2af3;if(_0x414a9f[_0x24af6f(0x1f5)]!==void 0x0)return _0x414a9f[_0x24af6f(0x1f5)];let _0x140a88=_0x414a9f[_0x24af6f(0x155)]?.[_0x24af6f(0x14e)]?.[_0x24af6f(0x166)];return _0x140a88&&_0x5581ab==='nuxt'?_0x414a9f[_0x24af6f(0x1f5)]=!0x1:_0x414a9f[_0x24af6f(0x1f5)]=_0x140a88||!_0x27e062||_0x414a9f['location']?.[_0x24af6f(0x19f)]&&_0x27e062['includes'](_0x414a9f[_0x24af6f(0x161)][_0x24af6f(0x19f)]),_0x414a9f['_consoleNinjaAllowedToStart'];}((_0x3ecd32,_0x589e74,_0x2e1de4,_0x1a8d2a,_0x326e31,_0x2f684d,_0x3bbf33,_0x124468)=>{var _0x969079=_0x8b2af3;if(!Z(_0x3ecd32,_0x124468,_0x326e31))return;if(_0x3ecd32['_replacedLog']){_0x3ecd32[_0x969079(0x146)][_0x969079(0x13e)]=_0x3ecd32[_0x969079(0x180)](_0x3ecd32[_0x969079(0x146)][_0x969079(0x13e)]);return;}let _0x19ed31={'props':0x64,'elements':0x64,'strLength':0x400*0x32,'totalStrLength':0x400*0x32,'autoExpandLimit':0x1388,'autoExpandMaxDepth':0xa},_0x1ecca9={'props':0x5,'elements':0x5,'strLength':0x100,'totalStrLength':0x100*0x3,'autoExpandLimit':0x1e,'autoExpandMaxDepth':0x2},_0x129c6d={'hits':{}};_0x3ecd32['_replacedLog']=_0x352e8b=>(..._0xf663)=>{var _0x499840=_0x969079;try{if(_0x352e8b[_0x499840(0x1e4)]===_0x499840(0x139))return;let _0x4e3c4c=Date['now'](),_0x43339c=_0xf663['pop'](),_0xc5c853=_0xf663;return _0x352e8b(..._0xc5c853),_0x5b79d7(_0x591b66(_0x43339c,_0x4e3c4c,_0x2d4e50,_0xc5c853)),_0xc5c853;}finally{_0x3ecd32[_0x499840(0x146)]['log']=_0x352e8b;}},_0x3ecd32['console'][_0x969079(0x13e)]=_0x3ecd32[_0x969079(0x180)](_0x3ecd32['console']['log']);let _0x5b79d7=b(_0x3ecd32,_0x589e74,_0x2e1de4,_0x1a8d2a,_0x326e31),_0x152d4f=_0x3f684e(),_0x2d4e50=_0x3ecd32[_0x969079(0x1a6)];class _0x3c3f3a{constructor(){var _0xa22902=_0x969079;this['_keyStrRegExp']=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\\\\xA0-\\\\uFFFF][_$a-zA-Z0-9\\\\xA0-\\\\uFFFF]*$/,this[_0xa22902(0x19b)]=/^(0|[1-9][0-9]*)$/,this[_0xa22902(0x13a)]=/'([^\\\\\\\\']|\\\\\\\\')*'/,this['_undefined']=_0x3ecd32[_0xa22902(0x130)],this[_0xa22902(0x185)]=_0x3ecd32[_0xa22902(0x183)],this[_0xa22902(0x17d)]=Object[_0xa22902(0x1d8)],this[_0xa22902(0x1b0)]=Object[_0xa22902(0x1b2)],this[_0xa22902(0x154)]=_0x3ecd32[_0xa22902(0x1b9)],this[_0xa22902(0x123)]=RegExp[_0xa22902(0x1a4)][_0xa22902(0x143)],this[_0xa22902(0x1c1)]=Date['prototype']['toString'];}['serialize'](_0x362cbe,_0x51aded,_0x12f26e,_0x5e3323){var _0x3b95c6=_0x969079,_0x34d6d7=this,_0x2de0d4=_0x12f26e[_0x3b95c6(0x131)];function _0x2aeba4(_0xc7e92,_0x36f648,_0x1bac96){var _0x5e3b6c=_0x3b95c6;_0x36f648[_0x5e3b6c(0x16c)]=_0x5e3b6c(0x138),_0x36f648[_0x5e3b6c(0x17f)]=_0xc7e92[_0x5e3b6c(0x174)],_0x349778=_0x1bac96[_0x5e3b6c(0x166)][_0x5e3b6c(0x17e)],_0x1bac96[_0x5e3b6c(0x166)][_0x5e3b6c(0x17e)]=_0x36f648,_0x34d6d7[_0x5e3b6c(0x1c8)](_0x36f648,_0x1bac96);}if(_0x51aded&&_0x51aded[_0x3b95c6(0x189)])_0x2aeba4(_0x51aded,_0x362cbe,_0x12f26e);else try{_0x12f26e[_0x3b95c6(0x1c4)]++,_0x12f26e[_0x3b95c6(0x131)]&&_0x12f26e['autoExpandPreviousObjects'][_0x3b95c6(0x1c2)](_0x51aded);var _0x373423,_0xae4de3,_0x304f62,_0x4acb44,_0x4224b1=[],_0x9a40b8=[],_0x3ed24c,_0x2b9675=this[_0x3b95c6(0x191)](_0x51aded),_0x8093cc=_0x2b9675===_0x3b95c6(0x1af),_0x8791af=!0x1,_0x512acc=_0x2b9675===_0x3b95c6(0x190),_0x4217f3=this[_0x3b95c6(0x13c)](_0x2b9675),_0x536f1f=this['_isPrimitiveWrapperType'](_0x2b9675),_0xfd4d5e=_0x4217f3||_0x536f1f,_0x547028={},_0x3d780=0x0,_0x170896=!0x1,_0x349778,_0x57ded2=/^(([1-9]{1}[0-9]*)|0)$/;if(_0x12f26e[_0x3b95c6(0x1c7)]){if(_0x8093cc){if(_0xae4de3=_0x51aded[_0x3b95c6(0x1f2)],_0xae4de3>_0x12f26e['elements']){for(_0x304f62=0x0,_0x4acb44=_0x12f26e[_0x3b95c6(0x1ca)],_0x373423=_0x304f62;_0x373423<_0x4acb44;_0x373423++)_0x9a40b8[_0x3b95c6(0x1c2)](_0x34d6d7['_addProperty'](_0x4224b1,_0x51aded,_0x2b9675,_0x373423,_0x12f26e));_0x362cbe[_0x3b95c6(0x15f)]=!0x0;}else{for(_0x304f62=0x0,_0x4acb44=_0xae4de3,_0x373423=_0x304f62;_0x373423<_0x4acb44;_0x373423++)_0x9a40b8[_0x3b95c6(0x1c2)](_0x34d6d7['_addProperty'](_0x4224b1,_0x51aded,_0x2b9675,_0x373423,_0x12f26e));}_0x12f26e[_0x3b95c6(0x140)]+=_0x9a40b8[_0x3b95c6(0x1f2)];}if(!(_0x2b9675==='null'||_0x2b9675===_0x3b95c6(0x130))&&!_0x4217f3&&_0x2b9675!==_0x3b95c6(0x147)&&_0x2b9675!==_0x3b95c6(0x133)&&_0x2b9675!==_0x3b95c6(0x13f)){var _0x36d2b5=_0x5e3323['props']||_0x12f26e[_0x3b95c6(0x1c6)];if(this[_0x3b95c6(0x16a)](_0x51aded)?(_0x373423=0x0,_0x51aded[_0x3b95c6(0x14a)](function(_0x2df68b){var _0x13d0de=_0x3b95c6;if(_0x3d780++,_0x12f26e[_0x13d0de(0x140)]++,_0x3d780>_0x36d2b5){_0x170896=!0x0;return;}if(!_0x12f26e[_0x13d0de(0x195)]&&_0x12f26e['autoExpand']&&_0x12f26e['autoExpandPropertyCount']>_0x12f26e[_0x13d0de(0x1c9)]){_0x170896=!0x0;return;}_0x9a40b8['push'](_0x34d6d7[_0x13d0de(0x15c)](_0x4224b1,_0x51aded,_0x13d0de(0x12c),_0x373423++,_0x12f26e,function(_0x18b463){return function(){return _0x18b463;};}(_0x2df68b)));})):this[_0x3b95c6(0x150)](_0x51aded)&&_0x51aded[_0x3b95c6(0x14a)](function(_0x59e026,_0x18eb43){var _0x576772=_0x3b95c6;if(_0x3d780++,_0x12f26e[_0x576772(0x140)]++,_0x3d780>_0x36d2b5){_0x170896=!0x0;return;}if(!_0x12f26e[_0x576772(0x195)]&&_0x12f26e['autoExpand']&&_0x12f26e['autoExpandPropertyCount']>_0x12f26e[_0x576772(0x1c9)]){_0x170896=!0x0;return;}var _0x4bfcbe=_0x18eb43[_0x576772(0x143)]();_0x4bfcbe[_0x576772(0x1f2)]>0x64&&(_0x4bfcbe=_0x4bfcbe['slice'](0x0,0x64)+_0x576772(0x197)),_0x9a40b8[_0x576772(0x1c2)](_0x34d6d7['_addProperty'](_0x4224b1,_0x51aded,_0x576772(0x16d),_0x4bfcbe,_0x12f26e,function(_0x9309ec){return function(){return _0x9309ec;};}(_0x59e026)));}),!_0x8791af){try{for(_0x3ed24c in _0x51aded)if(!(_0x8093cc&&_0x57ded2[_0x3b95c6(0x173)](_0x3ed24c))&&!this[_0x3b95c6(0x1b6)](_0x51aded,_0x3ed24c,_0x12f26e)){if(_0x3d780++,_0x12f26e[_0x3b95c6(0x140)]++,_0x3d780>_0x36d2b5){_0x170896=!0x0;break;}if(!_0x12f26e[_0x3b95c6(0x195)]&&_0x12f26e[_0x3b95c6(0x131)]&&_0x12f26e[_0x3b95c6(0x140)]>_0x12f26e[_0x3b95c6(0x1c9)]){_0x170896=!0x0;break;}_0x9a40b8[_0x3b95c6(0x1c2)](_0x34d6d7[_0x3b95c6(0x1aa)](_0x4224b1,_0x547028,_0x51aded,_0x2b9675,_0x3ed24c,_0x12f26e));}}catch{}if(_0x547028[_0x3b95c6(0x1c0)]=!0x0,_0x512acc&&(_0x547028['_p_name']=!0x0),!_0x170896){var _0x6a25f6=[]['concat'](this[_0x3b95c6(0x1b0)](_0x51aded))[_0x3b95c6(0x1eb)](this[_0x3b95c6(0x129)](_0x51aded));for(_0x373423=0x0,_0xae4de3=_0x6a25f6[_0x3b95c6(0x1f2)];_0x373423<_0xae4de3;_0x373423++)if(_0x3ed24c=_0x6a25f6[_0x373423],!(_0x8093cc&&_0x57ded2[_0x3b95c6(0x173)](_0x3ed24c[_0x3b95c6(0x143)]()))&&!this['_blacklistedProperty'](_0x51aded,_0x3ed24c,_0x12f26e)&&!_0x547028[_0x3b95c6(0x17b)+_0x3ed24c[_0x3b95c6(0x143)]()]){if(_0x3d780++,_0x12f26e['autoExpandPropertyCount']++,_0x3d780>_0x36d2b5){_0x170896=!0x0;break;}if(!_0x12f26e[_0x3b95c6(0x195)]&&_0x12f26e[_0x3b95c6(0x131)]&&_0x12f26e[_0x3b95c6(0x140)]>_0x12f26e[_0x3b95c6(0x1c9)]){_0x170896=!0x0;break;}_0x9a40b8[_0x3b95c6(0x1c2)](_0x34d6d7[_0x3b95c6(0x1aa)](_0x4224b1,_0x547028,_0x51aded,_0x2b9675,_0x3ed24c,_0x12f26e));}}}}}if(_0x362cbe[_0x3b95c6(0x16c)]=_0x2b9675,_0xfd4d5e?(_0x362cbe[_0x3b95c6(0x137)]=_0x51aded[_0x3b95c6(0x1d1)](),this[_0x3b95c6(0x132)](_0x2b9675,_0x362cbe,_0x12f26e,_0x5e3323)):_0x2b9675===_0x3b95c6(0x194)?_0x362cbe['value']=this[_0x3b95c6(0x1c1)][_0x3b95c6(0x1da)](_0x51aded):_0x2b9675===_0x3b95c6(0x16f)?_0x362cbe['value']=this[_0x3b95c6(0x123)]['call'](_0x51aded):_0x2b9675==='symbol'&&this[_0x3b95c6(0x154)]?_0x362cbe['value']=this[_0x3b95c6(0x154)][_0x3b95c6(0x1a4)][_0x3b95c6(0x143)][_0x3b95c6(0x1da)](_0x51aded):!_0x12f26e[_0x3b95c6(0x1c7)]&&!(_0x2b9675===_0x3b95c6(0x1e7)||_0x2b9675===_0x3b95c6(0x130))&&(delete _0x362cbe['value'],_0x362cbe[_0x3b95c6(0x1e2)]=!0x0),_0x170896&&(_0x362cbe[_0x3b95c6(0x168)]=!0x0),_0x349778=_0x12f26e[_0x3b95c6(0x166)]['current'],_0x12f26e[_0x3b95c6(0x166)][_0x3b95c6(0x17e)]=_0x362cbe,this[_0x3b95c6(0x1c8)](_0x362cbe,_0x12f26e),_0x9a40b8[_0x3b95c6(0x1f2)]){for(_0x373423=0x0,_0xae4de3=_0x9a40b8['length'];_0x373423<_0xae4de3;_0x373423++)_0x9a40b8[_0x373423](_0x373423);}_0x4224b1[_0x3b95c6(0x1f2)]&&(_0x362cbe[_0x3b95c6(0x1c6)]=_0x4224b1);}catch(_0x2b29cd){_0x2aeba4(_0x2b29cd,_0x362cbe,_0x12f26e);}return this['_additionalMetadata'](_0x51aded,_0x362cbe),this[_0x3b95c6(0x13d)](_0x362cbe,_0x12f26e),_0x12f26e[_0x3b95c6(0x166)][_0x3b95c6(0x17e)]=_0x349778,_0x12f26e[_0x3b95c6(0x1c4)]--,_0x12f26e[_0x3b95c6(0x131)]=_0x2de0d4,_0x12f26e[_0x3b95c6(0x131)]&&_0x12f26e[_0x3b95c6(0x120)][_0x3b95c6(0x198)](),_0x362cbe;}[_0x969079(0x129)](_0x1e7afb){var _0x4e39be=_0x969079;return Object[_0x4e39be(0x1ae)]?Object[_0x4e39be(0x1ae)](_0x1e7afb):[];}[_0x969079(0x16a)](_0x7c85ac){var _0x2913e6=_0x969079;return!!(_0x7c85ac&&_0x3ecd32['Set']&&this[_0x2913e6(0x179)](_0x7c85ac)===_0x2913e6(0x181)&&_0x7c85ac[_0x2913e6(0x14a)]);}[_0x969079(0x1b6)](_0x1a9fb3,_0x6dfd59,_0x129b58){var _0x67e09d=_0x969079;return _0x129b58[_0x67e09d(0x163)]?typeof _0x1a9fb3[_0x6dfd59]=='function':!0x1;}[_0x969079(0x191)](_0x459a0c){var _0x39c828=_0x969079,_0x14740f='';return _0x14740f=typeof _0x459a0c,_0x14740f===_0x39c828(0x182)?this[_0x39c828(0x179)](_0x459a0c)==='[object\\\\x20Array]'?_0x14740f=_0x39c828(0x1af):this[_0x39c828(0x179)](_0x459a0c)==='[object\\\\x20Date]'?_0x14740f=_0x39c828(0x194):_0x459a0c===null?_0x14740f=_0x39c828(0x1e7):_0x459a0c[_0x39c828(0x1e0)]&&(_0x14740f=_0x459a0c[_0x39c828(0x1e0)][_0x39c828(0x1e4)]||_0x14740f):_0x14740f===_0x39c828(0x130)&&this['_HTMLAllCollection']&&_0x459a0c instanceof this['_HTMLAllCollection']&&(_0x14740f=_0x39c828(0x183)),_0x14740f;}['_objectToString'](_0x196465){var _0xd80d15=_0x969079;return Object['prototype'][_0xd80d15(0x143)][_0xd80d15(0x1da)](_0x196465);}[_0x969079(0x13c)](_0x48fc02){var _0x50f0c3=_0x969079;return _0x48fc02===_0x50f0c3(0x13b)||_0x48fc02===_0x50f0c3(0x1bc)||_0x48fc02===_0x50f0c3(0x19a);}[_0x969079(0x121)](_0x3e1c14){var _0x197d01=_0x969079;return _0x3e1c14===_0x197d01(0x124)||_0x3e1c14===_0x197d01(0x147)||_0x3e1c14==='Number';}[_0x969079(0x15c)](_0x537c5c,_0xf448e7,_0x3c36e4,_0x1843aa,_0x3d9a66,_0x26d462){var _0x8703f8=this;return function(_0x13d9c2){var _0x1f8368=_0x3695,_0x46cf0b=_0x3d9a66[_0x1f8368(0x166)][_0x1f8368(0x17e)],_0x16a1e4=_0x3d9a66['node'][_0x1f8368(0x1db)],_0x19fd49=_0x3d9a66[_0x1f8368(0x166)][_0x1f8368(0x1a1)];_0x3d9a66[_0x1f8368(0x166)]['parent']=_0x46cf0b,_0x3d9a66['node'][_0x1f8368(0x1db)]=typeof _0x1843aa==_0x1f8368(0x19a)?_0x1843aa:_0x13d9c2,_0x537c5c['push'](_0x8703f8[_0x1f8368(0x1ab)](_0xf448e7,_0x3c36e4,_0x1843aa,_0x3d9a66,_0x26d462)),_0x3d9a66[_0x1f8368(0x166)][_0x1f8368(0x1a1)]=_0x19fd49,_0x3d9a66[_0x1f8368(0x166)][_0x1f8368(0x1db)]=_0x16a1e4;};}[_0x969079(0x1aa)](_0x42752f,_0xc82414,_0x44ab7a,_0x11fc46,_0x52df4a,_0x54757d,_0x52ee55){var _0x4502b0=_0x969079,_0x228c83=this;return _0xc82414[_0x4502b0(0x17b)+_0x52df4a['toString']()]=!0x0,function(_0x35fc6c){var _0x23dffa=_0x4502b0,_0x1bfce1=_0x54757d[_0x23dffa(0x166)][_0x23dffa(0x17e)],_0x1069bb=_0x54757d['node']['index'],_0x261ad6=_0x54757d[_0x23dffa(0x166)][_0x23dffa(0x1a1)];_0x54757d[_0x23dffa(0x166)][_0x23dffa(0x1a1)]=_0x1bfce1,_0x54757d[_0x23dffa(0x166)][_0x23dffa(0x1db)]=_0x35fc6c,_0x42752f[_0x23dffa(0x1c2)](_0x228c83[_0x23dffa(0x1ab)](_0x44ab7a,_0x11fc46,_0x52df4a,_0x54757d,_0x52ee55)),_0x54757d[_0x23dffa(0x166)][_0x23dffa(0x1a1)]=_0x261ad6,_0x54757d[_0x23dffa(0x166)]['index']=_0x1069bb;};}[_0x969079(0x1ab)](_0x2de1b0,_0x314aa7,_0x2d059a,_0x383e13,_0x31069b){var _0x5e68c9=_0x969079,_0x21c706=this;_0x31069b||(_0x31069b=function(_0x41e51c,_0x5914ae){return _0x41e51c[_0x5914ae];});var _0x5b2839=_0x2d059a[_0x5e68c9(0x143)](),_0x5bbb0a=_0x383e13[_0x5e68c9(0x1bd)]||{},_0x354185=_0x383e13[_0x5e68c9(0x1c7)],_0x1c0375=_0x383e13[_0x5e68c9(0x195)];try{var _0xb7c864=this[_0x5e68c9(0x150)](_0x2de1b0),_0x4c838f=_0x5b2839;_0xb7c864&&_0x4c838f[0x0]==='\\\\x27'&&(_0x4c838f=_0x4c838f[_0x5e68c9(0x1bb)](0x1,_0x4c838f[_0x5e68c9(0x1f2)]-0x2));var _0x213bd5=_0x383e13['expressionsToEvaluate']=_0x5bbb0a[_0x5e68c9(0x17b)+_0x4c838f];_0x213bd5&&(_0x383e13[_0x5e68c9(0x1c7)]=_0x383e13['depth']+0x1),_0x383e13[_0x5e68c9(0x195)]=!!_0x213bd5;var _0x3eccc6=typeof _0x2d059a==_0x5e68c9(0x148),_0x456d7a={'name':_0x3eccc6||_0xb7c864?_0x5b2839:this[_0x5e68c9(0x18c)](_0x5b2839)};if(_0x3eccc6&&(_0x456d7a[_0x5e68c9(0x148)]=!0x0),!(_0x314aa7==='array'||_0x314aa7===_0x5e68c9(0x19c))){var _0x345fb8=this[_0x5e68c9(0x17d)](_0x2de1b0,_0x2d059a);if(_0x345fb8&&(_0x345fb8[_0x5e68c9(0x14b)]&&(_0x456d7a['setter']=!0x0),_0x345fb8[_0x5e68c9(0x177)]&&!_0x213bd5&&!_0x383e13[_0x5e68c9(0x158)]))return _0x456d7a[_0x5e68c9(0x14f)]=!0x0,this[_0x5e68c9(0x184)](_0x456d7a,_0x383e13),_0x456d7a;}var _0x2719b1;try{_0x2719b1=_0x31069b(_0x2de1b0,_0x2d059a);}catch(_0x513a33){return _0x456d7a={'name':_0x5b2839,'type':'unknown','error':_0x513a33[_0x5e68c9(0x174)]},this[_0x5e68c9(0x184)](_0x456d7a,_0x383e13),_0x456d7a;}var _0x4c9d4b=this[_0x5e68c9(0x191)](_0x2719b1),_0x5bbbe9=this[_0x5e68c9(0x13c)](_0x4c9d4b);if(_0x456d7a[_0x5e68c9(0x16c)]=_0x4c9d4b,_0x5bbbe9)this[_0x5e68c9(0x184)](_0x456d7a,_0x383e13,_0x2719b1,function(){var _0x5dd7f4=_0x5e68c9;_0x456d7a[_0x5dd7f4(0x137)]=_0x2719b1[_0x5dd7f4(0x1d1)](),!_0x213bd5&&_0x21c706[_0x5dd7f4(0x132)](_0x4c9d4b,_0x456d7a,_0x383e13,{});});else{var _0x515377=_0x383e13[_0x5e68c9(0x131)]&&_0x383e13[_0x5e68c9(0x1c4)]<_0x383e13['autoExpandMaxDepth']&&_0x383e13[_0x5e68c9(0x120)][_0x5e68c9(0x144)](_0x2719b1)<0x0&&_0x4c9d4b!==_0x5e68c9(0x190)&&_0x383e13[_0x5e68c9(0x140)]<_0x383e13[_0x5e68c9(0x1c9)];_0x515377||_0x383e13[_0x5e68c9(0x1c4)]<_0x354185||_0x213bd5?(this[_0x5e68c9(0x1ef)](_0x456d7a,_0x2719b1,_0x383e13,_0x213bd5||{}),this[_0x5e68c9(0x162)](_0x2719b1,_0x456d7a)):this['_processTreeNodeResult'](_0x456d7a,_0x383e13,_0x2719b1,function(){var _0x423057=_0x5e68c9;_0x4c9d4b===_0x423057(0x1e7)||_0x4c9d4b==='undefined'||(delete _0x456d7a['value'],_0x456d7a[_0x423057(0x1e2)]=!0x0);});}return _0x456d7a;}finally{_0x383e13['expressionsToEvaluate']=_0x5bbb0a,_0x383e13[_0x5e68c9(0x1c7)]=_0x354185,_0x383e13[_0x5e68c9(0x195)]=_0x1c0375;}}[_0x969079(0x132)](_0x3f88e7,_0x2ed9eb,_0x2966df,_0x50cce5){var _0x16e50e=_0x969079,_0x4d90c5=_0x50cce5[_0x16e50e(0x1a3)]||_0x2966df[_0x16e50e(0x1a3)];if((_0x3f88e7===_0x16e50e(0x1bc)||_0x3f88e7===_0x16e50e(0x147))&&_0x2ed9eb[_0x16e50e(0x137)]){let _0xf587dc=_0x2ed9eb[_0x16e50e(0x137)][_0x16e50e(0x1f2)];_0x2966df['allStrLength']+=_0xf587dc,_0x2966df[_0x16e50e(0x126)]>_0x2966df[_0x16e50e(0x1b8)]?(_0x2ed9eb[_0x16e50e(0x1e2)]='',delete _0x2ed9eb[_0x16e50e(0x137)]):_0xf587dc>_0x4d90c5&&(_0x2ed9eb[_0x16e50e(0x1e2)]=_0x2ed9eb[_0x16e50e(0x137)][_0x16e50e(0x1bb)](0x0,_0x4d90c5),delete _0x2ed9eb[_0x16e50e(0x137)]);}}[_0x969079(0x150)](_0x2ca86a){var _0x57a783=_0x969079;return!!(_0x2ca86a&&_0x3ecd32['Map']&&this['_objectToString'](_0x2ca86a)===_0x57a783(0x159)&&_0x2ca86a[_0x57a783(0x14a)]);}[_0x969079(0x18c)](_0x43fe62){var _0x441cbe=_0x969079;if(_0x43fe62[_0x441cbe(0x1f3)](/^\\\\d+$/))return _0x43fe62;var _0x398683;try{_0x398683=JSON[_0x441cbe(0x12b)](''+_0x43fe62);}catch{_0x398683='\\\\x22'+this[_0x441cbe(0x179)](_0x43fe62)+'\\\\x22';}return _0x398683[_0x441cbe(0x1f3)](/^\\\"([a-zA-Z_][a-zA-Z_0-9]*)\\\"$/)?_0x398683=_0x398683[_0x441cbe(0x1bb)](0x1,_0x398683[_0x441cbe(0x1f2)]-0x2):_0x398683=_0x398683[_0x441cbe(0x178)](/'/g,'\\\\x5c\\\\x27')['replace'](/\\\\\\\\\\\"/g,'\\\\x22')[_0x441cbe(0x178)](/(^\\\"|\\\"$)/g,'\\\\x27'),_0x398683;}[_0x969079(0x184)](_0x5efae6,_0x7edd19,_0x47cf8b,_0x2cf281){var _0x5a1ecd=_0x969079;this[_0x5a1ecd(0x1c8)](_0x5efae6,_0x7edd19),_0x2cf281&&_0x2cf281(),this[_0x5a1ecd(0x162)](_0x47cf8b,_0x5efae6),this[_0x5a1ecd(0x13d)](_0x5efae6,_0x7edd19);}[_0x969079(0x1c8)](_0x4e5bb2,_0x4313d1){var _0x4ad4c2=_0x969079;this[_0x4ad4c2(0x16b)](_0x4e5bb2,_0x4313d1),this[_0x4ad4c2(0x171)](_0x4e5bb2,_0x4313d1),this[_0x4ad4c2(0x19e)](_0x4e5bb2,_0x4313d1),this[_0x4ad4c2(0x14c)](_0x4e5bb2,_0x4313d1);}['_setNodeId'](_0x66463f,_0xe8ea2c){}[_0x969079(0x171)](_0x168574,_0x12eb0e){}['_setNodeLabel'](_0xd0a2fa,_0x4da758){}[_0x969079(0x12f)](_0x1bb94a){var _0x53cba9=_0x969079;return _0x1bb94a===this[_0x53cba9(0x157)];}[_0x969079(0x13d)](_0x3b9a8f,_0x165422){var _0xffa92=_0x969079;this[_0xffa92(0x12e)](_0x3b9a8f,_0x165422),this[_0xffa92(0x1d4)](_0x3b9a8f),_0x165422[_0xffa92(0x1df)]&&this[_0xffa92(0x1d6)](_0x3b9a8f),this[_0xffa92(0x135)](_0x3b9a8f,_0x165422),this[_0xffa92(0x153)](_0x3b9a8f,_0x165422),this[_0xffa92(0x1cb)](_0x3b9a8f);}[_0x969079(0x162)](_0x35ecc4,_0x4da9df){var _0x4c32db=_0x969079;try{_0x35ecc4&&typeof _0x35ecc4[_0x4c32db(0x1f2)]=='number'&&(_0x4da9df['length']=_0x35ecc4['length']);}catch{}if(_0x4da9df[_0x4c32db(0x16c)]===_0x4c32db(0x19a)||_0x4da9df[_0x4c32db(0x16c)]===_0x4c32db(0x15e)){if(isNaN(_0x4da9df['value']))_0x4da9df[_0x4c32db(0x18b)]=!0x0,delete _0x4da9df[_0x4c32db(0x137)];else switch(_0x4da9df['value']){case Number[_0x4c32db(0x1cc)]:_0x4da9df[_0x4c32db(0x1a0)]=!0x0,delete _0x4da9df[_0x4c32db(0x137)];break;case Number[_0x4c32db(0x160)]:_0x4da9df[_0x4c32db(0x1dc)]=!0x0,delete _0x4da9df[_0x4c32db(0x137)];break;case 0x0:this[_0x4c32db(0x18a)](_0x4da9df[_0x4c32db(0x137)])&&(_0x4da9df[_0x4c32db(0x164)]=!0x0);break;}}else _0x4da9df[_0x4c32db(0x16c)]===_0x4c32db(0x190)&&typeof _0x35ecc4[_0x4c32db(0x1e4)]=='string'&&_0x35ecc4[_0x4c32db(0x1e4)]&&_0x4da9df[_0x4c32db(0x1e4)]&&_0x35ecc4['name']!==_0x4da9df[_0x4c32db(0x1e4)]&&(_0x4da9df[_0x4c32db(0x1b4)]=_0x35ecc4[_0x4c32db(0x1e4)]);}[_0x969079(0x18a)](_0x392dee){var _0x50749f=_0x969079;return 0x1/_0x392dee===Number[_0x50749f(0x160)];}['_sortProps'](_0x1a9b50){var _0x704448=_0x969079;!_0x1a9b50[_0x704448(0x1c6)]||!_0x1a9b50['props'][_0x704448(0x1f2)]||_0x1a9b50['type']===_0x704448(0x1af)||_0x1a9b50['type']===_0x704448(0x16d)||_0x1a9b50['type']==='Set'||_0x1a9b50['props'][_0x704448(0x1a7)](function(_0x35eefa,_0x2e4777){var _0x581cd1=_0x704448,_0x2d6857=_0x35eefa['name']['toLowerCase'](),_0x1c521f=_0x2e4777[_0x581cd1(0x1e4)]['toLowerCase']();return _0x2d6857<_0x1c521f?-0x1:_0x2d6857>_0x1c521f?0x1:0x0;});}[_0x969079(0x135)](_0x2f34c8,_0x2480f8){var _0x337db4=_0x969079;if(!(_0x2480f8[_0x337db4(0x163)]||!_0x2f34c8[_0x337db4(0x1c6)]||!_0x2f34c8[_0x337db4(0x1c6)][_0x337db4(0x1f2)])){for(var _0xa507a9=[],_0x97cd28=[],_0x47e7b6=0x0,_0x2ff93b=_0x2f34c8['props'][_0x337db4(0x1f2)];_0x47e7b6<_0x2ff93b;_0x47e7b6++){var _0x1bf3a3=_0x2f34c8[_0x337db4(0x1c6)][_0x47e7b6];_0x1bf3a3[_0x337db4(0x16c)]==='function'?_0xa507a9[_0x337db4(0x1c2)](_0x1bf3a3):_0x97cd28[_0x337db4(0x1c2)](_0x1bf3a3);}if(!_0x97cd28[_0x337db4(0x1f2)]&&_0x2480f8[_0x337db4(0x131)]&&(_0x2f34c8[_0x337db4(0x1e2)]=!0x0),!(!_0x97cd28[_0x337db4(0x1f2)]||_0xa507a9[_0x337db4(0x1f2)]<=0x1)){_0x2f34c8[_0x337db4(0x1c6)]=_0x97cd28;var _0x5b75b3={'functionsNode':!0x0,'props':_0xa507a9};_0x2480f8[_0x337db4(0x131)]&&(_0x5b75b3[_0x337db4(0x1e2)]=!0x0),this[_0x337db4(0x16b)](_0x5b75b3,_0x2480f8),this[_0x337db4(0x12e)](_0x5b75b3,_0x2480f8),this[_0x337db4(0x1d4)](_0x5b75b3),this[_0x337db4(0x14c)](_0x5b75b3,_0x2480f8),_0x5b75b3['id']+='\\\\x20f',_0x2f34c8[_0x337db4(0x1c6)][_0x337db4(0x156)](_0x5b75b3);}}}[_0x969079(0x153)](_0x226c68,_0x2e9aa8){}[_0x969079(0x1d4)](_0x3c33cb){}[_0x969079(0x196)](_0xc1bb7){var _0x4cb53a=_0x969079;return Array['isArray'](_0xc1bb7)||typeof _0xc1bb7==_0x4cb53a(0x182)&&this[_0x4cb53a(0x179)](_0xc1bb7)===_0x4cb53a(0x15b);}['_setNodePermissions'](_0x3a54de,_0x309dfc){}['_cleanNode'](_0x1937fe){var _0x5b6bdb=_0x969079;delete _0x1937fe[_0x5b6bdb(0x12a)],delete _0x1937fe[_0x5b6bdb(0x1ec)],delete _0x1937fe['_hasMapOnItsPath'];}[_0x969079(0x19e)](_0x20ab72,_0x4b838a){}[_0x969079(0x1a9)](_0x472d9a){var _0x2724d3=_0x969079;return _0x472d9a?_0x472d9a[_0x2724d3(0x1f3)](this[_0x2724d3(0x19b)])?'['+_0x472d9a+']':_0x472d9a['match'](this[_0x2724d3(0x165)])?'.'+_0x472d9a:_0x472d9a[_0x2724d3(0x1f3)](this[_0x2724d3(0x13a)])?'['+_0x472d9a+']':'[\\\\x27'+_0x472d9a+'\\\\x27]':'';}}let _0x53d54d=new _0x3c3f3a();function _0x591b66(_0x4483ef,_0x1a5796,_0x12b13e,_0x3ff3b5){var _0x23fcae=_0x969079;let _0x2e5061,_0x36dde3;try{_0x36dde3=_0x152d4f(),_0x2e5061=_0x129c6d[_0x4483ef],!_0x2e5061||_0x36dde3-_0x2e5061['ts']>0x1f4&&_0x2e5061[_0x23fcae(0x1d2)]&&_0x2e5061[_0x23fcae(0x1a5)]/_0x2e5061[_0x23fcae(0x1d2)]<0x64?(_0x129c6d[_0x4483ef]=_0x2e5061={'count':0x0,'time':0x0,'ts':_0x36dde3},_0x129c6d[_0x23fcae(0x199)]={}):_0x36dde3-_0x129c6d['hits']['ts']>0x32&&_0x129c6d[_0x23fcae(0x199)][_0x23fcae(0x1d2)]&&_0x129c6d[_0x23fcae(0x199)][_0x23fcae(0x1a5)]/_0x129c6d['hits']['count']<0x64&&(_0x129c6d['hits']={});let _0x551237=[],_0x248d8e=_0x2e5061['reduceLimits']||_0x129c6d[_0x23fcae(0x199)][_0x23fcae(0x1d5)]?_0x1ecca9:_0x19ed31;for(var _0x4d9034=0x0;_0x4d9034<_0x3ff3b5[_0x23fcae(0x1f2)];_0x4d9034++){let _0x31f2c8={};_0x31f2c8[_0x23fcae(0x1c6)]=_0x248d8e[_0x23fcae(0x1c6)],_0x31f2c8[_0x23fcae(0x1ca)]=_0x248d8e[_0x23fcae(0x1ca)],_0x31f2c8[_0x23fcae(0x1a3)]=_0x248d8e[_0x23fcae(0x1a3)],_0x31f2c8['totalStrLength']=_0x248d8e[_0x23fcae(0x1b8)],_0x31f2c8[_0x23fcae(0x1c9)]=_0x248d8e[_0x23fcae(0x1c9)],_0x31f2c8[_0x23fcae(0x188)]=_0x248d8e['autoExpandMaxDepth'],_0x31f2c8[_0x23fcae(0x1df)]=!0x1,_0x31f2c8['noFunctions']=!0x0,_0x31f2c8['depth']=0x1,_0x31f2c8[_0x23fcae(0x1c4)]=0x0,_0x31f2c8['expId']=_0x23fcae(0x1b5),_0x31f2c8[_0x23fcae(0x15a)]=_0x23fcae(0x1cf),_0x31f2c8[_0x23fcae(0x131)]=!0x0,_0x31f2c8[_0x23fcae(0x120)]=[],_0x31f2c8[_0x23fcae(0x140)]=0x0,_0x31f2c8[_0x23fcae(0x158)]=!0x0,_0x31f2c8['allStrLength']=0x0,_0x31f2c8[_0x23fcae(0x166)]={'current':void 0x0,'parent':void 0x0,'index':0x0},_0x551237['push'](_0x53d54d[_0x23fcae(0x1ef)]({},_0x3ff3b5[_0x4d9034],_0x31f2c8,{}));}return{'method':_0x23fcae(0x13e),'version':_0x2f684d,'args':[{'id':_0x4483ef,'ts':_0x1a5796,'args':_0x551237,'session':_0x12b13e}]};}catch(_0x263ce5){return{'method':'log','version':_0x2f684d,'args':[{'id':_0x4483ef,'ts':_0x1a5796,'args':[{'type':'unknown','error':_0x263ce5&&_0x263ce5[_0x23fcae(0x174)],'session':_0x12b13e}]}]};}finally{try{if(_0x2e5061&&_0x36dde3){let _0x55817a=_0x152d4f();_0x2e5061[_0x23fcae(0x1d2)]++,_0x2e5061[_0x23fcae(0x1a5)]+=_0x55817a-_0x36dde3,_0x2e5061['ts']=_0x55817a,_0x129c6d[_0x23fcae(0x199)][_0x23fcae(0x1d2)]++,_0x129c6d[_0x23fcae(0x199)][_0x23fcae(0x1a5)]+=_0x55817a-_0x36dde3,_0x129c6d[_0x23fcae(0x199)]['ts']=_0x55817a,(_0x2e5061[_0x23fcae(0x1d2)]>0x32||_0x2e5061[_0x23fcae(0x1a5)]>0x64)&&(_0x2e5061['reduceLimits']=!0x0),(_0x129c6d[_0x23fcae(0x199)][_0x23fcae(0x1d2)]>0x3e8||_0x129c6d[_0x23fcae(0x199)][_0x23fcae(0x1a5)]>0x12c)&&(_0x129c6d[_0x23fcae(0x199)][_0x23fcae(0x1d5)]=!0x0);}}catch{}}}function _0x3f684e(){var _0x388cf3=_0x969079;if(_0x3ecd32['performance'])return()=>_0x3ecd32[_0x388cf3(0x1cd)][_0x388cf3(0x187)]();try{let {performance:_0x14205c}=require(_0x388cf3(0x1ee));return()=>_0x14205c[_0x388cf3(0x187)]();}catch{return()=>Date[_0x388cf3(0x187)]();}}})(globalThis,_0x8b2af3(0x1d3),'61199',\\\"/Users/segopotsom/.vscode/extensions/wallabyjs.console-ninja-0.0.53/node_modules\\\",_0x8b2af3(0x1c5),_0x8b2af3(0x1c3),_0x8b2af3(0x141),_0x8b2af3(0x136));\");\n}\n\n;\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/Deliver/utils.js?");

/***/ }),

/***/ "./src/partials/FurnitureForm.js":
/*!***************************************!*\
  !*** ./src/partials/FurnitureForm.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst furnitureForm = {\n  buildingType: ['Free standing', 'House in complex', 'Townhouse', 'Apartment'],\n  parkingDistance: [15, 25, 50, 100],\n  deliveryFloor: ['Ground', '1', '2', '3+'],\n  liftOrStairs: ['Lift', 'Stairs']\n};\n\nconst FurnitureForm = () => {\n  const {\n    buildingType,\n    parkingDistance,\n    deliveryFloor,\n    liftOrStairs\n  } = furnitureForm; // Building type selector\n\n  let buildingTypeInput = `\n    <p class=\"input tfg-custom-input tfg-building-type\">\n      <label>Building type</label>\n      <select class=\"input-xlarge tfg-custom-selector\" id=\"tfg-building-type\">\n        <option disabled selected value=\"\">Please select</option>\n    `;\n  buildingType.forEach(value => {\n    buildingTypeInput += `<option value=\"${value}\">${value}</option>`;\n  });\n  buildingTypeInput += `\n      </select>\n    </p>\n    `; // Parking selector\n\n  let parkingDistanceInput = `\n  <p class=\"input tfg-custom-input tfg-parking-distance\">\n    <label>Distance to parking</label>\n    <select class=\"input-xlarge tfg-custom-selector\" id=\"tfg-parking-distance\">\n      <option disabled selected value=\"\">Please select</option>\n  `;\n  parkingDistance.forEach(value => {\n    parkingDistanceInput += `<option value=\"${value}\">${value}</option>`;\n  });\n  parkingDistanceInput += `\n    </select>\n  </p>\n  `; // Delivery floor selector\n\n  let deliveryFloorInput = `\n  <p class=\"input tfg-custom-input tfg-delivery-floor\">\n    <label>Delivery floor</label>\n    <select class=\"input-xlarge tfg-custom-selector\" id=\"tfg-delivery-floor\">\n      <option disabled selected value=\"\">Please select</option>\n  `;\n  deliveryFloor.forEach(value => {\n    deliveryFloorInput += `<option value=\"${value}\">${value}</option>`;\n  });\n  deliveryFloorInput += `\n    </select>\n  </p>\n  `; // Lift/Stairs selector\n\n  let liftOrStairsInput = `\n  <p class=\"input tfg-custom-input tfg-lift-stairs\">\n    <label>Lift or stairs</label>\n    <select class=\"input-xlarge tfg-custom-selector\" id=\"tfg-lift-stairs\">\n      <option disabled selected value=\"\">Please select</option>\n  `;\n  liftOrStairs.forEach(value => {\n    liftOrStairsInput += `<option value=\"${value}\">${value}</option>`;\n  });\n  liftOrStairsInput += `\n    </select>\n  </p>\n  `; // Complete Form\n\n  return `\n    <div id=\"tfg-custom-furniture-step\" class=\"tfg-custom-step\">\n      <p class=\"tfg-custom-title\">Furniture information needed</p>\n      <p class=\"tfg-custom-subtitle\">\n        We need some more information to prepare delivery of your furniture items to your address.\n      </p>\n      ${buildingTypeInput}\n      ${parkingDistanceInput}\n      ${deliveryFloorInput}\n      ${liftOrStairsInput}\n      <p class=\"tfg-custom-checkbox\">\n        <label class=\"tfg-checkbox-label\">\n          <input type='checkbox' id=\"tfg-sufficient-space\"/>\n          <span class=\"tfg-checkbox-text\">Is there sufficent corner/passage door space?</span>\n        </label>\n      </p>\n      <p class=\"tfg-custom-checkbox\">\n        <label class=\"tfg-checkbox-label\">\n          <input type='checkbox' id=\"tfg-assemble-furniture\"/>\n          <span class=\"tfg-checkbox-text\">Would you like us to assemble your furniture items?</span>\n        </label>\n      </p>\n    </div>\n  `;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FurnitureForm);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/FurnitureForm.js?");

/***/ }),

/***/ "./src/partials/InputError.js":
/*!************************************!*\
  !*** ./src/partials/InputError.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst InputError = () => '<span class=\"help error\">This field is required.</span>';\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InputError);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/InputError.js?");

/***/ }),

/***/ "./src/partials/RICAForm.js":
/*!**********************************!*\
  !*** ./src/partials/RICAForm.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst RICAForm = () => `\n  <div id=\"tfg-custom-rica-msg\" class=\"tfg-custom-step\">\n    <p class=\"tfg-custom-title\">RICA information required</p>\n    <p class=\"tfg-custom-subtitle\">\n      To RICA your SIM card, provide your SA ID (or foreign passport) number and your address as\n      it appears on a valid proof of residence.\n    </p>\n    <p class=\"input tfg-custom-input tfg-rica-id-passport\">\n      <label>ID or passport number</label>\n      <input id=\"tfg-rica-id-passport\" type=\"text\" class=\"input-xlarge tfg-input\">\n    </p>\n    <label class=\"tfg-mtop10\">Proof of residential address</label>\n    <p class=\"tfg-custom-checkbox\">\n      <label class=\"tfg-checkbox-label\">\n        <input type='checkbox' id=\"tfg-rica-same-address\" checked/>\n        <span class=\"tfg-checkbox-text\">Residential address the same as Delivery address</span>\n      </label>\n    </p>\n    <p class=\"input tfg-custom-input tfg-rica-fullname\">\n      <label>Full name and surname</label>\n      <input id=\"tfg-rica-fullname\" type=\"text\" class=\"input-xlarge tfg-input rica-field\">\n    </p>\n    <p class=\"input tfg-custom-input tfg-rica-street\">\n      <label>Street address</label>\n      <input id=\"tfg-rica-street\" type=\"text\" class=\"input-xlarge tfg-input rica-field\">\n    </p>\n    <p class=\"input tfg-custom-input tfg-rica-suburb\">\n      <label>Suburb</label>\n      <input id=\"tfg-rica-suburb\" type=\"text\" class=\"input-xlarge tfg-input rica-field\">\n    </p>\n    <p class=\"input tfg-custom-input tfg-rica-city\">\n      <label>City</label>\n      <input id=\"tfg-rica-city\" type=\"text\" class=\"input-xlarge tfg-input rica-field\">\n    </p>\n    <p class=\"input tfg-custom-input tfg-rica-postal-code\">\n      <label>Postal code</label>\n      <input id=\"tfg-rica-postal-code\" type=\"text\" class=\"input-xlarge tfg-input rica-field\">\n    </p>\n    <p class=\"input tfg-rica-province tfg-custom-input\">\n      <label>Province</label>\n      <select class=\"input-xlarge tfg-custom-selector rica-field\" id=\"tfg-rica-province\">\n        <option value=\"\" disabled selected>State</option>\n        <option value=\"EC\">Eastern Cape</option>\n        <option value=\"FS\">Free State</option>\n        <option value=\"GP\">Gauteng</option>\n        <option value=\"KZN\">KwaZulu-Natal</option>\n        <option value=\"LP\">Limpopo</option>\n        <option value=\"MP\">Mpumalanga</option>\n        <option value=\"NC\">Northern Cape</option>\n        <option value=\"NW\">North West</option>\n        <option value=\"WC\">Western Cape</option>\n      </select>\n    </p>\n    <p class=\"input tfg-rica-country tfg-custom-input\">\n      <label>Country</label>\n      <select class=\"input-xlarge tfg-custom-selector\" id=\"tfg-rica-country\" disabled>\n        <option value=\"ZAF\" selected>South Africa</option>\n      </select>\n    </p>\n  </div>\n`;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RICAForm);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/RICAForm.js?");

/***/ }),

/***/ "./src/partials/TVIDForm.js":
/*!**********************************!*\
  !*** ./src/partials/TVIDForm.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst TVIDForm = () => `\n    <div id=\"tfg-custom-tvid-step\" class=\"tfg-custom-step\">\n        <p class=\"tfg-custom-title\">TV licence required</p>\n        <p class=\"tfg-custom-subtitle\">Please provide your ID number to validate your TV Licence.</p>\n        <p class=\"input tfg-custom-input tfg-tv-licence\">\n            <label>SA ID number</label>\n            <input id=\"tfg-tv-licence\" type=\"tel\" class=\"input-xlarge tfg-input\">\n        </p>\n    </div>\n`;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TVIDForm);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/TVIDForm.js?");

/***/ }),

/***/ "./src/partials/index.js":
/*!*******************************!*\
  !*** ./src/partials/index.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AddressForm\": () => (/* reexport safe */ _AddressForm__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"AlertBox\": () => (/* reexport safe */ _AlertBox__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"FurnitureForm\": () => (/* reexport safe */ _FurnitureForm__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   \"InputError\": () => (/* reexport safe */ _InputError__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   \"MixedProducts\": () => (/* reexport safe */ _Deliver_MixedProducts__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"PickupComplementField\": () => (/* reexport safe */ _AddressForm__WEBPACK_IMPORTED_MODULE_0__.PickupComplementField),\n/* harmony export */   \"RICAForm\": () => (/* reexport safe */ _RICAForm__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   \"SuburbField\": () => (/* reexport safe */ _AddressForm__WEBPACK_IMPORTED_MODULE_0__.SuburbField),\n/* harmony export */   \"TVIDForm\": () => (/* reexport safe */ _TVIDForm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   \"TVorRICAMsg\": () => (/* reexport safe */ _Deliver_TVorRICAMsg__WEBPACK_IMPORTED_MODULE_3__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _AddressForm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AddressForm */ \"./src/partials/AddressForm.js\");\n/* harmony import */ var _AlertBox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AlertBox */ \"./src/partials/AlertBox.js\");\n/* harmony import */ var _Deliver_MixedProducts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Deliver/MixedProducts */ \"./src/partials/Deliver/MixedProducts.js\");\n/* harmony import */ var _Deliver_TVorRICAMsg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Deliver/TVorRICAMsg */ \"./src/partials/Deliver/TVorRICAMsg.js\");\n/* harmony import */ var _FurnitureForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FurnitureForm */ \"./src/partials/FurnitureForm.js\");\n/* harmony import */ var _InputError__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./InputError */ \"./src/partials/InputError.js\");\n/* harmony import */ var _RICAForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RICAForm */ \"./src/partials/RICAForm.js\");\n/* harmony import */ var _TVIDForm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TVIDForm */ \"./src/partials/TVIDForm.js\");\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/partials/index.js?");

/***/ }),

/***/ "./src/utils/checkoutDB.js":
/*!*********************************!*\
  !*** ./src/utils/checkoutDB.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass CheckoutDB {\n  constructor() {\n    this.indexedDB = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB || window.shimIndexedDB;\n    this.checkoutDB = indexedDB.open('checkoutDB', 1.2);\n\n    this.checkoutDB.onerror = event => {\n      console.error('CheckoutDB Error', {\n        event\n      });\n      throw new Error('Could not load checkoutDB');\n    };\n\n    this.checkoutDB.onupgradeneeded = () => {\n      const db = this.checkoutDB.result;\n      const store = db.createObjectStore('addresses', {\n        keyPath: 'addressName'\n      });\n      store.createIndex('address_street', ['street'], {\n        unique: false\n      });\n      store.createIndex('address_addressName', ['addressName'], {\n        unique: true\n      });\n      store.createIndex('address_street_suburb_city_postal', ['street', 'neighborhood', 'city', 'postalCode'], {\n        unique: true\n      });\n    };\n\n    this.checkoutDB.onsuccess = () => {\n      const db = this.checkoutDB.result;\n      const transaction = db.transaction('addresses', 'readwrite');\n      this.addresses = transaction.objectStore('addresses'); // Close DB connection\n\n      transaction.oncomplete = () => {// db.close();\n      };\n    };\n  }\n\n  store() {\n    const db = this.checkoutDB.result;\n    const transaction = db.transaction('addresses', 'readwrite');\n    return transaction.objectStore('addresses');\n  }\n\n  loadAddresses(addresses) {\n    const queries = addresses.map(address => this.addOrUpdateAddress(address));\n    return Promise.all(queries).then(values => values);\n  }\n\n  addOrUpdateAddress(address) {\n    const thisDb = this;\n    return new Promise((resolve, reject) => {\n      const query = thisDb.store().put(address);\n\n      query.onsuccess = () => {\n        resolve({\n          success: true,\n          addressId: query.result\n        });\n      };\n\n      query.onerror = error => {\n        reject(new Error({\n          sucess: false,\n          error: error?.target?.error\n        }));\n      };\n    });\n  }\n\n  getAddresses() {\n    const thisDb = this;\n    return new Promise(resolve => {\n      const query = thisDb.store().getAll();\n\n      query.onsuccess = () => resolve(query.result);\n\n      query.onerror = () => {\n        console.error('Something wrong with getAddresses ? ...');\n        resolve([]);\n      };\n    });\n  }\n\n  getAddress(id) {\n    const thisDb = this;\n    return new Promise(resolve => {\n      const query = thisDb.store().get(id);\n\n      query.onsuccess = () => resolve(query.result);\n\n      query.onerror = () => {\n        console.error('Something wrong with getAddress ? ...');\n        resolve([]);\n      };\n    });\n  }\n\n  deleteAddress(id) {\n    const query = this.addresses.delete(id);\n\n    query.onsuccess = () => query.result;\n  }\n\n  clearData() {\n    const thisDb = this;\n    return new Promise(resolve => {\n      const query = thisDb.store().clear();\n\n      query.onsuccess = () => resolve(query.result);\n\n      query.onerror = () => {\n        console.error('Something wrong with clearData ? ...');\n        resolve([]);\n      };\n    });\n  }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CheckoutDB);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/utils/checkoutDB.js?");

/***/ }),

/***/ "./src/utils/const.js":
/*!****************************!*\
  !*** ./src/utils/const.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AD_TYPE\": () => (/* binding */ AD_TYPE),\n/* harmony export */   \"BASE_URL_API\": () => (/* binding */ BASE_URL_API),\n/* harmony export */   \"COUNTRIES\": () => (/* binding */ COUNTRIES),\n/* harmony export */   \"COUNTRIES_AVAILABLES\": () => (/* binding */ COUNTRIES_AVAILABLES),\n/* harmony export */   \"FURNITURE_APP\": () => (/* binding */ FURNITURE_APP),\n/* harmony export */   \"FURNITURE_CAT\": () => (/* binding */ FURNITURE_CAT),\n/* harmony export */   \"FURNITURE_FEES\": () => (/* binding */ FURNITURE_FEES),\n/* harmony export */   \"FURNITURE_FEE_LINK\": () => (/* binding */ FURNITURE_FEE_LINK),\n/* harmony export */   \"RICA_APP\": () => (/* binding */ RICA_APP),\n/* harmony export */   \"SIM_CAT\": () => (/* binding */ SIM_CAT),\n/* harmony export */   \"STEPS\": () => (/* binding */ STEPS),\n/* harmony export */   \"TIMEOUT_500\": () => (/* binding */ TIMEOUT_500),\n/* harmony export */   \"TIMEOUT_750\": () => (/* binding */ TIMEOUT_750),\n/* harmony export */   \"TV_APP\": () => (/* binding */ TV_APP),\n/* harmony export */   \"TV_CAT\": () => (/* binding */ TV_CAT)\n/* harmony export */ });\n// Checkout steps\nconst STEPS = {\n  CART: '#/cart',\n  PROFILE: '#/profile',\n  SHIPPING: '#/shipping',\n  PAYMENT: '#/payment'\n}; // Address types\n\nconst AD_TYPE = {\n  PICKUP: 'search',\n  DELIVERY: 'residential'\n}; // TIMEOUT\n\nconst TIMEOUT_500 = 500;\nconst TIMEOUT_750 = 750; // APP CONFIGURATION IDs\n\nconst RICA_APP = 'ricafields';\nconst TV_APP = 'tvfields';\nconst FURNITURE_APP = 'furniturefields'; // Furniture fees Url\n\nconst FURNITURE_FEES = 'http://image.tfgmedia.co.za/image/1/process/500x790?source=http://cdn.tfgmedia.co.za' + '/15/Marketing/HTMLPages/Furniture_Delivery_Fees_tab_image.jpg';\nconst COUNTRIES = {\n  za: {\n    code: 'za',\n    phonePlaceholder: '(+27)'\n  } // South Africa\n\n};\nconst COUNTRIES_AVAILABLES = [COUNTRIES.za.code];\nconst BASE_URL_API = window.location.host.includes('bash.com') ? 'https://store-api.www.bash.com/custom-api/' : `${window.location.protocol}//${window.location.host}/custom-api/`;\nconst FURNITURE_FEE_LINK = `\n<a \n  href=\"${FURNITURE_FEES}\"\n  class=\"furniture-fees-link\" \n  target=\"_blank\"\n>\n  Furniture delivery costs\n</a>\n`;\nconst FURNITURE_CAT = '1169288799';\nconst TV_CAT = '938942995';\nconst SIM_CAT = '24833302';\n\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/utils/const.js?");

/***/ }),

/***/ "./src/utils/functions.js":
/*!********************************!*\
  !*** ./src/utils/functions.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addBorderTop\": () => (/* binding */ addBorderTop),\n/* harmony export */   \"checkoutGetCustomData\": () => (/* binding */ checkoutGetCustomData),\n/* harmony export */   \"checkoutSendCustomData\": () => (/* binding */ checkoutSendCustomData),\n/* harmony export */   \"clearLoaders\": () => (/* binding */ clearLoaders),\n/* harmony export */   \"getShippingData\": () => (/* binding */ getShippingData),\n/* harmony export */   \"getSpecialCategories\": () => (/* binding */ getSpecialCategories),\n/* harmony export */   \"isValidNumberBash\": () => (/* binding */ isValidNumberBash),\n/* harmony export */   \"saveAddress\": () => (/* binding */ saveAddress),\n/* harmony export */   \"setMasterdataFields\": () => (/* binding */ setMasterdataFields),\n/* harmony export */   \"setRicaFields\": () => (/* binding */ setRicaFields),\n/* harmony export */   \"waitAndResetLocalStorage\": () => (/* binding */ waitAndResetLocalStorage)\n/* harmony export */ });\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const */ \"./src/utils/const.js\");\n/* harmony import */ var _phoneFields__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./phoneFields */ \"./src/utils/phoneFields.js\");\n\n // API Functions\n\nconst catchError = message => {\n  console.error('ERROR', message);\n  throw new Error(message);\n};\n\nconst getHeadersByConfig = ({\n  cookie,\n  cache,\n  json\n}) => {\n  const headers = new Headers();\n  if (cookie) headers.append('Cookie', document?.cookie);\n  if (cache) headers.append('Cache-Control', 'no-cache');\n  if (json) headers.append('Content-type', 'application/json');\n  return headers;\n}; // TODO remove when no longer used in favour of services.\n\n\nconst getShippingData = async (addressName, fields) => {\n  let data = {};\n  const headers = getHeadersByConfig({\n    cookie: true,\n    cache: true,\n    json: false\n  });\n  const options = {\n    headers,\n    credentials: 'include'\n  };\n  const response = await fetch(`${_const__WEBPACK_IMPORTED_MODULE_0__.BASE_URL_API}masterdata/addresses/${fields}&_where=addressName=${addressName}&timestamp=${Date.now()}`, options).then(res => res.json()).catch(error => catchError(`GET_ADDRESS_ERROR: ${error?.message}`));\n\n  if (response && !response.error && response.data && response.data.length > 0) {\n    [data] = response.data;\n  }\n\n  return data;\n}; // TODO remove when no longer used in favour of services.\n\n\nconst saveAddress = async (fields = {}) => {\n  let path;\n  const {\n    email\n  } = window.vtexjs.checkout.orderForm.clientProfileData;\n  const {\n    address\n  } = window.vtexjs.checkout.orderForm.shippingData;\n  if (!address) return; // Address already exists (?)\n\n  const savedAddress = address?.addressId ? await getShippingData(address.addressId, '?_fields=id') : {}; // Guardado del nuevo addressType\n\n  address.addressType = localStorage.getItem('addressType');\n\n  if (savedAddress?.id) {\n    path = `${_const__WEBPACK_IMPORTED_MODULE_0__.BASE_URL_API}masterdata/address/${savedAddress.id}`;\n  } else {\n    path = `${_const__WEBPACK_IMPORTED_MODULE_0__.BASE_URL_API}masterdata/addresses`;\n  }\n\n  address.complement = address.complement || (0,_phoneFields__WEBPACK_IMPORTED_MODULE_1__.getBestPhoneNumber)(); // Importante respetar el orden de address para no sobreescribir receiver, complement y neighborhood\n\n  const newAddress = {\n    userId: email,\n    ...address,\n    ...fields\n  };\n\n  if (!savedAddress.id) {\n    newAddress.addressName = address.addressId;\n  }\n\n  const headers = getHeadersByConfig({\n    cookie: true,\n    cache: true,\n    json: true\n  });\n  const options = {\n    method: 'PATCH',\n    headers,\n    body: JSON.stringify(newAddress),\n    credentials: 'include'\n  };\n  await fetch(path, options).then(res => {\n    localStorage.setItem('shippingDataCompleted', true);\n\n    if (res.status !== 204) {\n      res.json();\n    }\n  }).catch(error => catchError(`SAVE_ADDRESS_ERROR: ${error?.message}`));\n};\n\nconst setMasterdataFields = async (completeFurnitureForm, completeTVIDForm, tries = 1) => {\n  /* Data will only be searched and set if any of the custom fields for TFG are displayed. */\n  if (completeFurnitureForm || completeTVIDForm) {\n    const {\n      address\n    } = window.vtexjs.checkout.orderForm.shippingData;\n    /* Setting Masterdata custom fields */\n\n    const fields = '?_fields=buildingType,parkingDistance,deliveryFloor,liftOrStairs,hasSufficientSpace,assembleFurniture,tvID';\n    const shippingData = await getShippingData(address.addressId, fields);\n\n    if (shippingData && !jQuery.isEmptyObject(shippingData)) {\n      /* Setting furniture form values */\n      if (completeFurnitureForm) {\n        $('#tfg-building-type').val(shippingData.buildingType);\n        $('#tfg-parking-distance').val(shippingData.parkingDistance);\n        $('#tfg-delivery-floor').val(shippingData.deliveryFloor);\n\n        if ($('#tfg-delivery-floor').val() === 'Ground') {\n          $('#tfg-lift-stairs').attr('disabled', 'disabled');\n        } else {\n          $('#tfg-lift-stairs').val(shippingData.liftOrStairs);\n        }\n\n        $('#tfg-sufficient-space').prop('checked', shippingData.hasSufficientSpace);\n        $('#tfg-assemble-furniture').prop('checked', shippingData.assembleFurniture);\n      }\n      /* Setting TV form values */\n\n\n      if (completeTVIDForm) {\n        $('#tfg-tv-licence').val(shippingData.tvID);\n      }\n    } else if (tries <= 5) {\n      setTimeout(() => {\n        setMasterdataFields(completeFurnitureForm, completeTVIDForm, tries += 1);\n      }, 3000);\n    }\n  }\n}; // Functions to manage CustomData\n\n\nconst checkoutGetCustomData = appId => {\n  const {\n    customData\n  } = window.vtexjs.checkout.orderForm;\n  let fields = {};\n\n  if (customData && customData.customApps && customData.customApps.length > 0) {\n    customData.customApps.forEach(app => {\n      if (app.id === appId) {\n        fields = app.fields;\n      }\n    });\n  }\n\n  return fields;\n};\n\nconst checkoutSendCustomData = (appId, customData) => {\n  const {\n    orderFormId\n  } = window.vtexjs.checkout.orderForm;\n  return $.ajax({\n    type: 'PUT',\n    url: `/api/checkout/pub/orderForm/${orderFormId}/customData/${appId}`,\n    dataType: 'json',\n    contentType: 'application/json; charset=utf-8',\n    data: JSON.stringify(customData)\n  });\n};\n\nconst setRicaFields = (getDataFrom = 'customApps') => {\n  let ricaFields;\n\n  if (getDataFrom === 'shippingAddress') {\n    const {\n      address\n    } = window.vtexjs.checkout.orderForm.shippingData;\n    ricaFields = {\n      idOrPassport: '',\n      sameAddress: 'true',\n      fullName: address.receiverName || $('#ship-receiverName').val(),\n      streetAddress: `${address.street}, ${address.number}`,\n      suburb: address.neighborhood,\n      city: address.city,\n      postalCode: address.postalCode,\n      province: address.state\n    };\n  } else if (getDataFrom === 'customApps') {\n    ricaFields = checkoutGetCustomData(_const__WEBPACK_IMPORTED_MODULE_0__.RICA_APP);\n  }\n\n  if (ricaFields && !jQuery.isEmptyObject(ricaFields)) {\n    if (getDataFrom === 'customApps') {\n      $('#tfg-rica-id-passport').val(ricaFields.idOrPassport);\n      $('#tfg-rica-same-address').prop('checked', ricaFields.sameAddress === 'true');\n    }\n\n    $('#tfg-rica-fullname').val(ricaFields.fullName);\n    $('#tfg-rica-street').val(ricaFields.streetAddress);\n    $('#tfg-rica-suburb').val(ricaFields.suburb);\n    $('#tfg-rica-city').val(ricaFields.city);\n    $('#tfg-rica-postal-code').val(ricaFields.postalCode);\n    $('#tfg-rica-province').val(ricaFields.province);\n  }\n}; // Random Functions\n\n\nconst addBorderTop = elementClass => {\n  $(elementClass).addClass('custom-step-border');\n  $(elementClass).last().addClass('last-custom-step-border');\n};\n\nconst waitAndResetLocalStorage = () => {\n  setTimeout(() => {\n    localStorage.removeItem('shippingDataCompleted');\n  }, 5000);\n};\n\nconst isValidNumberBash = tel => (0,_phoneFields__WEBPACK_IMPORTED_MODULE_1__.validatePhoneNumber)(tel);\n\nconst getSpecialCategories = items => {\n  const furnitureCategories = [_const__WEBPACK_IMPORTED_MODULE_0__.FURNITURE_CAT];\n  const tvCategories = [_const__WEBPACK_IMPORTED_MODULE_0__.TV_CAT];\n  const simCardCategories = [_const__WEBPACK_IMPORTED_MODULE_0__.SIM_CAT];\n  const categories = [];\n  let hasTVs = false;\n  let hasSimCards = false;\n  let hasFurniture = false;\n  let hasFurnitureMixed = false;\n  items.forEach(item => {\n    const itemCategories = item.productCategoryIds.split('/');\n    categories.push(itemCategories);\n    itemCategories.forEach(category => {\n      if (!category) return;\n      if (tvCategories.includes(category)) hasTVs = true;\n      if (simCardCategories.includes(category)) hasSimCards = true;\n      if (furnitureCategories.includes(category)) hasFurniture = true;\n    });\n  });\n  hasFurnitureMixed = items.length > 1 && hasFurniture && !categories.every(c => c === _const__WEBPACK_IMPORTED_MODULE_0__.FURNITURE_CAT);\n  return {\n    hasFurniture,\n    hasSimCards,\n    hasTVs,\n    hasFurnitureMixed,\n    categories\n  };\n};\n\nconst clearLoaders = () => {\n  $('.shimmer').removeClass('shimmer');\n};\n\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/utils/functions.js?");

/***/ }),

/***/ "./src/utils/phoneFields.js":
/*!**********************************!*\
  !*** ./src/utils/phoneFields.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"getBestPhoneNumber\": () => (/* binding */ getBestPhoneNumber),\n/* harmony export */   \"preparePhoneField\": () => (/* binding */ preparePhoneField),\n/* harmony export */   \"validatePhoneNumber\": () => (/* binding */ validatePhoneNumber)\n/* harmony export */ });\n/**\n * validatePhoneNumber\n * Determine if number is valid.\n * Numbers and spaces only, 9 digits or longer.\n * @param tel - string\n * @returns boolean\n */\nconst validatePhoneNumber = tel => {\n  if (!tel) return false;\n  tel = tel.replace(/\\s/g, '');\n  if (tel[0] === '0') return tel.match(/[0-9\\s]{10}/);\n  return tel.match(/[0-9\\s]{9,}/);\n};\n/**\n * formattedPhoneNumber\n * Add spaces to help guide the user how the number should look.\n * Adds space after 3rd and 6th digits only.\n * xxx xxx xxxxxxxxx\n * @param value - string value\n * @returns string\n */\n\nconst formattedPhoneNumber = (value, doFormat = true) => {\n  value = value.replace(/[^0-9+*#]+/g, '').trim(); // 'xxx xxx *'\n\n  if (value.length >= 6 && doFormat) {\n    return [value.slice(0, 3), value.slice(3, 6), value.slice(6)].join(' ');\n  } // 'xxx *'\n\n\n  if (value.length >= 3 && doFormat) {\n    return [value.slice(0, 3), value.slice(3)].join(' ');\n  }\n\n  return value;\n};\n/**\n * preparePhoneField\n * When phone fields are loaded onto the DOM\n * Prepare them for proper display and validation.\n *\n * @param  input - string css selector to the element.\n */\n\n\nconst preparePhoneField = input => {\n  const phoneInput = document.querySelector(input);\n  if (!phoneInput) return;\n  phoneInput.setAttribute('type', 'tel');\n  phoneInput.setAttribute('maxlength', 12);\n  phoneInput.value = formattedPhoneNumber(phoneInput.value);\n  const $phoneInput = $(input);\n  $phoneInput.keyup(e => {\n    const value = e.currentTarget.value.replace(/[^0-9+*#]+/g, '').trim();\n    let displayValue = value;\n    const isBackSpace = e.keyCode === 8;\n    displayValue = formattedPhoneNumber(value, !isBackSpace);\n    $phoneInput.parent('.text').removeClass('error');\n    $phoneInput.parent('.text').find('span.error').hide();\n    $phoneInput.val(displayValue);\n  });\n};\nconst getBestPhoneNumber = () => window.vtexjs.checkout.orderForm?.shippingData?.address?.complement || window.vtexjs.checkout.orderForm?.clientProfileData?.phone || document?.getElementById('client-phone')?.value;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  validatePhoneNumber\n});\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/utils/phoneFields.js?");

/***/ }),

/***/ "./src/utils/services.js":
/*!*******************************!*\
  !*** ./src/utils/services.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addOrUpdateAddress\": () => (/* binding */ addOrUpdateAddress),\n/* harmony export */   \"clearAddresses\": () => (/* binding */ clearAddresses),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"getAddressByName\": () => (/* binding */ getAddressByName),\n/* harmony export */   \"getAddresses\": () => (/* binding */ getAddresses),\n/* harmony export */   \"getOrderFormCustomData\": () => (/* binding */ getOrderFormCustomData),\n/* harmony export */   \"removeFromCart\": () => (/* binding */ removeFromCart),\n/* harmony export */   \"sendOrderFormCustomData\": () => (/* binding */ sendOrderFormCustomData),\n/* harmony export */   \"updateAddressListing\": () => (/* binding */ updateAddressListing),\n/* harmony export */   \"upsertAddress\": () => (/* binding */ upsertAddress)\n/* harmony export */ });\n/* harmony import */ var _partials_Deliver_AddressListing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../partials/Deliver/AddressListing */ \"./src/partials/Deliver/AddressListing.js\");\n/* harmony import */ var _partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../partials/Deliver/utils */ \"./src/partials/Deliver/utils.js\");\n/* harmony import */ var _checkoutDB__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./checkoutDB */ \"./src/utils/checkoutDB.js\");\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./const */ \"./src/utils/const.js\");\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./functions */ \"./src/utils/functions.js\");\n/* harmony import */ var _phoneFields__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./phoneFields */ \"./src/utils/phoneFields.js\");\n/* eslint-disable no-new-wrappers */\n\n\n\n\n\n // API Functions\n\nconst catchError = message => {\n  console.error('ERROR', message);\n  throw new Error(message);\n};\n\nconst getHeadersByConfig = ({\n  cookie,\n  cache,\n  json\n}) => {\n  const headers = new Headers();\n  if (cookie) headers.append('Cookie', document?.cookie);\n  if (cache) headers.append('Cache-Control', 'no-cache');\n  if (json) headers.append('Content-type', 'application/json');\n  return headers;\n}; // GET addresses\n\n\nconst DB = new _checkoutDB__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst getAddresses = async () => {\n  // Try to get addresses from users local store.\n  // TODO: When should addresses be reloaded/updated?\n  const addresses = await DB.getAddresses();\n  if (addresses.length > 0) return {\n    data: addresses\n  }; // Fallback to get addresses from API.\n\n  const {\n    email\n  } = window.vtexjs.checkout.orderForm?.clientProfileData;\n  const fields = ['id', 'addressType', 'addressQuery', 'addressName', 'reference', 'number', 'geolocation', 'receiverName', 'complement', 'companyBuilding', 'street', 'neighborhood', 'city', 'postalCode', 'state', 'country', 'buildingType', 'parkingDistance', 'deliveryFloor', 'liftOrStairs', 'hasSufficientSpace', 'assembleFurniture', 'tvID'].join(',');\n  const headers = getHeadersByConfig({\n    cookie: true,\n    cache: true,\n    json: false\n  });\n  const options = {\n    headers,\n    credentials: 'include'\n  };\n  const cacheBust = Date.now();\n  return fetch(`${_const__WEBPACK_IMPORTED_MODULE_3__.BASE_URL_API}masterdata/addresses?t=${cacheBust}&_fields=${fields}&_where=${encodeURIComponent(`userIdQuery=${email}`)}`, options).then(res => res.json()).then(async data => {\n    // Store addresses locally\n    if (data.data) DB.loadAddresses(data.data); // return DB.getAddresses();\n    // API can have dups.\n\n    return data;\n  }).catch(error => catchError(`GET_ADDRESSES_ERROR: ${error?.message}`));\n}; // GET Address by ID / Name?\n\nconst getAddress = async (addressName, fields) => {\n  let data = {};\n  const headers = getHeadersByConfig({\n    cookie: true,\n    cache: true,\n    json: false\n  });\n  const options = {\n    headers,\n    credentials: 'include'\n  };\n  const response = await fetch(`${_const__WEBPACK_IMPORTED_MODULE_3__.BASE_URL_API}masterdata/addresses/${fields}&_where=addressName=${addressName}&timestamp=${Date.now()}`, options).then(res => res.json()).catch(error => catchError(`GET_ADDRESS_ERROR: ${error?.message}`));\n\n  if (response && !response.error && response.data && response.data.length > 0) {\n    [data] = response.data;\n  }\n\n  return data;\n}; // PATCH address\n\n\nconst upsertAddress = async address => {\n  let path;\n  const {\n    email\n  } = window.vtexjs.checkout.orderForm.clientProfileData;\n  if (!address) return Promise.reject(new Error('No address provided.')); // Address already exists (?) - ID keeps channging?\n\n  const existingAddress = address.addressName ? await getAddress(address.addressName, '?_fields=id') : {};\n\n  if (existingAddress?.id) {\n    path = `${_const__WEBPACK_IMPORTED_MODULE_3__.BASE_URL_API}masterdata/address/${existingAddress.id}`;\n  } else {\n    path = `${_const__WEBPACK_IMPORTED_MODULE_3__.BASE_URL_API}masterdata/addresses`;\n  }\n\n  address.complement = address.complement || (0,_phoneFields__WEBPACK_IMPORTED_MODULE_5__.getBestPhoneNumber)(); // Importante respetar el orden de address para no sobreescribir receiver, complement y neighborhood\n\n  const newAddress = {\n    userId: email,\n    ...address\n  };\n\n  if (!existingAddress.id) {\n    newAddress.addressName = address.addressId || `address-${Date.now()}`;\n  }\n\n  const headers = getHeadersByConfig({\n    cookie: true,\n    cache: true,\n    json: true\n  });\n  const options = {\n    method: 'PATCH',\n    headers,\n    body: JSON.stringify(newAddress),\n    credentials: 'include'\n  };\n  await fetch(path, options).then(res => {\n    if (res.status !== 204) {\n      return res.json();\n    }\n\n    return res;\n  }).then(result => result).catch(error => catchError(`SAVE_ADDRESS_ERROR: ${error?.message}`));\n};\nconst updateAddressListing = address => {\n  let $currentListing = $(`#address-${address.addressName}`);\n\n  if (!$currentListing.length) {\n    $('#bash-address-list').append((0,_partials_Deliver_AddressListing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(address));\n  } else {\n    $currentListing.after((0,_partials_Deliver_AddressListing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(address));\n    $currentListing.remove();\n    $currentListing = null;\n  }\n\n  $('input[type=\"radio\"][name=\"selected-address\"]:checked').attr('checked', false);\n  $(`input[type=\"radio\"][name=\"selected-address\"][value=\"${address.addressName}\"]`).attr('checked', true);\n};\nconst addOrUpdateAddress = async address => {\n  if (!address.addressName) {\n    const streetStr = address.street.replace(/[^a-zA-Z0-9]/g, ' ').trim().replace(/\\s/g, '-').toLowerCase();\n    address.addressName = `${Date.now()}-${streetStr}`;\n  }\n\n  if (!address.addressId) address.addressId = address.addressName; // Add or update at local store. Update UI.\n\n  DB.addOrUpdateAddress(address).then(() => updateAddressListing(address)); // Add or update at the API.\n\n  upsertAddress(address);\n};\nconst getAddressByName = async addressName => DB.getAddress(addressName);\nconst clearAddresses = async () => DB.clearData();\n/**\n * OrderForm CustomData\n * @param {Object} data - custom data.\n * @param {string} appId - unique app id.\n * @param {boolean} furniture - boolean value for sending furniture.\n * @param {boolean} rica - boolean value for sending rica fields.\n */\n\nconst sendOrderFormCustomData = async (appId, data, furniture, rica) => {\n  const {\n    orderFormId\n  } = window.vtexjs.checkout.orderForm;\n  if (!furniture) furniture = false;\n  if (!rica) rica = false;\n  const path = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appId}`;\n  const body = JSON.stringify({ ...data,\n    ...(furniture && {\n      assembleFurniture: new Boolean(data.assembleFurniture)\n    }),\n    ...(furniture && {\n      hasSufficientSpace: new Boolean(data.hasSufficientSpace)\n    }),\n    ...(rica && {\n      sameAddress: new Boolean(data.sameAddress)\n    })\n  });\n  const options = {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body\n  };\n  return fetch(path, options);\n};\nconst getOrderFormCustomData = appId => {\n  const {\n    customData\n  } = window.vtexjs.checkout.orderForm;\n  let fields = {};\n\n  if (customData && customData.customApps && customData.customApps.length > 0) {\n    customData.customApps.forEach(app => {\n      if (app.id === appId) {\n        fields = app.fields;\n      }\n    });\n  }\n\n  return fields;\n};\nconst removeFromCart = index => {\n  (0,_partials_Deliver_utils__WEBPACK_IMPORTED_MODULE_1__.setDeliveryLoading)();\n  return window.vtexjs.checkout.updateItems([{\n    index: `${index}`,\n    quantity: 0\n  }]).then(orderForm => {\n    console.info('ITEM REMOVED', {\n      orderForm\n    });\n  }).done(() => {\n    (0,_functions__WEBPACK_IMPORTED_MODULE_4__.clearLoaders)();\n  });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getAddresses);\n\n//# sourceURL=webpack://custom-shipping-step-by-items/./src/utils/services.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/checkout6-custom.js");
/******/ 	
/******/ })()
;