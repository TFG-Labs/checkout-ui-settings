(()=>{"use strict";const e=window.location.host.includes("bash.com")?"https://store-api.www.bash.com/custom-api/":`${window.location.protocol}//${window.location.host}/custom-api/`,s=()=>window.vtexjs.checkout.orderForm?.shippingData?.address?.complement||window.vtexjs.checkout.orderForm?.clientProfileData?.phone||document?.getElementById("client-phone")?.value,a=()=>{$(".shimmer").removeClass("shimmer")},n=({name:e,options:s=[]})=>`\n  \n  <div class="bash--radio-options">\n  ${s.map((({value:s,label:a,checked:n=!1,disabled:t=!1})=>`\n      <label class="bash--radio-option" id="radio-label-${e}-${s}">\n        <input type="radio" \n          ${n?"checked='checked'":""} \n          ${t?"disabled='disabled'":""} \n          value="${s??""}" \n          name="${e}" \n          id="radio-${e}-${s}"\n        />\n          <span class="radio-icon"></span> \n          ${a?`<span class="radio-label">${a}</span>`:""}\n      </label>\n    `)).join("")}\n   \n  </div>\n  `,t=e=>{switch(e){case"Select":return"";case"Western Cape":return"WC";case"Easter Cape":return"EC";case"Gauteng":return"GP";case"KwaZulu-Natal":case"KwaZulu Natal":return"KZN";case"Northern Cape":return"NC";case"Limpopo":return"LP";case"Mpumalanga":return"MP";case"North West":return"NW";case"Freestate":case"Free State":return"FS";default:return e}},d=e=>{console.info("populateAddressForm",{address:e});const{street:s,neighborhood:a,postalCode:n,state:d,city:o,receiverName:r,complement:i,id:l,addressName:c}=e;document.getElementById("bash--address-form").reset(),r&&(document.getElementById("bash--input-receiverName").value=r),i&&(document.getElementById("bash--input-complement").value=i),l&&(document.getElementById("bash--input-addressId").value=l),l&&(document.getElementById("bash--input-addressName").value=c),document.getElementById("bash--input-number").value="",document.getElementById("bash--input-street").value=s,document.getElementById("bash--input-neighborhood").value=a,document.getElementById("bash--input-city").value=o,document.getElementById("bash--input-postalCode").value=n,document.getElementById("bash--input-state").value=t(d)},o=e=>{const{isValid:s,invalidFields:n}=(e=>{let s=[];const a=[];s=["receiverName","complement","street","neighborhood","state","city","country","postalCode"];for(let n=0;n<s.length;n++)e[s[n]]||a.push(s[n]);return{isValid:!a.length,invalidFields:a}})(e);if(!s)return console.info("setAddress",{address:e,isValid:s,invalidFields:n}),d(e),$("#bash--address-form").addClass("show-form-errors"),$(`#bash--input-${n[0]}`).focus(),void window.postMessage({action:"setDeliveryView",view:"address-form"});"business"===e.addressType&&(e.addressType="commercial"),["residential","inStore","commercial","giftRegistry","pickup","search"].includes(e.addressType)||(e.addressType="residential");const{shippingData:t}=window?.vtexjs?.checkout?.orderForm;t.address=e,t.address.number=t.address.number??" ",t.selectedAddresses=[e],document.querySelector(".bash--delivery-container").classList.add("shimmer"),window.vtexjs.checkout.sendAttachment("shippingData",t).then((e=>{console.info("setAddress",{result:e})})).done((()=>a()))},r=async e=>{e.preventDefault();const s=document.forms["bash--address-form"],a=["addressId","addressName","addressType","receiverName","postalCode","city","state","country","street","neighborhood","complement"],n={isDisposable:!1,reference:null,geoCoordinates:[],number:"",country:"ZAF"};for(let e=0;e<a.length;e++)n[a[e]]=s[a[e]]?.value||null;n.addressName=n.addressName||n.addressId,n.addressId=n.addressId||n.addressName;const t=await o(n),d=await p(n);console.info({savedAddress:d,checkoutAddress:t}),window.postMessage({action:"setDeliveryView",view:"select-address"})},i=()=>{const{receiverName:e}=window.vtexjs.checkout.orderForm?.shippingData?.address,{firstName:s,lastName:a}=window.vtexjs.checkout.orderForm?.clientProfileData,n=`${s??""} ${a??""}`.trim();return e||document.getElementById("client-first-name")?.value||n},l=(e,s)=>JSON.stringify({street:e.street,neighborhood:e.neighborhood,city:e.city,postalCode:e.postalCode})===JSON.stringify({street:s.street,neighborhood:s.neighborhood,city:s.city,postalCode:s.postalCode}),c=e=>{const{number:s,street:a,neighborhood:t,postalCode:d,city:o,receiverName:r,complement:i,id:c}=e,u=[`${s??""} ${a}`,t??o,d].join(", "),h=[r,i].join(" - "),{address:m}=window?.vtexjs?.checkout?.orderForm?.shippingData,p=encodeURIComponent(JSON.stringify(e));return console.info("AddressListing",{address:e}),`\n<label id="address-${c}" class="bash--address-listing" data-address="${p}">\n  <div class="address-radio">\n  ${n({name:"selected-address",options:[{checked:l(e,m),value:c}]})}\n  </div>\n  <div class="address-text">\n    <div>${u}</div>    \n    <div>${h}</div>  \n  </div>\n  <div class="address-edit">\n    <a href="#" data-view="address-form" data-content="address-${c}">\n      Edit\n    </a>\n  </div>\n</label>\n`},u=e=>{throw console.error("ERROR",e),new Error(e)},h=({cookie:e,cache:s,json:a})=>{const n=new Headers;return e&&n.append("Cookie",document?.cookie),s&&n.append("Cache-Control","no-cache"),a&&n.append("Content-type","application/json"),n},m=new class{constructor(){this.indexedDB=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB||window.shimIndexedDB,this.checkoutDB=indexedDB.open("checkoutDB",1.1),this.checkoutDB.onerror=e=>{throw console.error("CheckoutDB Error",{event:e}),new Error("Could not load checkoutDB")},this.checkoutDB.onupgradeneeded=()=>{const e=this.checkoutDB.result.createObjectStore("addresses",{keyPath:"addressName"});e.createIndex("address_street",["street"],{unique:!1}),e.createIndex("address_addressName",["addressName"],{unique:!0})},this.checkoutDB.onsuccess=()=>{const e=this.checkoutDB.result.transaction("addresses","readwrite");this.addresses=e.objectStore("addresses"),e.oncomplete=()=>{}}}store(){return this.checkoutDB.result.transaction("addresses","readwrite").objectStore("addresses")}loadAddresses(e){const s=[];return console.info("loadAddresses",{addresses:e}),Promise.all(e.map((e=>this.addOrUpdateAddress(e)))).then((e=>{console.info({loadedAddress:e,queries:s})}))}addOrUpdateAddress(e){console.info("addOrUpdateAddress",{address:e});const s=this;return new Promise(((a,n)=>{const t=s.store().put(e);t.onsuccess=()=>{console.info("addOrUpdateAddress success"),a(t.result)},t.onerror=()=>{console.error("Something wrong with addOrUpdateAddress ? ..."),n(new Error("Address could not be stored locally"))}}))}getAddresses(){const e=this;return new Promise((s=>{const a=e.store().getAll();a.onsuccess=()=>{console.info("getAddresses success"),s(a.result)},a.onerror=()=>{console.error("Something wrong with getAddresses ? ..."),s([])}}))}getAddress(e){const s=this.addresses.get(e);s.onsuccess=()=>(console.info("getAddress",s.result),s.result)}deleteAddress(e){const s=this.addresses.delete(e);s.onsuccess=()=>(console.info("deleteAddress",s.result),s.result)}dropDB(){this.indexedDB.deleteDatabase("checkoutDB")}},p=async a=>{a.id=a.id||a.addressId,m.addOrUpdateAddress(a).then((()=>(e=>{let s=$(`#address-${e.addressName}`);s.after(c(e)),s.remove(),s=null})(a))),(async a=>{let n;const{email:t}=window.vtexjs.checkout.orderForm.clientProfileData;if(!a)return Promise.reject(new Error("No address provided."));console.info({address:a});const d=a.addressName?await(async(s,a)=>{let n={};const t={headers:h({cookie:!0,cache:!0,json:!1}),credentials:"include"},d=await fetch(`${e}masterdata/addresses/?_fields=id&_where=addressName=${s}&timestamp=${Date.now()}`,t).then((e=>e.json())).catch((e=>u(`GET_ADDRESS_ERROR: ${e?.message}`)));return d&&!d.error&&d.data&&d.data.length>0&&([n]=d.data),n})(a.addressName):{};console.info({savedAddress:d}),n=d?.id?`${e}masterdata/address/${d.id}`:`${e}masterdata/addresses`,a.complement=a.complement||s();const o={userId:t,...a};d.id||(o.addressName=a.addressId||`address-${Date.now()}`),console.info({newAddress:o});const r={method:"PATCH",headers:h({cookie:!0,cache:!0,json:!0}),body:JSON.stringify(o),credentials:"include"};await fetch(n,r).then((e=>(console.info({res:e,status:e.status}),204!==e.status?e.json():e))).then((e=>(console.info({result:e}),e))).catch((e=>u(`SAVE_ADDRESS_ERROR: ${e?.message}`)))})(a)},v=()=>((async()=>{const s=await m.getAddresses();if(s.length>0)return{data:s};const{email:a}=window.vtexjs.checkout.orderForm?.clientProfileData,n=["id","addressType","addressQuery","addressName","reference","number","geolocation","receiverName","complement","companyBuilding","street","neighborhood","city","postalCode","state","country","buildingType","parkingDistance","deliveryFloor","liftOrStairs","hasSufficientSpace","assembleFurniture","tvID"].join(","),t={headers:h({cookie:!0,cache:!0,json:!1}),credentials:"include"},d=Date.now();return fetch(`${e}masterdata/addresses?t=${d}&_fields=${n}&_where=${encodeURIComponent(`userIdQuery=${a}`)}`,t).then((e=>e.json())).then((e=>(console.info(e),e.data&&m.loadAddresses(e.data),e))).catch((e=>u(`GET_ADDRESSES_ERROR: ${e?.message}`)))})().then((({data:e})=>{const s=e.map((e=>c(e)));document.getElementById("bash-address-list").innerHTML=s.join(""),a()})).catch((e=>{throw console.error("ERROR getAddresses",e),new Error("Error getAddresses",e.message)})),'\n <div class="bash--addresses shimmer" id="bash-address-list">\n    Loading addresses...\n  </div>  \n  '),b=({label:e,name:s,value:a="",required:t=!0,type:d="text",placeholder:o,autoComplete:r="on",maxLength:i,minlength:l,disabled:c=!1,options:u,checked:h,error:m="This field is required."})=>{const p=s.replace(/\s/g,"-");return`\n<p class="input bash--${d}field-${s.replace(/\s/g,"-")} bash--${d} ${t?"required":"optional"}">\n  ${e?`<label id="bash--label-${p}" for="bash--input-${p}">${e}</label>`:""}\n ${(()=>{switch(d){case"radio":return n({name:s,options:u});case"dropdown":return(({name:e,disabled:s=!1,options:a,required:n})=>{const t=a.find((e=>!0===e.selected));return`\n  <select \n    name="${e}" \n    ${n?" required ":""} \n    ${s?" disabled ":""} \n    id="bash--input-${e}" \n    class="input-large" \n  >\n  ${a.map((({value:e,label:s,selected:a},n)=>`\n    <option \n    ${0===n?" disabled ":""}\n    ${0!==n||t?"":" selected "}\n    ${a?" selected ":""}\n      value="${e}" \n    >${s}</option>\n    `)).join("")}\n  </select>\n  `})({name:s,disabled:c,options:u,required:t});case"note":return(({value:e,name:s})=>`\n  <div class="bash--note-field ${s}">\n  ${e}\n  </div>\n  `)({name:s,value:a});case"checkbox":return(({name:e,label:s,checked:a})=>`\n  <label class="tfg-checkbox-label">${s}</label>\n  <p class="tfg-custom-checkbox">\n      <input type='checkbox' id="tfg-rica-same-address" ${a?"checked='checked'":""}/>\n      <span class="tfg-checkbox-text">${e}</span>\n  </p>\n  `)({name:s,label:e,checked:h});default:return(({name:e,value:s="",required:a=!0,type:n="text",placeholder:t,autoComplete:d="on",minLength:o=0,maxLength:r=0})=>`\n  <input \n    ${a?" required ":""}\n    autocomplete="${d}" \n    id="bash--input-${e.replace(/\s/g,"-")}" \n    type="${n}" \n    name="${e}" \n    ${o>0?`minlength="${o}"`:""}\n    ${r>0?`maxlength="${r}"`:""}\n    placeholder="${t??""}" \n    class="input-xlarge" \n    value="${s}" \n  />\n`)({name:s,value:a,required:t,type:d,placeholder:o,autoComplete:r,maxLength:i,minlength:l})}})()}\n  ${t?`<span class="bash--field-error">${m}</span>`:""}\n\n</p>  \n`},g=()=>(setTimeout((()=>{(()=>{const e=document.getElementById("bash--input-address-search"),s=new window.google.maps.places.Autocomplete(e,{componentRestrictions:{country:"ZA"}});window.google.maps.event.addListener(s,"place_changed",(()=>{const e=s.getPlace(),{address_components:a,geometry:n}=e;(e=>{const{street:s,neighborhood:a,postalCode:n,state:d,city:o}=e;document.getElementById("bash--address-form").reset(),document.getElementById("bash--input-number").value="",document.getElementById("bash--input-street").value=s,document.getElementById("bash--input-neighborhood").value=a,document.getElementById("bash--input-city").value=o,document.getElementById("bash--input-postalCode").value=n,document.getElementById("bash--input-state").value=t(d)})(((e,s)=>{const a=e.find((e=>e.types.includes("street_number")))?.long_name,n=e.find((e=>e.types.includes("route")))?.long_name,t=e.find((e=>e.types.includes("sublocality")))?.long_name,d=e.find((e=>e.types.includes("locality")))?.long_name,o=e.find((e=>e.types.includes("postal_code")))?.long_name,r=e.find((e=>e.types.includes("administrative_area_level_1")))?.long_name,i={lat:"",lng:""};return s&&(i.lat=s.location.lat(),i.lng=s.location.lng()),{street:`${a??""} ${n??""}`.trim(),neighborhood:t,city:d,postalCode:o,state:r,...i}})(a,n)),window.postMessage({action:"setDeliveryView",view:"address-form"})}))})()}),500),b({label:"Add a new address",name:"address-search",placeholder:"Start typing an address...",autoComplete:"off"})),y=({hasFurn:e})=>`\n  <div class="bash--delivery-container" data-view="select-address">\n  \n    <section class="bash--delivery-view" data-section="select-address">\n    <div class="bash--heading">\n        <h2>Delivery address</h2>\n        <a href="#" data-view="address-search">Add address</a>\n      </div>\n      ${v()}\n    </section>\n\n    <section class="bash--delivery-view" data-section="address-search">\n      <div class="bash--heading">\n        <h2>Add a new delivery address</h2>\n        <a href="#" data-view="select-address">&lt; Back</a>\n      </div>\n      ${g()} \n    </section>\n    \n    <section class="bash--delivery-view" data-section="address-form">\n      <div class="bash--heading">\n        <h2>Complete address</h2>\n        <a href="#" data-view="address-search">&lt; Back</a>\n      </div>\n      \n  <form id="bash--address-form" method="post">\n    ${[{name:"addressId",type:"hidden",value:"",required:!1},{name:"addressName",type:"hidden",value:"",required:!1},{name:"street",label:"Street address",required:!0,value:""},{name:"addressType",label:"Address type",required:!0,type:"radio",options:[{value:"residential",label:"Residential",checked:!0},{value:"business",label:"Business"}]},{name:"number",label:"Building/Complex and number",required:!1,value:""},{name:"neighborhood",label:"Suburb",value:""},{name:"city",label:"City",required:!0,value:""},{name:"postalCode",label:"Postal code",value:"",type:"tel",minlength:4,maxLength:4},{type:"note",required:!1,name:"suburb-postal-reminder",value:"Make sure to specify the correct Suburb and Postal code so we can easily find your address."},{name:"state",label:"Province",type:"dropdown",options:[{value:"",label:"Select"},{value:"EC",label:"Eastern Cape"},{value:"FS",label:"Free State"},{value:"GP",label:"Gauteng"},{value:"KZN",label:"KwaZulu-Natal"},{value:"LP",label:"Limpopo"},{value:"MP",label:"Mpumalanga"},{value:"NC",label:"Northern Cape"},{value:"NW",label:"North West"},{value:"WC",label:"Western Cape"}]},{type:"note",required:!1,name:"country-display",label:"Country",value:"South Africa"},{type:"hidden",required:!0,name:"country",value:"ZAF"},{name:"receiverName",label:"Recipient’s name",required:!0,value:i()},{name:"complement",label:"Recipient’s mobile number",required:!0,value:s(),type:"tel",helperText:"We send shipping updates to this number."}].map((e=>b(e))).join("")}\n\n    <button \n      class="submit btn-go-to-payment btn btn-large btn-success"\n      id="btn-save-address" \n      type="submit"\n    >\n      Save address\n    </button>\n  </form>\n  \n  \n    </section>\n\n    <section class="shipping-method" data-section="delivery-options">\n      <hr>\n      <div class="shipping-section-title">\n        <h2>Delivery options</h2>\n        ${e?'\n<a \n  href="http://image.tfgmedia.co.za/image/1/process/500x790?source=http://cdn.tfgmedia.co.za/15/Marketing/HTMLPages/Furniture_Delivery_Fees_tab_image.jpg"\n  class="furniture-fees-link" \n  target="_blank"\n>\n  Furniture delivery costs\n</a>\n':"<div></div>"}\n      </div>\n    </section>\n\n    <section class="bash--delivery-view" data-section="complete-address">\n      <h2>Complete address</h2>\n      <a href="#" data-view="select-address">&lt; Back</a>\n    </section>\n\n    <section class="bash--delivery-view" data-section="edit-address">\n      <h2>Edit address</h2>\n      <a href="#" data-view="select-address">&lt; Back</a>\n    </section>\n    \n  </div>`,f={buildingType:[{value:"",label:"Select"},{value:"freeStanding",label:"Free standing"},{value:"houseInComplex",label:"House in complex"},{value:"townhouse",label:"Townhouse"},{value:"apartment",label:"Apartment"}],parkingDistance:[{value:15,label:15},{value:25,label:25},{value:50,label:50},{value:100,label:100}],deliveryFloor:[{value:"ground",label:"Ground"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3+",label:"3+"}],liftStairs:[{value:"lift",label:"Lift"},{value:"stairs",label:"Stairs"}]},w=({hasFurn:e,hasTV:s,hasSim:a})=>{const n=`\n    <div id="furniture-form">\n      <hr>\n      <div class="bash--heading">\n        <h3>Furniture information needed</h3>\n      </div>\n      <p class="tfg-custom-subtitle">\n        We need some more information to prepare delivery of your furniture items to your address.\n        <br>\n        <br>\n        Please ensure sufficient space to receive the goods and keep in mind \n        that our couriers aren't able to hoist goods onto balconies.\n      </p>\n      ${(()=>{const{buildingType:e,parkingDistance:s,deliveryFloor:a,liftStairs:n}=f;return`\n  <form id="bash--address-form" method="post">\n    ${[{name:"buildingType",label:"Building Type",required:!0,type:"dropdown",options:e},{name:"parkingDistance",label:"Parking Distance",required:!0,type:"dropdown",options:s},{name:"deliveryFloor",label:"Delivery Floor",required:!0,type:"dropdown",options:a},{name:"liftStairs",label:"Lift or Stairs",required:!0,type:"dropdown",options:n},{name:"Is there sufficent corner/passage door space?",label:"",type:"checkbox",checked:!1},{name:"Would you like us to assemble your furniture items?",label:"",type:"checkbox",checked:!1}].map((e=>b(e))).join("")}\n  </form>\n  `})()}\n    </div>\n  `,t=`\n    <div id="tv-license-form">\n      <hr>\n      <div class="bash--heading">\n        <h3>TV license information needed</h3>\n        <p class="tfg-custom-subtitle">Please provide your ID number to validate your TV Licence.</p>\n      </div>\n      \n  <form id="bash--address-form" method="post">\n    ${b({name:"tvLicense",label:"SA ID number",required:!0,value:""})}\n  </form>\n  \n    </div>\n  `,d=`\n    <div id="rica-form">\n      <hr>\n      <div class="bash--heading">\n        <h3>Rica information required</h3>\n        <p class="tfg-custom-subtitle">\n          To RICA your SIM card, provide your SA ID (or foreign passport) number and your address as\n          it appears on a valid proof of residence.\n        </p>\n      </div>\n        ${(()=>{const{shippingData:{selectedAddress:e}}=window.vtexjs.checkout.orderForm;return`\n  <form id="bash--address-form" method="post">\n    ${[{name:"ricaIdPassport",label:"ID or Passport number",required:!0,value:""},{name:"Residential address the same as delivery address",label:"Proof of residential address",type:"checkbox",checked:!0},{name:"nameAndSurname",label:"Full name and surname",required:!0,value:e?.receiverName||""},{name:"street",label:"Street address",required:!0,value:e?.street||""},{name:"neighborhood",label:"Suburb",value:e?.neighborhood||""},{name:"city",label:"City",required:!0,value:e?.city||""},{name:"postalCode",label:"Postal code",value:e?.postalCode||"",type:"tel",minlength:4,maxLength:4},{name:"state",label:"Province",type:"dropdown",options:[{value:"",label:"Select"},{value:"EC",label:"Eastern Cape"},{value:"FS",label:"Free State"},{value:"GP",label:"Gauteng"},{value:"KZN",label:"KwaZulu-Natal"},{value:"LP",label:"Limpopo"},{value:"MP",label:"Mpumalanga"},{value:"NC",label:"Northern Cape"},{value:"NW",label:"North West"},{value:"WC",label:"Western Cape"}]},{name:"country",label:"Country",type:"dropdown",disabled:!0,options:[{value:"ZAF",label:"South Africa"}]}].map((e=>b(e))).join("")}\n  </form>\n  \n  `})()}\n    </div>\n    `;return`\n  <section class="bash--extra-fields" data-section="delivery-options">\n    ${e?n:"<div></div>"}\n    ${s?t:"<div></div>"}\n    ${a?d:"<div></div>"}\n  </section>`};(()=>{const e={view:"list",hasFurn:!1,hasTVs:!1,hasSim:!1},s=()=>{if(!$("#bash--deliver-container").length){if(window.vtexjs.checkout.orderForm){const{items:s}=window.vtexjs.checkout.orderForm,{hasFurniture:a,hasTVs:n,hasSimCards:t}=(e=>{const s=["1169288799"],a=["938942995"],n=["24833302"],t=[];let d=!1,o=!1,r=!1;return e.forEach((e=>{const i=e.productCategoryIds.split("/");t.push(i),i.forEach((e=>{e&&(a.includes(e)&&(d=!0),n.includes(e)&&(o=!0),s.includes(e)&&(r=!0))}))})),{hasFurniture:r,hasSimCards:o,hasTVs:d,categories:t}})(s);e.hasFurn=a,e.hasTVs=n,e.hasSim=t}$("#postalCode-finished-loading").after(y({hasFurn:e.hasFurn})),(e.hasFurn||e.hasSim||e.hasTVs)&&$("div.bash--delivery-container > section.shipping-method").before(w({hasFurn:e.hasFurn,hasSim:e.hasSim,hasTV:e.hasTVs})),$("#delivery-packages-options").clone().appendTo(".shipping-method"),$("select, input").off("invalid"),$("select, input").on("invalid",(function(){$(this[0]).parents("form").addClass("show-form-errors"),$(this)[0].setCustomValidity(" ")})).on("change keyUp",(function(){$(this)[0].setCustomValidity("")}))}};return $(window).on("hashchange",(()=>{"#/shipping"===window.location.hash&&(console.info("Hash change"),s())})),$(document).on("click","a[data-view]",(function(e){e.preventDefault();const s=$(this).data("view"),a=decodeURIComponent($(this).data("content"));window.postMessage({action:"setDeliveryView",view:s,content:a})})),$(document).on("change",'input[type="radio"][name="selected-address"]',(function(){const e=(s=$(`#address-${this.value}`).data("address"),JSON.parse(decodeURIComponent(s)));var s;o(e)})),$(document).on("submit","#bash--address-form",r),window.addEventListener("message",(e=>{const{data:s}=e;if(s&&s.action)if("setDeliveryView"===s.action){if(document.querySelector(".bash--delivery-container").setAttribute("data-view",s.view),"address-form"===s.view&&s.content){const e=JSON.parse(decodeURIComponent($(`#${s.content}`).data("address")));d(e)}}else console.error("Unknown action",s.action)})),{state:e,init:()=>{}}})().init()})();